<nz-space class="toolbar">
  <button
    *nzSpaceItem
    nz-button
    nzType="primary"

    (click)="refresh()"
  >
    <span nz-icon nzType="reload"></span>
    刷新
  </button>

  <div *nzSpaceItem class="search">
    <nz-input-group nzSearch [nzAddOnAfter]="suffixButton">
      <input
        [(ngModel)]="value"
        type="text"
        nz-input
        placeholder="请输入关键字"
      />
    </nz-input-group>
    <ng-template #suffixButton>
      <button
        nz-button
        nzType="primary"

        nzSearch
        (click)="search()"
      >
        搜索
      </button>
    </ng-template>
  </div>

  <div *nzSpaceItem>
    <div *ngIf="!ref">
      <button
        nz-button
        nzType="primary"

        nzShape="round"
        routerLink="create"
      >
        <span nz-icon nzType="plus"></span>
        新建
      </button>
    </div>
  </div>
</nz-space>

<nz-table #table [nzData]="products" [nzFrontPagination]="false">
  <thead>
  <tr>
    <th>ID</th>
    <th>名称</th>
    <th>版本</th>
    <th>创建时间</th>
    <th>操作</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let data of products">
    <td>{{ data.id }}</td>
    <td>{{ data.name }}</td>
    <td>{{ data.version }}</td>
    <td>{{ data.created| date }}</td>
    <td *ngIf="!ref">
      <nz-space>
        <a *nzSpaceItem title="打开" [routerLink]="data.id"><i nz-icon nzType="eye"></i></a>
        <a *nzSpaceItem title="编辑" [routerLink]="data.id+'/edit'"><i nz-icon nzType="edit"></i></a>
        <a *nzSpaceItem title="删除" nz-popconfirm nzPopconfirmTitle="确认删除" (nzOnConfirm)="delete(data.id)"><i
          nz-icon nzType="delete"></i></a>
      </nz-space>
    </td>
    <td *ngIf="ref">
      <a title="选择" (click)="select(data)">选择 </a>
    </td>
  </tr>
  </tbody>
</nz-table>

<div class="pages">
  <nz-pagination
    [nzPageIndex]="nzPageIndex"
    [nzPageSize]="nzPageSize"
    [nzTotal]="total"
    nzShowSizeChanger
    nzShowQuickJumper
    (nzPageIndexChange)="nzPageIndexChange($event)"
    (nzPageSizeChange)="nzPageSizeChange($event)"
  ></nz-pagination>
</div>
