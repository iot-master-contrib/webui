<nz-space class="toolbar">
  <button *nzSpaceItem nz-button nzType="primary" (click)="refresh()">
    <span nz-icon nzType="reload"></span>
    刷新
  </button>

  <div *nzSpaceItem class="search">
    <nz-input-group nzSearch [nzAddOnAfter]="suffixButton">
      <input [(ngModel)]="value" nz-input placeholder="请输入关键字"/>
    </nz-input-group>
    <ng-template #suffixButton>
      <button nz-button nzType="primary" nzSearch (click)="search()">
        搜索
      </button>
    </ng-template>
  </div>

  <div *nzSpaceItem>
    <button nz-button nzType="primary" nzShape="round" routerLink="create">
      <span nz-icon nzType="plus"></span>
      新建
    </button>
  </div>
</nz-space>

<nz-table class="table" #basicTable [nzData]="users">
  <thead>
  <tr>
    <th nzColumnKey="id" [nzSortFn]="true">ID</th>
    <th nzColumnKey="name">姓名</th>
    <th nzColumnKey="cellphone">手机</th>
    <th nzColumnKey="email">邮箱</th>
    <th nzColumnKey="disabled">状态</th>
    <th nzColumnKey="created" [nzSortFn]="true">日期</th>
    <th>操作</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let data of users">
    <td><a [routerLink]="data.id">{{ data.id }}</a></td>
    <td>{{ data.name }}</td>
    <td>{{ data.cellphone }}</td>
    <td>{{ data.email }}</td>
    <td>
      <nz-tag nzColor="error" *ngIf="data.disabled"> 禁用</nz-tag>
      <nz-tag nzColor="success" *ngIf="!data.disabled"> 启用</nz-tag>
    </td>
    <td>{{ data.created | date }}</td>
    <td>
      <nz-space *ngIf="!ref">
        <a *nzSpaceItem title="编辑" [routerLink]="data.id+'/edit'"><i nz-icon nzType="edit"></i></a>
        <a *nzSpaceItem title="删除" nz-popconfirm nzPopconfirmTitle="确认删除" (nzOnConfirm)="delete(data.id)"><i
          nz-icon nzType="delete"></i></a>
      </nz-space>
      <a *ngIf="ref" title="选择" (click)="select(data)">选择</a>
    </td>
  </tr>
  </tbody>
</nz-table>

<div class="pages">
  <nz-pagination
    [nzPageIndex]="pageIndex"
    [nzPageSize]="pageSize"
    [nzTotal]="total"
    nzShowSizeChanger
    nzShowQuickJumper
    (nzPageIndexChange)="pageIndexChange($event)"
    (nzPageSizeChange)="pageSizeChange($event)"
  ></nz-pagination>
</div>
