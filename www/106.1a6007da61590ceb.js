(self.webpackChunkwebui=self.webpackChunkwebui||[]).push([[106],{3217:(Y,N,n)=>{"use strict";n.d(N,{t:()=>r});var t=n(4438),C=n(4341),d=n(1011),y=n(513),m=n(9233),j=n(3053),_=n(9169);let r=(()=>{class p{constructor(s,l){this.ms=s,this.rs=l,this.id="",this.product={},this.placeholder=""}ngOnInit(){}registerOnChange(s){this.onChange=s}registerOnTouched(s){}writeValue(s){this.id!==s&&(this.id=s,this.id&&this.load())}load(){console.log("load product",this.id),this.rs.get("product/"+this.id).subscribe(s=>{s.data&&(this.product=s.data)})}select(){this.ms.create({nzTitle:"\u9009\u62e9",nzContent:m.q}).afterClose.subscribe(s=>{console.log(s),s&&(this.product=s,this.id=s.id,this.onChange(this.id))})}change(s){console.log("on change",s),this.id=s,this.onChange(s),this.load()}static#t=this.\u0275fac=function(l){return new(l||p)(t.rXU(j.N_),t.rXU(_.By))};static#e=this.\u0275cmp=t.VBU({type:p,selectors:[["app-input-product"]],inputs:{placeholder:"placeholder"},standalone:!0,features:[t.Jv_([{provide:C.kq,useExisting:(0,t.Rfq)(()=>p),multi:!0}]),t.aNF],decls:5,vars:3,consts:[["box",""],["nz-input","",3,"change","placeholder","value"],["type","button","nz-button","",3,"click"]],template:function(l,u){if(1&l){const v=t.RV6();t.j41(0,"input",1,0),t.bIt("change",function(){t.eBV(v);const L=t.sdS(1);return t.Njj(u.change(L.value))}),t.k0s(),t.j41(2,"button",2),t.bIt("click",function(){return t.eBV(v),t.Njj(u.select())}),t.EFF(3,"\u9009\u62e9"),t.k0s(),t.EFF(4)}2&l&&(t.Y8G("placeholder",u.placeholder)("value",u.id),t.R7$(4),t.SpI("\n",u.product.name,"\n"))},dependencies:[d.Sy,y.aO]})}return p})()},3597:(Y,N,n)=>{"use strict";n.d(N,{d:()=>r});var t=n(4438),C=n(4341),d=n(1011),y=n(513),m=n(9635),j=n(3053),_=n(9169);let r=(()=>{class p{constructor(s,l){this.ms=s,this.rs=l,this.id="",this.project={},this.placeholder="",this.disabled=!1}ngOnInit(){}registerOnChange(s){this.onChange=s}registerOnTouched(s){}writeValue(s){this.id!==s&&(this.id=s,this.id&&this.load())}setDisabledState(s){this.disabled=s}load(){console.log("load project",this.id),this.rs.get("project/"+this.id).subscribe(s=>{s.data&&(this.project=s.data)})}select(){this.ms.create({nzTitle:"\u9009\u62e9",nzContent:m.E}).afterClose.subscribe(s=>{console.log(s),s&&(this.project=s,this.id=s.id,this.onChange(this.id))})}change(s){console.log("on change",s),this.id=s,this.onChange(s),this.load()}static#t=this.\u0275fac=function(l){return new(l||p)(t.rXU(j.N_),t.rXU(_.By))};static#e=this.\u0275cmp=t.VBU({type:p,selectors:[["app-input-project"]],inputs:{placeholder:"placeholder"},standalone:!0,features:[t.Jv_([{provide:C.kq,useExisting:(0,t.Rfq)(()=>p),multi:!0}]),t.aNF],decls:5,vars:5,consts:[["box",""],["nz-input","",3,"change","placeholder","value","disabled"],["type","button","nz-button","",3,"click","disabled"]],template:function(l,u){if(1&l){const v=t.RV6();t.j41(0,"input",1,0),t.bIt("change",function(){t.eBV(v);const L=t.sdS(1);return t.Njj(u.change(L.value))}),t.k0s(),t.j41(2,"button",2),t.bIt("click",function(){return t.eBV(v),t.Njj(u.select())}),t.EFF(3,"\u9009\u62e9"),t.k0s(),t.EFF(4)}2&l&&(t.Y8G("placeholder",u.placeholder)("value",u.id)("disabled",u.disabled),t.R7$(2),t.Y8G("disabled",u.disabled),t.R7$(2),t.SpI("\n",u.project.name,"\n"))},dependencies:[d.Sy,y.aO]})}return p})()},3075:(Y,N,n)=>{"use strict";n.d(N,{L:()=>v});var t=n(9635),C=n(8238),d=n(4658),y=n(9233),m=n(2582),j=n(4116),_=n(6629),r=n(5090),p=n(4438),c=n(345),s=n(6530),l=n(3053);const u=["iframe"];let v=(()=>{class A{set url(x){this.src=this.ds.bypassSecurityTrustResourceUrl(x),console.log("iframe url",x)}onMessage(x){let M;const o=JSON.parse(x);switch(o.type){case"select_product":M=this.ms.create({nzTitle:"\u9009\u62e9\u4ea7\u54c1",nzContent:y.q,nzData:o.data});break;case"select_gateway":M=this.ms.create({nzTitle:"\u9009\u62e9\u7f51\u5173",nzContent:C.V,nzData:o.data});break;case"select_device":M=this.ms.create({nzTitle:"\u9009\u62e9\u8bbe\u5907",nzContent:d.D,nzData:o.data});break;case"select_project":M=this.ms.create({nzTitle:"\u9009\u62e9\u9879\u76ee",nzContent:t.E,nzData:o.data});break;case"select_project_user":M=this.ms.create({nzTitle:"\u9009\u62e9\u9879\u76ee\u7528\u6237",nzContent:_.m,nzData:o.data});break;case"select_space":M=this.ms.create({nzTitle:"\u9009\u62e9\u7a7a\u95f4",nzContent:m.V,nzData:o.data});break;case"select_space_device":M=this.ms.create({nzTitle:"\u9009\u62e9\u7a7a\u95f4\u8bbe\u5907",nzContent:r.q,nzData:o.data});break;case"select_user":M=this.ms.create({nzTitle:"\u9009\u62e9\u7528\u6237",nzContent:j.C,nzData:o.data});break;default:return}M.afterClose.subscribe(V=>{if(V){let w=JSON.stringify({type:o.type,data:V});this.iframe.nativeElement.postMessage(w)}})}constructor(x,M,o){this.ds=x,this.route=M,this.ms=o}ngOnInit(){this.route.queryParams.subscribe(x=>{x.hasOwnProperty("url")&&(this.url=x.url)})}ngOnDestroy(){}onLoad(){try{const x=this.iframe.nativeElement;x.height=`${(x.contentDocument||x.contentWindow.document).body.scrollHeight}px`,console.log("iframe onload",x.height)}catch(x){console.log("iframe onload",x)}}static#t=this.\u0275fac=function(M){return new(M||A)(p.rXU(c.up),p.rXU(s.nX),p.rXU(l.N_))};static#e=this.\u0275cmp=p.VBU({type:A,selectors:[["app-web-view"]],viewQuery:function(M,o){if(1&M&&p.GBs(u,5),2&M){let V;p.mGM(V=p.lsd())&&(o.iframe=V.first)}},hostBindings:function(M,o){1&M&&p.bIt("message",function(w){return o.onMessage(w)},!1,p.tSv)},inputs:{url:"url"},standalone:!0,features:[p.aNF],decls:2,vars:1,consts:[["iframe",""],[3,"load","src"]],template:function(M,o){if(1&M){const V=p.RV6();p.j41(0,"iframe",1,0),p.bIt("load",function(){return p.eBV(V),p.Njj(o.onLoad())}),p.k0s()}2&M&&p.Y8G("src",o.src,p.f$h)},styles:["[_nghost-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}"]})}return A})()},7203:(Y,N,n)=>{"use strict";n.d(N,{l:()=>j});var t=n(9169),C=n(576),d=n(4438),y=n(6530);const m=()=>[];let j=(()=>{class _{constructor(p,c){this.route=p,this.rs=c,this.base="/admin",this.total=0,this.datum=[],this.loading=!1,this.columns=[{key:"project",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:s=>`${this.base}/project/${s.project_id}`},{key:"device",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:s=>`${this.base}/device/${s.device_id}`},{key:"level",sortable:!0,label:"\u7b49\u7ea7",keyword:!0},{key:"title",sortable:!0,label:"\u6807\u9898",keyword:!0},{key:"message",sortable:!0,label:"\u5185\u5bb9",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.operators=[{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:s=>{this.rs.get(`alarm/${s.id}/delete`).subscribe(l=>this.refresh())}}]}ngOnInit(){this.base=(0,C.X1)(this.route),this.project_id||=(0,C.pS)(this.route,"project")}refresh(){this.search(this.query)}search(p){this.project_id&&(p.filter.project_id=this.project_id),this.device_id&&(p.filter.tunnel_id=this.device_id),this.loading=!0,this.rs.post("alarm/search",p).subscribe(c=>{this.datum=c.data,this.total=c.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(c){return new(c||_)(d.rXU(y.nX),d.rXU(t.By))};static#e=this.\u0275cmp=d.VBU({type:_,selectors:[["app-alarm"]],inputs:{project_id:"project_id",device_id:"device_id"},standalone:!0,features:[d.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(c,s){1&c&&(d.j41(0,"im-smart-table",0),d.bIt("query",function(u){return s.search(u)}),d.k0s()),2&c&&d.Y8G("buttons",d.lJ4(6,m))("columns",s.columns)("operators",s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[t.B2],styles:[".toolbar[_ngcontent-%COMP%]{padding:10px 0;display:flex}.toolbar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{flex:1}.pages[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:center}"]})}return _})()},5123:(Y,N,n)=>{"use strict";n.d(N,{y:()=>m});var t=n(9169),C=n(4438),d=n(3053);const y=()=>[];let m=(()=>{class j{constructor(r,p){this.rs=r,this.ref=p,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/client/create"}],this.columns=[{key:"id",label:"ID",sortable:!0,keyword:!0,link:c=>`/admin/client/${c.id}`},{key:"name",label:"\u540d\u79f0",sortable:!0,keyword:!0},{key:"net",label:"\u7f51\u7edc",sortable:!0,keyword:!0},{key:"addr",label:"\u5730\u5740",sortable:!0,keyword:!0},{key:"port",label:"\u7aef\u53e3",sortable:!0,keyword:!0},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",sortable:!0,date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0},{key:"net",label:"\u7f51\u7edc",keyword:!0},{key:"addr",label:"\u5730\u5740",keyword:!0},{key:"port",label:"\u7aef\u53e3",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:c=>`/admin/client/${c.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:c=>{this.rs.get(`client/${c.id}/delete`).subscribe(s=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:c=>this.ref.close(c)}]}refresh(){this.search(this.query)}search(r){this.query=r,this.loading=!0,this.rs.post("client/search",r).subscribe(p=>{this.datum=p.data,this.total=p.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(p){return new(p||j)(C.rXU(t.By),C.rXU(d.J9,8))};static#e=this.\u0275cmp=C.VBU({type:j,selectors:[["app-clients"]],standalone:!0,features:[C.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(p,c){1&p&&(C.j41(0,"im-smart-table",0),C.bIt("query",function(l){return c.search(l)}),C.k0s()),2&p&&C.Y8G("buttons",c.ref?C.lJ4(6,y):c.buttons)("columns",c.ref?c.columnsSelect:c.columns)("operators",c.ref?c.operatorsSelect:c.operators)("datum",c.datum)("total",c.total)("loading",c.loading)},dependencies:[t.B2]})}return j})()},5578:(Y,N,n)=>{"use strict";n.d(N,{l:()=>X});var t=n(7685),C=n(513),d=n(177),y=n(6530),m=n(2874),j=n(5703),_=n(9169),r=n(9541),p=n(5197),c=n(2820),s=n(4341),l=n(7374),u=n.n(l),v=n(8927),A=n(1997),L=n(2047),x=n(8960),M=n(7481),o=n(4438),V=n(7094),w=n(7529);const H=()=>[10,10],I=S=>({active:S});function W(S,P){if(1&S){const E=o.RV6();o.j41(0,"nz-switch",18),o.bIt("ngModelChange",function(D){o.eBV(E);const R=o.XpG().$implicit,G=o.XpG();return o.Njj(G.valueSwitch(R.name,D))}),o.k0s()}if(2&S){const E=o.XpG().$implicit,f=o.XpG();o.Y8G("ngModel",f.values[E.name])}}function U(S,P){if(1&S){const E=o.RV6();o.j41(0,"nz-col",14)(1,"div",15)(2,"nz-statistic",16),o.bIt("click",function(){const D=o.eBV(E).$implicit,R=o.XpG();return R.actives[D.name]=!R.actives[D.name],o.Njj(R.search())}),o.k0s(),o.DNE(3,W,1,1,"nz-switch",17),o.k0s()()}if(2&S){const E=P.$implicit,f=o.XpG();o.Y8G("nzXs",12)("nzSm",8)("nzMd",6)("nzLg",4)("nzXl",3)("nzXXl",2),o.R7$(),o.Y8G("ngClass",o.eq3(11,I,f.actives[E.name])),o.R7$(),o.Y8G("nzTitle",E.label)("nzValue",f.values[E.name]||"-")("nzSuffix",E.unit),o.R7$(),o.Y8G("ngIf","bool"==E.type&&"rw"==E.mode)}}function k(S,P){if(1&S){const E=o.RV6();o.j41(0,"nz-select",19),o.bIt("nzOpenChange",function(){o.eBV(E);const D=o.XpG();return o.Njj(D.search())})("change",function(){o.eBV(E);const D=o.XpG();return o.Njj(D.search())}),o.nrm(1,"nz-option",20)(2,"nz-option",21)(3,"nz-option",22),o.k0s()}}let z=(()=>{class S{constructor(E,f,D,R,G){this.router=E,this.msg=f,this.fb=D,this.rs=R,this.route=G,this.base="/admin",this.data={},this.properties=[],this.values={},this.actives={},this.names={},this.loading=!1,this.query={},this.option={tooltip:{trigger:"axis",position:function(q){return[q[0],"10%"]}},title:{left:"center",text:"\u5386\u53f2\u66f2\u7ebf"},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"time",boundaryGap:!1},yAxis:{type:"value"},dataZoom:[{type:"inside",start:0,end:100},{start:0,end:100}],series:[]}}chartInit(E){this.chart=E}ngOnInit(){this.load(),this.loadValues(),this.group=this.fb.group({strEnd:[[u()().add(-7,"days").toDate(),u()().toDate()]],window:[1],winTp:["h"],fn:["last"]})}load(){this.rs.get(`device/${this.id}`,{}).subscribe(E=>{this.data=E.data,this.loadProperties()})}loadValues(){this.rs.get("device/"+this.id+"/values").subscribe(E=>{this.values=E.data})}loadProperties(){this.rs.get(`product/${this.data.product_id}/version/${this.data.product_version}/config/property`).subscribe(E=>{this.properties=E.data,this.properties.forEach(f=>{this.names[f.name]=f.label||f.name})})}loadHistory(E,f){this.rs.get(`device/${this.id}/history/${E}`,f).subscribe(D=>{console.log("history",D.data),this.option.series.push({name:this.names[E],type:"line",smooth:!0,symbol:"none",data:D.data?.map(R=>[R.time,R.value])}),this.chart.clear(),this.chart.setOption(this.option),console.log(this.option)})}search(){if(this.group.valid){let E=this.group.value,f={start:u()(E.strEnd[0]).toISOString(),end:u()(E.strEnd[1]).toISOString(),window:E.window?E.window+E.winTp:"1h",fn:"last"};console.log("actives",this.actives),this.option.series=[],Object.keys(this.actives).forEach(D=>{this.actives[D]&&this.loadHistory(D,f)})}else Object.values(this.group.controls).forEach(E=>{E.invalid&&(E.markAsDirty(),E.updateValueAndValidity({onlySelf:!0}))})}valueSwitch(E,f){this.rs.post("device/"+this.id+"/values",{[E]:f}).subscribe(D=>{this.msg.success("\u64cd\u4f5c\u6210\u529f")})}static#t=this.\u0275fac=function(f){return new(f||S)(o.rXU(y.Ix),o.rXU(V.xh),o.rXU(s.ok),o.rXU(_.By),o.rXU(y.nX))};static#e=this.\u0275cmp=o.VBU({type:S,selectors:[["app-device-property"]],inputs:{id:"id"},standalone:!0,features:[o.aNF],decls:21,vars:18,consts:[["addOnAfterTemplate",""],[1,"variables",3,"nzGutter"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl",4,"ngFor","ngForOf"],[1,"history"],["nz-form","",3,"formGroup"],["nz-row",""],["nz-col","",3,"nzSpan"],[3,"nzSm","nzXs"],["nzErrorTip","",3,"nzSm","nzXs"],[2,"width","100%",3,"nzAddOnAfter"],["formControlName","window",3,"change","nzStep"],["nzErrorTip","",2,"width","100%",3,"nzSm","nzXs"],["nzMode","date","formControlName","strEnd",3,"change","nzShowTime"],[1,"chart",3,"chartInit","options"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"variable",3,"ngClass"],[3,"click","nzTitle","nzValue","nzSuffix"],["nzSize","small",3,"ngModel","ngModelChange",4,"ngIf"],["nzSize","small",3,"ngModelChange","ngModel"],["formControlName","winTp",2,"width","60px",3,"nzOpenChange","change"],["nzValue","s","nzLabel","\u79d2"],["nzValue","m","nzLabel","\u5206"],["nzValue","h","nzLabel","\u65f6"]],template:function(f,D){if(1&f){const R=o.RV6();o.j41(0,"nz-row",1),o.DNE(1,U,4,13,"nz-col",2),o.k0s(),o.j41(2,"div",3)(3,"form",4)(4,"div",5)(5,"div",6)(6,"nz-form-item")(7,"nz-form-label",7),o.EFF(8,"\u7a97\u53e3\u65f6\u95f4"),o.k0s(),o.j41(9,"nz-form-control",8),o.DNE(10,k,4,0,"ng-template",null,0,o.C5r),o.j41(12,"nz-input-number-group",9)(13,"nz-input-number",10),o.bIt("change",function(){return o.eBV(R),o.Njj(D.search())}),o.k0s()()()()(),o.j41(14,"div",6)(15,"nz-form-item")(16,"nz-form-label",7),o.EFF(17,"\u8d77\u6b62\u65f6\u95f4"),o.k0s(),o.j41(18,"nz-form-control",11)(19,"nz-range-picker",12),o.bIt("change",function(){return o.eBV(R),o.Njj(D.search())}),o.k0s()()()()()(),o.j41(20,"echarts",13),o.bIt("chartInit",function(q){return o.eBV(R),o.Njj(D.chartInit(q))}),o.k0s()()}if(2&f){const R=o.sdS(11);o.Y8G("nzGutter",o.lJ4(17,H)),o.R7$(),o.Y8G("ngForOf",D.properties),o.R7$(2),o.Y8G("formGroup",D.group),o.R7$(2),o.Y8G("nzSpan",8),o.R7$(2),o.Y8G("nzSm",6)("nzXs",24),o.R7$(2),o.Y8G("nzSm",14)("nzXs",24),o.R7$(3),o.Y8G("nzAddOnAfter",R),o.R7$(),o.Y8G("nzStep",1),o.R7$(),o.Y8G("nzSpan",16),o.R7$(2),o.Y8G("nzSm",3)("nzXs",24),o.R7$(2),o.Y8G("nzSm",18)("nzXs",24),o.R7$(),o.Y8G("nzShowTime",!0),o.R7$(),o.Y8G("options",D.option)}},dependencies:[d.MD,d.YU,d.Sq,d.bT,s.X1,s.qT,s.BC,s.cb,s.j4,s.JD,v.PQ,w.Uq,w.e,v.CA,v.Ls,v.Mo,v.zS,p.IV,c.$P,A.WI,A.ld,L.g5,L.FG,x.LE,x.SN,x.vw,M.u,s.YN,s.vS],styles:["[_nghost-%COMP%]{width:100%}.variables[_ngcontent-%COMP%]{padding:10px}.variables[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]{background-color:#fff;padding:10px;cursor:pointer;border:1px solid #cccccc;border-radius:10px;transition:box-swadow .3s,border-color .3s}.variables[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]:hover, .variables[_ngcontent-%COMP%]   .variable.active[_ngcontent-%COMP%]{box-shadow:0 0 5px gray}.history[_ngcontent-%COMP%]{width:100%}.chart[_ngcontent-%COMP%]{height:300px;width:800px;min-width:400px}"]})}return S})();function b(S,P){if(1&S&&o.nrm(0,"app-device-property",6),2&S){const E=o.XpG();o.Y8G("id",E.id)}}function T(S,P){}function B(S,P){1&S&&(o.j41(0,"button",9),o.EFF(1,"\u7f16\u8f91"),o.k0s())}function O(S,P){if(1&S){const E=o.RV6();o.j41(0,"button",10),o.bIt("nzOnConfirm",function(){o.eBV(E);const D=o.XpG(2);return o.Njj(D.delete())}),o.EFF(1,"\u5220\u9664"),o.k0s()}}function F(S,P){1&S&&(o.j41(0,"nz-space"),o.DNE(1,B,2,0,"button",7)(2,O,2,0,"button",8),o.k0s())}let X=(()=>{class S{constructor(E,f,D,R){this.router=E,this.msg=f,this.rs=D,this.route=R,this.base="/admin",this.data={},this.product={},this.fields=[{key:"id",label:"ID"},{key:"name",label:"\u540d\u79f0"},{key:"product",label:"\u4ea7\u54c1",type:"link",link:()=>`${this.base}/product/${this.data.product_id}`},{key:"product_version",label:"\u7248\u672c"},{key:"project",label:"\u9879\u76ee",type:"link",link:()=>`${this.base}/project/${this.data.project_id}`},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",type:"date"},{key:"description",label:"\u8bf4\u660e",span:2}],this.values={},this.loading=!1}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.route.parent.snapshot.paramMap.get("project"),this.base=`/project/${this.project_id}`),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.loading=!0,this.rs.post("device/search",{filter:{id:this.id}}).subscribe(E=>{this.data=E.data[0],this.rs.get("product/"+this.data.product_id).subscribe(f=>{this.product=f.data})}).add(()=>this.loading=!1)}delete(){this.rs.get(`device/${this.id}/delete`,{}).subscribe(E=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl(`${this.base}/device`)})}static#t=this.\u0275fac=function(f){return new(f||S)(o.rXU(y.Ix),o.rXU(V.xh),o.rXU(_.By),o.rXU(y.nX))};static#e=this.\u0275cmp=o.VBU({type:S,selectors:[["app-device-detail"]],standalone:!0,features:[o.aNF],decls:9,vars:3,consts:[["extra",""],["nzTitle","\u8bbe\u5907\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzTitle","\u5b9e\u65f6\u72b6\u6001"],["nz-tab",""],["nzTitle","\u62a5\u8b66\u65e5\u5fd7"],[3,"id"],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(f,D){if(1&f&&(o.j41(0,"nz-card",1),o.nrm(1,"im-smart-info",2),o.j41(2,"nz-tabset")(3,"nz-tab",3),o.DNE(4,b,1,1,"ng-template",4),o.k0s(),o.j41(5,"nz-tab",5),o.DNE(6,T,0,0,"ng-template",4),o.k0s()()(),o.DNE(7,F,3,0,"ng-template",null,0,o.C5r)),2&f){const R=o.sdS(8);o.Y8G("nzExtra",R),o.R7$(),o.Y8G("fields",D.fields)("value",D.data)}},dependencies:[d.MD,_.Zm,j.cK,t.U5,t.Dq,C.aO,y.Wk,m.PV,r.hM,r.JZ,r.rE,r.Tl,z]})}return S})()},6542:(Y,N,n)=>{"use strict";n.d(N,{o:()=>S});var t=n(513),C=n(177),d=n(5703),y=n(9169),m=n(3217),j=n(3597),_=n(4341),r=n(4438),p=n(1011),c=n(5579),s=n(3053);let l=(()=>{class P{constructor(f){this.ms=f,this.id="",this.version={},this.product_id="",this.placeholder="",this.disabled=!1}ngOnInit(){}registerOnChange(f){this.onChange=f}registerOnTouched(f){}writeValue(f){this.id!==f&&(this.id=f)}setDisabledState(f){this.disabled=f}select(){this.ms.create({nzTitle:"\u9009\u62e9",nzContent:c.L,nzData:{product_id:this.product_id}}).afterClose.subscribe(f=>{console.log(f),f&&(this.id=f.name,this.onChange(this.id))})}change(f){console.log("on change",f),this.id=f,this.onChange(f)}static#t=this.\u0275fac=function(D){return new(D||P)(r.rXU(s.N_))};static#e=this.\u0275cmp=r.VBU({type:P,selectors:[["app-input-version"]],inputs:{product_id:"product_id",placeholder:"placeholder"},standalone:!0,features:[r.Jv_([{provide:_.kq,useExisting:(0,r.Rfq)(()=>P),multi:!0}]),r.aNF],decls:4,vars:4,consts:[["box",""],["nz-input","",3,"change","placeholder","value","disabled"],["type","button","nz-button","",3,"click","disabled"]],template:function(D,R){if(1&D){const G=r.RV6();r.j41(0,"input",1,0),r.bIt("change",function(){r.eBV(G);const et=r.sdS(1);return r.Njj(R.change(et.value))}),r.k0s(),r.j41(2,"button",2),r.bIt("click",function(){return r.eBV(G),r.Njj(R.select())}),r.EFF(3,"\u9009\u62e9"),r.k0s()}2&D&&(r.Y8G("placeholder",R.placeholder)("value",R.id)("disabled",R.disabled),r.R7$(2),r.Y8G("disabled",R.disabled))},dependencies:[p.Sy,t.aO]})}return P})();var u=n(9541),v=n(6068),A=n(5123),L=n(72);function x(P,E){1&P&&r.nrm(0,"app-links")}function M(P,E){1&P&&r.nrm(0,"app-clients")}function o(P,E){1&P&&r.nrm(0,"app-serials")}let V=(()=>{class P{static#t=this.\u0275fac=function(D){return new(D||P)};static#e=this.\u0275cmp=r.VBU({type:P,selectors:[["app-tunnels"]],standalone:!0,features:[r.aNF],decls:7,vars:0,consts:[["nzTitle","TCP\u8fde\u63a5"],["nz-tab",""],["nzTitle","TCP\u5ba2\u6237\u7aef"],["nzTitle","\u4e32\u53e3\u8fde\u63a5"]],template:function(D,R){1&D&&(r.j41(0,"nz-tabset")(1,"nz-tab",0),r.DNE(2,x,1,0,"ng-template",1),r.k0s(),r.j41(3,"nz-tab",2),r.DNE(4,M,1,0,"ng-template",1),r.k0s(),r.j41(5,"nz-tab",3),r.DNE(6,o,1,0,"ng-template",1),r.k0s()())},dependencies:[u.hM,u.JZ,u.rE,u.Tl,v.l,A.y,L.J]})}return P})(),w=(()=>{class P{constructor(f,D){this.ms=f,this.rs=D,this.id="",this.tunnel={},this.placeholder=""}ngOnInit(){}registerOnChange(f){this.onChange=f}registerOnTouched(f){}writeValue(f){this.id!==f&&(this.id=f)}select(){this.ms.create({nzTitle:"\u9009\u62e9",nzContent:V,nzData:this.data}).afterClose.subscribe(f=>{console.log(f),f&&(this.tunnel=f,this.id=f.id,this.onChange(this.id))})}change(f){this.id=f,this.onChange(f)}static#t=this.\u0275fac=function(D){return new(D||P)(r.rXU(s.N_),r.rXU(y.By))};static#e=this.\u0275cmp=r.VBU({type:P,selectors:[["app-input-tunnel"]],inputs:{data:"data",placeholder:"placeholder"},standalone:!0,features:[r.Jv_([{provide:_.kq,useExisting:(0,r.Rfq)(()=>P),multi:!0}]),r.aNF],decls:5,vars:3,consts:[["box",""],["nz-input","",3,"change","placeholder","value"],["type","button","nz-button","",3,"click"]],template:function(D,R){if(1&D){const G=r.RV6();r.j41(0,"input",1,0),r.bIt("change",function(){r.eBV(G);const et=r.sdS(1);return r.Njj(R.change(et.value))}),r.k0s(),r.j41(2,"button",2),r.bIt("click",function(){return r.eBV(G),r.Njj(R.select())}),r.EFF(3,"\u9009\u62e9"),r.k0s(),r.EFF(4)}2&D&&(r.Y8G("placeholder",R.placeholder)("value",R.id),r.R7$(4),r.SpI("\n",R.tunnel.name,"\n"))},dependencies:[t.aO,p.Sy]})}return P})();var H=n(6530),I=n(7094);const W=["form"],U=["chooseProduct"],k=["chooseVersion"],z=["chooseProject"],b=["chooseTunnel"];function T(P,E){if(1&P){const f=r.RV6();r.j41(0,"button",8),r.bIt("click",function(){r.eBV(f);const R=r.XpG();return r.Njj(R.onSubmit())}),r.EFF(1,"\u4fdd\u5b58"),r.k0s()}}function B(P,E){1&P&&r.nrm(0,"app-input-product",9),2&P&&r.Y8G("formControl",E.control)}function O(P,E){if(1&P&&r.nrm(0,"app-input-version",10),2&P){const f=E.control;r.XpG();const D=r.sdS(2);r.Y8G("formControl",f)("product_id",D.value.product_id)}}function F(P,E){1&P&&r.nrm(0,"app-input-project",9),2&P&&r.Y8G("formControl",E.control)}function X(P,E){1&P&&r.nrm(0,"app-input-tunnel",9),2&P&&r.Y8G("formControl",E.control)}let S=(()=>{class P{build(){this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u8bbe\u5907"},{key:"keywords",label:"\u5173\u952e\u5b57",type:"tags",default:[]},{key:"product_id",label:"\u4ea7\u54c1",type:"template",template:this.chooseProduct,change:()=>setTimeout(()=>this.loadProtocolStation())},{key:"product_version",label:"\u7248\u672c",type:"template",template:this.chooseVersion},{key:"project_id",label:"\u9879\u76ee",type:"template",template:this.chooseProject},{key:"tunnel_id",label:"\u901a\u9053",type:"template",template:this.chooseTunnel},{key:"station",label:"\u4ece\u7ad9",type:"object"},{key:"description",label:"\u8bf4\u660e",type:"textarea"}]}constructor(f,D,R,G){this.router=f,this.msg=D,this.rs=R,this.route=G,this.base="/admin",this.project_id="",this.tunnel_id="",this.id="",this.data={},this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u8bbe\u5907"}],this.values={}}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.route.parent.snapshot.paramMap.get("project"),this.base=`/project/${this.project_id}`),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load()),this.route.snapshot.paramMap.has("tunnel_id")&&(this.tunnel_id=this.route.snapshot.paramMap.get("tunnel_id"))}ngAfterViewInit(){setTimeout(()=>{this.build(),this.project_id&&(this.data.project_id=this.project_id,this.form.patchValue({project_id:this.project_id}),this.form.group.get("project_id")?.disable()),this.tunnel_id&&(this.data.tunnel_id=this.tunnel_id,this.form.patchValue({tunnel_id:this.tunnel_id}),this.form.group.get("tunnel_id")?.disable())},100)}load(){this.rs.get(`device/${this.id}`).subscribe(f=>{this.values=f.data,this.loadProtocolStation()})}loadProtocolStation(){console.log("loadProtocolStation",this.form.value),this.values=this.form.value;let f=this.form.value.product_id;f&&this.rs.get(`product/${f}`).subscribe(D=>{this.rs.get(`protocol/${D.data.protocol}/station`).subscribe(G=>{G.data&&(this.fields[7].children=G.data,this.form.ngOnInit())})})}onSubmit(){this.form.valid?this.rs.post(`device/${this.id||"create"}`,this.form.value).subscribe(D=>{this.router.navigateByUrl(`${this.base}/device/`+D.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(D){return new(D||P)(r.rXU(H.Ix),r.rXU(I.xh),r.rXU(y.By),r.rXU(H.nX))};static#e=this.\u0275cmp=r.VBU({type:P,selectors:[["app-device-edit"]],viewQuery:function(D,R){if(1&D&&(r.GBs(W,5),r.GBs(U,5),r.GBs(k,5),r.GBs(z,5),r.GBs(b,5)),2&D){let G;r.mGM(G=r.lsd())&&(R.form=G.first),r.mGM(G=r.lsd())&&(R.chooseProduct=G.first),r.mGM(G=r.lsd())&&(R.chooseVersion=G.first),r.mGM(G=r.lsd())&&(R.chooseProject=G.first),r.mGM(G=r.lsd())&&(R.chooseTunnel=G.first)}},standalone:!0,features:[r.aNF],decls:13,vars:4,consts:[["form",""],["extraTemplate",""],["chooseProduct",""],["chooseVersion",""],["chooseProject",""],["chooseTunnel",""],[3,"nzTitle","nzExtra"],[3,"fields","values"],["nz-button","","nzType","primary",3,"click"],[3,"formControl"],[3,"formControl","product_id"]],template:function(D,R){if(1&D&&(r.j41(0,"nz-card",6),r.nrm(1,"im-smart-editor",7,0),r.k0s(),r.DNE(3,T,2,0,"ng-template",null,1,r.C5r)(5,B,1,1,"ng-template",null,2,r.C5r)(7,O,1,2,"ng-template",null,3,r.C5r)(9,F,1,1,"ng-template",null,4,r.C5r)(11,X,1,1,"ng-template",null,5,r.C5r)),2&D){const G=r.sdS(4);r.Y8G("nzTitle","\u8bbe\u5907"+(R.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",G),r.R7$(),r.Y8G("fields",R.fields)("values",R.values)}},dependencies:[C.MD,_.YN,_.BC,_.X1,_.l_,t.aO,d.cK,y.Ay,m.t,j.d,l,w]})}return P})()},4658:(Y,N,n)=>{"use strict";n.d(N,{D:()=>r});var t=n(177),C=n(3053),d=n(9169),y=n(576),m=n(4438),j=n(6530);const _=()=>[];let r=(()=>{class p{constructor(s,l,u,v){this.route=s,this.rs=l,this.ref=u,this.data=v,this.base="/admin",this.project_id="",this.product_id="",this.tunnel_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>`${this.base}/device/create`}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:A=>`${this.base}/device/${A.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"product",sortable:!0,label:"\u4ea7\u54c1",keyword:!0,link:A=>`${this.base}/product/${A.product_id}`},{key:"product_version",sortable:!0,label:"\u7248\u672c"},{key:"project",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:A=>`${this.base}/project/${A.project_id}`},{key:"online",sortable:!0,label:"\u4e0a\u7ebf\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:A=>`${this.base}/device/${A.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:A=>{this.rs.get(`device/${A.id}/delete`).subscribe(L=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:A=>this.ref.close(A)}],this.project_id=v?.project_id}ngOnInit(){this.base=(0,y.X1)(this.route),this.project_id||=(0,y.pS)(this.route,"project")}refresh(){this.search(this.query)}search(s){this.product_id&&(s.filter.product_id=this.product_id),this.project_id&&(s.filter.project_id=this.project_id),this.tunnel_id&&(s.filter.tunnel_id=this.tunnel_id),this.loading=!0,this.rs.post("device/search",s).subscribe(l=>{this.datum=l.data,this.total=l.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(l){return new(l||p)(m.rXU(j.nX),m.rXU(d.By),m.rXU(C.J9,8),m.rXU(C.or,8))};static#e=this.\u0275cmp=m.VBU({type:p,selectors:[["app-devices"]],inputs:{project_id:"project_id",product_id:"product_id",tunnel_id:"tunnel_id"},standalone:!0,features:[m.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(l,u){1&l&&(m.j41(0,"im-smart-table",0),m.bIt("query",function(A){return u.search(A)}),m.k0s()),2&l&&m.Y8G("buttons",u.ref?m.lJ4(6,_):u.buttons)("columns",u.ref?u.columnsSelect:u.columns)("operators",u.ref?u.operatorsSelect:u.operators)("datum",u.datum)("total",u.total)("loading",u.loading)},dependencies:[t.MD,d.B2]})}return p})()},8238:(Y,N,n)=>{"use strict";n.d(N,{V:()=>_});var t=n(177),C=n(9169),d=n(4438),y=n(6530),m=n(3053);const j=()=>[];let _=(()=>{class r{constructor(c,s,l){this.route=c,this.rs=s,this.ref=l,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/gateway/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:u=>`/admin/gateway/${u.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"project",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:u=>`/admin/project/${u.project_id}`},{key:"online",sortable:!0,label:"\u4e0a\u7ebf\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:u=>`/admin/gateway/${u.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:u=>{this.rs.get(`gateway/${u.id}/delete`).subscribe(v=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:u=>this.ref.close(u)}]}ngOnInit(){}refresh(){this.search(this.query)}search(c){this.query=c,this.loading=!0,this.rs.post("gateway/search",c).subscribe(s=>{this.datum=s.data,this.total=s.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(s){return new(s||r)(d.rXU(y.nX),d.rXU(C.By),d.rXU(m.J9,8))};static#e=this.\u0275cmp=d.VBU({type:r,selectors:[["app-gateways"]],standalone:!0,features:[d.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(s,l){1&s&&(d.j41(0,"im-smart-table",0),d.bIt("query",function(v){return l.search(v)}),d.k0s()),2&s&&d.Y8G("buttons",l.ref?d.lJ4(6,j):l.buttons)("columns",l.ref?l.columnsSelect:l.columns)("operators",l.ref?l.operatorsSelect:l.operators)("datum",l.datum)("total",l.total)("loading",l.loading)},dependencies:[t.MD,C.B2]})}return r})()},6068:(Y,N,n)=>{"use strict";n.d(N,{l:()=>j});var t=n(177),C=n(9169),d=n(4438),y=n(3053);const m=()=>[];let j=(()=>{class _{constructor(p,c){this.rs=p,this.ref=c,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/link/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:s=>`/admin/link/${s.id}`},{key:"server",sortable:!0,label:"\u670d\u52a1\u5668",keyword:!0,link:s=>`/admin/server/${s.server_id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"remote",sortable:!0,label:"\u8fdc\u7a0b\u5730\u5740",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"server",label:"\u670d\u52a1\u5668",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0},{key:"remote",label:"\u8fdc\u7a0b\u5730\u5740",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:s=>`/admin/link/${s.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:s=>{this.rs.get(`link/${s.id}/delete`).subscribe(l=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:s=>this.ref.close(s)}]}refresh(){this.search(this.query)}search(p){this.query=p,this.server_id&&(p.filter.server_id=this.server_id),this.loading=!0,this.rs.post("link/search",p).subscribe(c=>{this.datum=c.data,this.total=c.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(c){return new(c||_)(d.rXU(C.By),d.rXU(y.J9,8))};static#e=this.\u0275cmp=d.VBU({type:_,selectors:[["app-links"]],inputs:{server_id:"server_id"},standalone:!0,features:[d.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(c,s){1&c&&(d.j41(0,"im-smart-table",0),d.bIt("query",function(u){return s.search(u)}),d.k0s()),2&c&&d.Y8G("buttons",s.ref?d.lJ4(6,m):s.buttons)("columns",s.ref?s.columnsSelect:s.columns)("operators",s.ref?s.operatorsSelect:s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[t.MD,C.B2]})}return _})()},5579:(Y,N,n)=>{"use strict";n.d(N,{L:()=>j});var t=n(9169),C=n(3053),d=n(4438),y=n(6530);const m=()=>[];let j=(()=>{class _{constructor(p,c,s,l){this.route=p,this.rs=c,this.ref=s,this.data=l,this.project_id="",this.product_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",action:()=>{let u=prompt("\u8bf7\u8f93\u5165\u7248\u672c\u53f7");u&&this.rs.post(`product/${this.product_id}/version/create`,{name:u}).subscribe(v=>this.refresh())}}],this.columnsSelect=[{key:"name",label:"\u540d\u79f0"},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columns=[{key:"name",label:"\u540d\u79f0",link:u=>`/admin/product/${u.product_id}/version/${u.name}`},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsProject=[{key:"name",label:"\u540d\u79f0",link:u=>`/project/${this.project_id}/product/${u.product_id}/version/${u.name}`},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",action:u=>{let v=prompt("\u8bf7\u8f93\u5165\u7248\u672c\u53f7",u.name);v&&this.rs.post(`product/${this.product_id}/version/${u.name}`,{name:v}).subscribe(A=>this.refresh())}},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:u=>{this.rs.get(`product/${this.product_id}/version/${u.name}/delete`).subscribe(v=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:u=>this.ref.close(u)}],this.product_id=l?.product_id}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.route.parent?.snapshot.paramMap.get("project")),this.route.snapshot.paramMap.has("id")&&(this.product_id=this.route.snapshot.paramMap.get("id"))}refresh(){this.search(this.query)}search(p){this.query=p,this.loading=!0,this.rs.get("product/"+this.product_id+"/version/list",p).subscribe(c=>{this.datum=c.data,this.total=c.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(c){return new(c||_)(d.rXU(y.nX),d.rXU(t.By),d.rXU(C.J9,8),d.rXU(C.or,8))};static#e=this.\u0275cmp=d.VBU({type:_,selectors:[["app-product-version"]],inputs:{project_id:"project_id",product_id:"product_id"},standalone:!0,features:[d.aNF],decls:1,vars:9,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(c,s){1&c&&(d.j41(0,"im-smart-table",0),d.bIt("query",function(u){return s.search(u)}),d.k0s()),2&c&&d.Y8G("buttons",s.ref?d.lJ4(6,m):s.project_id?d.lJ4(7,m):s.buttons)("columns",s.ref?s.columnsSelect:s.project_id?s.columnsProject:s.columns)("operators",s.ref?s.operatorsSelect:s.project_id?d.lJ4(8,m):s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[t.B2]})}return _})()},9233:(Y,N,n)=>{"use strict";n.d(N,{q:()=>j});var t=n(177),C=n(9169),d=n(4438),y=n(3053);const m=()=>[];let j=(()=>{class _{constructor(p,c,s){this.rs=p,this.ms=c,this.ref=s,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/product/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:l=>`/admin/product/${l.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"version",sortable:!0,label:"\u7248\u672c",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:l=>`/admin/product/${l.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:l=>{this.rs.get(`product/${l.id}/delete`).subscribe(u=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:l=>{this.ref.close(l)}}]}refresh(){this.search(this.query)}search(p){this.query=p,this.loading=!0,this.rs.post("product/search",p).subscribe(c=>{this.datum=c.data,this.total=c.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(c){return new(c||_)(d.rXU(C.By),d.rXU(y.N_),d.rXU(y.J9,8))};static#e=this.\u0275cmp=d.VBU({type:_,selectors:[["app-products"]],standalone:!0,features:[d.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(c,s){1&c&&(d.j41(0,"im-smart-table",0),d.bIt("query",function(u){return s.search(u)}),d.k0s()),2&c&&d.Y8G("buttons",s.ref?d.lJ4(6,m):s.buttons)("columns",s.ref?s.columnsSelect:s.columns)("operators",s.ref?s.operatorsSelect:s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[t.MD,C.B2],styles:[".toolbar[_ngcontent-%COMP%]{padding:10px 0}.pages[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:center}"]})}return _})()},1369:(Y,N,n)=>{"use strict";n.d(N,{A:()=>U});var t=n(7685),C=n(513),d=n(177),y=n(6530),m=n(2874),j=n(5703),_=n(9169),r=n(9541),p=n(2582),c=n(4658),s=n(6629),l=n(4438),u=n(7094);function v(k,z){if(1&k&&l.nrm(0,"app-spaces",8),2&k){const b=l.XpG();l.Y8G("project_id",b.id)}}function A(k,z){if(1&k&&l.nrm(0,"app-devices",8),2&k){const b=l.XpG();l.Y8G("project_id",b.id)}}function L(k,z){if(1&k&&l.nrm(0,"app-project-user",8),2&k){const b=l.XpG();l.Y8G("project_id",b.id)}}function x(k,z){}function M(k,z){if(1&k&&(l.j41(0,"button",10),l.EFF(1,"\u7f16\u8f91"),l.k0s()),2&k){const b=l.XpG(3);l.Y8G("routerLink","/project/"+b.id+"/edit")}}function o(k,z){1&k&&(l.j41(0,"nz-space"),l.DNE(1,M,2,1,"button",9),l.k0s())}function V(k,z){if(1&k&&(l.j41(0,"a",14),l.EFF(1,"\u6253\u5f00"),l.k0s()),2&k){const b=l.XpG(3);l.Y8G("routerLink","/project/"+b.id)}}function w(k,z){1&k&&(l.j41(0,"button",15),l.EFF(1,"\u7f16\u8f91"),l.k0s())}function H(k,z){if(1&k){const b=l.RV6();l.j41(0,"button",16),l.bIt("nzOnConfirm",function(){l.eBV(b);const B=l.XpG(3);return l.Njj(B.delete())}),l.EFF(1,"\u5220\u9664 "),l.k0s()}}function I(k,z){1&k&&(l.j41(0,"nz-space"),l.DNE(1,V,2,1,"a",11)(2,w,2,0,"button",12)(3,H,2,0,"button",13),l.k0s())}function W(k,z){if(1&k&&l.DNE(0,o,2,0,"nz-space")(1,I,4,0),2&k){const b=l.XpG();l.vxM(0,b.project_id?0:1)}}let U=(()=>{class k{constructor(b,T,B,O){this.router=b,this.msg=T,this.rs=B,this.route=O,this.value="",this.data={},this.fields=[{label:"ID",key:"id"},{label:"\u540d\u79f0",key:"name"},{label:"\u7248\u672c",key:"version"},{label:"\u521b\u5efa\u65f6\u95f4",key:"created",type:"date"},{label:"\u8bf4\u660e",key:"description",span:2}]}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.id=this.route.parent?.snapshot.paramMap.get("project")),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id")),this.load()}load(){this.rs.get(`project/${this.id}`).subscribe(b=>{this.data=b.data})}delete(){this.rs.get(`project/${this.id}/delete`,{}).subscribe(b=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl("/project")})}static#t=this.\u0275fac=function(T){return new(T||k)(l.rXU(y.Ix),l.rXU(u.xh),l.rXU(_.By),l.rXU(y.nX))};static#e=this.\u0275cmp=l.VBU({type:k,selectors:[["app-project-detail"]],standalone:!0,features:[l.aNF],decls:13,vars:3,consts:[["extra",""],["nzTitle","\u9879\u76ee\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzTitle","\u9879\u76ee\u7a7a\u95f4"],["nz-tab",""],["nzTitle","\u9879\u76ee\u8bbe\u5907"],["nzTitle","\u9879\u76ee\u7528\u6237"],["nzTitle","\u62a5\u8b66\u65e5\u5fd7"],[3,"project_id"],["nz-button","",3,"routerLink",4,"nzSpaceItem"],["nz-button","",3,"routerLink"],["nz-button","","target","_blank",3,"routerLink",4,"nzSpaceItem"],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","target","_blank",3,"routerLink"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(T,B){if(1&T&&(l.j41(0,"nz-card",1),l.nrm(1,"im-smart-info",2),l.j41(2,"nz-tabset")(3,"nz-tab",3),l.DNE(4,v,1,1,"ng-template",4),l.k0s(),l.j41(5,"nz-tab",5),l.DNE(6,A,1,1,"ng-template",4),l.k0s(),l.j41(7,"nz-tab",6),l.DNE(8,L,1,1,"ng-template",4),l.k0s(),l.j41(9,"nz-tab",7),l.DNE(10,x,0,0,"ng-template",4),l.k0s()()(),l.DNE(11,W,2,1,"ng-template",null,0,l.C5r)),2&T){const O=l.sdS(12);l.Y8G("nzExtra",O),l.R7$(),l.Y8G("fields",B.fields)("value",B.data)}},dependencies:[d.MD,_.Zm,j.cK,t.U5,C.aO,t.Dq,y.Wk,m.PV,r.hM,r.JZ,r.rE,r.Tl,p.V,c.D,s.m]})}return k})()},4247:(Y,N,n)=>{"use strict";n.d(N,{f:()=>c});var t=n(513),C=n(177),d=n(5703),y=n(9169),m=n(4438),j=n(6530),_=n(7094);const r=["form"];function p(s,l){if(1&s){const u=m.RV6();m.j41(0,"button",4),m.bIt("click",function(){m.eBV(u);const A=m.XpG();return m.Njj(A.onSubmit())}),m.EFF(1,"\u4fdd\u5b58"),m.k0s()}}let c=(()=>{class s{constructor(u,v,A,L){this.router=u,this.msg=v,this.rs=A,this.route=L,this.id="",this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u9879\u76ee"},{key:"keywords",label:"\u5173\u952e\u5b57",type:"tags",default:[]},{key:"version",label:"\u7248\u672c",type:"text"},{key:"url",label:"\u94fe\u63a5",type:"text"},{key:"description",label:"\u8bf4\u660e",type:"textarea"}],this.values={}}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.id=this.route.parent?.snapshot.paramMap.get("project")),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id")),this.id&&this.load()}load(){this.rs.get("project/"+this.id).subscribe(u=>{this.values=u.data})}onSubmit(){this.form.valid?this.rs.post(`project/${this.id||"create"}`,this.form.value).subscribe(v=>{this.router.navigateByUrl(this.project_id?`/project/${this.project_id}/detail`:"/admin/project/"+v.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(v){return new(v||s)(m.rXU(j.Ix),m.rXU(_.xh),m.rXU(y.By),m.rXU(j.nX))};static#e=this.\u0275cmp=m.VBU({type:s,selectors:[["app-project-edit"]],viewQuery:function(v,A){if(1&v&&m.GBs(r,5),2&v){let L;m.mGM(L=m.lsd())&&(A.form=L.first)}},standalone:!0,features:[m.aNF],decls:5,vars:4,consts:[["form",""],["extraTemplate",""],[3,"nzTitle","nzExtra"],[3,"fields","values"],["nz-button","","nzType","primary",3,"click"]],template:function(v,A){if(1&v&&(m.j41(0,"nz-card",2),m.nrm(1,"im-smart-editor",3,0),m.k0s(),m.DNE(3,p,2,0,"ng-template",null,1,m.C5r)),2&v){const L=m.sdS(4);m.Y8G("nzTitle","\u9879\u76ee"+(A.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",L),m.R7$(),m.Y8G("fields",A.fields)("values",A.values)}},dependencies:[C.MD,t.aO,d.cK,y.Ay]})}return s})()},6629:(Y,N,n)=>{"use strict";n.d(N,{m:()=>p});var t=n(3053),C=n(177),d=n(4116),y=n(9169),m=n(4438),j=n(6530),_=n(6504);const r=()=>[];let p=(()=>{class c{constructor(l,u,v,A,L,x){this.route=l,this.rs=u,this.msg=v,this.ms=A,this.ref=L,this.data=x,this.project_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"link",label:"\u7ed1\u5b9a\u7528\u6237",action:()=>this.bind()}],this.columns=[{key:"user_id",sortable:!0,label:"ID",keyword:!0},{key:"user",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"disabled",sortable:!0,label:"\u72b6\u6001"},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"user_id",sortable:!0,label:"ID",keyword:!0},{key:"user",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"disabled",sortable:!0,label:"\u72b6\u6001"}],this.operators=[{icon:"disconnect",label:"\u89e3\u7ed1",confirm:"\u786e\u8ba4\u89e3\u7ed1\uff1f",action:M=>this.unbind(M.user_id)}],this.operatorsSelect=[{label:"\u9009\u62e9",action:M=>this.ref.close(M)}],this.project_id=x?.project_id}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.route.parent?.snapshot.paramMap.get("project"))}refresh(){this.search(this.query)}search(l){this.query=l,this.project_id&&(l.filter.project_id=this.project_id),this.loading=!0,this.rs.get(`project/${this.project_id}/user/list`).subscribe(u=>{this.datum=u.data}).add(()=>this.loading=!1)}bind(){this.ms.create({nzTitle:"\u7ed1\u5b9a\u7528\u6237",nzContent:d.C}).afterClose.subscribe(l=>{l&&this.rs.get(`project/${this.project_id}/user/${l.id}/bind`,{}).subscribe(u=>{this.msg.success("\u63d0\u793a","\u7ed1\u5b9a\u6210\u529f"),this.refresh()})})}unbind(l){this.rs.get(`project/${this.project_id}/user/${l}/unbind`,{}).subscribe(u=>{this.msg.success("\u63d0\u793a","\u89e3\u7ed1\u6210\u529f"),this.refresh()})}static#t=this.\u0275fac=function(u){return new(u||c)(m.rXU(j.nX),m.rXU(y.By),m.rXU(_.xY),m.rXU(t.N_),m.rXU(t.J9,8),m.rXU(t.or,8))};static#e=this.\u0275cmp=m.VBU({type:c,selectors:[["app-project-user"]],inputs:{project_id:"project_id"},standalone:!0,features:[m.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(u,v){1&u&&(m.j41(0,"im-smart-table",0),m.bIt("query",function(L){return v.search(L)}),m.k0s()),2&u&&m.Y8G("buttons",v.ref?m.lJ4(6,r):v.buttons)("columns",v.ref?v.columnsSelect:v.columns)("operators",v.ref?v.operatorsSelect:v.operators)("datum",v.datum)("total",v.total)("loading",v.loading)},dependencies:[C.MD,y.B2]})}return c})()},9635:(Y,N,n)=>{"use strict";n.d(N,{E:()=>j});var t=n(177),C=n(9169),d=n(4438),y=n(3053);const m=()=>[];let j=(()=>{class _{constructor(p,c){this.rs=p,this.ref=c,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/project/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:s=>`/admin/project/${s.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"export",title:"\u6253\u5f00",link:s=>`/project/${s.id}`,external:!0},{icon:"edit",title:"\u7f16\u8f91",link:s=>`/admin/project/${s.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:s=>{this.rs.get(`project/${s.id}/delete`).subscribe(l=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:s=>this.ref.close(s)}]}refresh(){this.search(this.query)}search(p){this.query=p,this.loading=!0,this.rs.post("project/search",p).subscribe(c=>{this.datum=c.data,this.total=c.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(c){return new(c||_)(d.rXU(C.By),d.rXU(y.J9,8))};static#e=this.\u0275cmp=d.VBU({type:_,selectors:[["app-projects"]],standalone:!0,features:[d.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(c,s){1&c&&(d.j41(0,"im-smart-table",0),d.bIt("query",function(u){return s.search(u)}),d.k0s()),2&c&&d.Y8G("buttons",s.ref?d.lJ4(6,m):s.buttons)("columns",s.ref?s.columnsSelect:s.columns)("operators",s.ref?s.operatorsSelect:s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[t.MD,C.B2]})}return _})()},72:(Y,N,n)=>{"use strict";n.d(N,{J:()=>j});var t=n(177),C=n(9169),d=n(4438),y=n(3053);const m=()=>[];let j=(()=>{class _{constructor(p,c){this.rs=p,this.ref=c,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/serial/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:s=>`/admin/serial/${s.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"port_name",sortable:!0,label:"\u7aef\u53e3",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0},{key:"port_name",label:"\u7aef\u53e3",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:s=>`/admin/serial/${s.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:s=>{this.rs.get(`serial/${s.id}/delete`).subscribe(l=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:s=>this.ref.close(s)}]}refresh(){this.search(this.query)}search(p){this.query=p,this.loading=!0,this.rs.post("serial/search",p).subscribe(c=>{this.datum=c.data,this.total=c.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(c){return new(c||_)(d.rXU(C.By),d.rXU(y.J9,8))};static#e=this.\u0275cmp=d.VBU({type:_,selectors:[["app-serials"]],standalone:!0,features:[d.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(c,s){1&c&&(d.j41(0,"im-smart-table",0),d.bIt("query",function(u){return s.search(u)}),d.k0s()),2&c&&d.Y8G("buttons",s.ref?d.lJ4(6,m):s.buttons)("columns",s.ref?s.columnsSelect:s.columns)("operators",s.ref?s.operatorsSelect:s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[t.MD,C.B2]})}return _})()},4432:(Y,N,n)=>{"use strict";n.d(N,{h:()=>x});var t=n(7685),C=n(513),d=n(177),y=n(6530),m=n(2874),j=n(5703),_=n(9169),r=n(9541),p=n(5090),c=n(4438),s=n(7094);function l(M,o){if(1&M&&c.nrm(0,"app-space-device",6),2&M){const V=c.XpG();c.Y8G("space_id",V.id)("project_id",V.data.project_id)}}function u(M,o){}function v(M,o){1&M&&(c.j41(0,"button",9),c.EFF(1,"\u7f16\u8f91"),c.k0s())}function A(M,o){if(1&M){const V=c.RV6();c.j41(0,"button",10),c.bIt("nzOnConfirm",function(){c.eBV(V);const H=c.XpG(2);return c.Njj(H.delete())}),c.EFF(1,"\u5220\u9664"),c.k0s()}}function L(M,o){1&M&&(c.j41(0,"nz-space"),c.DNE(1,v,2,0,"button",7)(2,A,2,0,"button",8),c.k0s())}let x=(()=>{class M{constructor(V,w,H,I){this.router=V,this.msg=w,this.rs=H,this.route=I,this.base="/admin",this.value="",this.data={},this.spaces=[],this.fields=[{label:"ID",key:"id"},{label:"\u540d\u79f0",key:"name"},{label:"\u521b\u5efa\u65f6\u95f4",key:"created",type:"date"},{label:"\u8bf4\u660e",key:"description",span:2}]}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.route.parent.snapshot.paramMap.get("project"),this.base=`/project/${this.project_id}`),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.rs.get(`space/${this.id}`).subscribe(V=>{this.data=V.data})}delete(){this.rs.get(`space/${this.id}/delete`,{}).subscribe(V=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl(`${this.base}/space`)})}static#t=this.\u0275fac=function(w){return new(w||M)(c.rXU(y.Ix),c.rXU(s.xh),c.rXU(_.By),c.rXU(y.nX))};static#e=this.\u0275cmp=c.VBU({type:M,selectors:[["app-space-detail"]],standalone:!0,features:[c.aNF],decls:9,vars:3,consts:[["extra",""],["nzTitle","\u7a7a\u95f4\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzTitle","\u7a7a\u95f4\u8bbe\u5907"],["nz-tab",""],["nzTitle","\u62a5\u8b66\u65e5\u5fd7"],[3,"space_id","project_id"],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(w,H){if(1&w&&(c.j41(0,"nz-card",1),c.nrm(1,"im-smart-info",2),c.j41(2,"nz-tabset")(3,"nz-tab",3),c.DNE(4,l,1,2,"ng-template",4),c.k0s(),c.j41(5,"nz-tab",5),c.DNE(6,u,0,0,"ng-template",4),c.k0s()()(),c.DNE(7,L,3,0,"ng-template",null,0,c.C5r)),2&w){const I=c.sdS(8);c.Y8G("nzExtra",I),c.R7$(),c.Y8G("fields",H.fields)("value",H.data)}},dependencies:[d.MD,_.Zm,j.cK,t.U5,C.aO,t.Dq,y.Wk,m.PV,r.hM,r.JZ,r.rE,r.Tl,p.q]})}return M})()},5090:(Y,N,n)=>{"use strict";n.d(N,{q:()=>p});var t=n(3053),C=n(177),d=n(9169),y=n(4658),m=n(4438),j=n(6530),_=n(6504);const r=()=>[];let p=(()=>{class c{constructor(l,u,v,A,L,x){this.route=l,this.rs=u,this.msg=v,this.ms=A,this.ref=L,this.data=x,this.space_id="",this.project_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"link",label:"\u7ed1\u5b9a\u8bbe\u5907",action:()=>this.bind()}],this.columns=[{key:"device_id",sortable:!0,label:"ID",keyword:!0,link:M=>`/admin/device/${M.device_id}`},{key:"device",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"device_id",sortable:!0,label:"ID",keyword:!0},{key:"device",sortable:!0,label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"disconnect",label:"\u89e3\u7ed1",confirm:"\u786e\u8ba4\u89e3\u7ed1\uff1f",action:M=>this.unbind(M.device_id)}],this.operatorsSelect=[{label:"\u9009\u62e9",action:M=>this.ref.close(M)}],this.space_id=x?.space_id,this.project_id=x?.project_id}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.space_id=this.route.snapshot.paramMap.get("id")),this.space_id&&!this.project_id&&this.rs.get("space/"+this.space_id).subscribe(l=>{this.project_id=l.data.project_id})}refresh(){this.search(this.query)}search(l){this.query=l,this.project_id&&(l.filter.project_id=this.project_id),this.loading=!0,this.rs.get(`space/${this.space_id}/device/list`).subscribe(u=>{this.datum=u.data}).add(()=>this.loading=!1)}bind(){this.ms.create({nzTitle:"\u7ed1\u5b9a\u8bbe\u5907",nzContent:y.D,nzData:{project_id:this.project_id}}).afterClose.subscribe(l=>{l&&this.rs.get(`space/${this.space_id}/device/${l.id}/bind`,{}).subscribe(u=>{this.msg.success("\u63d0\u793a","\u7ed1\u5b9a\u6210\u529f"),this.refresh()})})}unbind(l){this.rs.get(`space/${this.space_id}/device/${l}/unbind`,{}).subscribe(u=>{this.msg.success("\u63d0\u793a","\u89e3\u7ed1\u6210\u529f"),this.refresh()})}static#t=this.\u0275fac=function(u){return new(u||c)(m.rXU(j.nX),m.rXU(d.By),m.rXU(_.xY),m.rXU(t.N_),m.rXU(t.J9,8),m.rXU(t.or,8))};static#e=this.\u0275cmp=m.VBU({type:c,selectors:[["app-space-device"]],inputs:{space_id:"space_id",project_id:"project_id"},standalone:!0,features:[m.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(u,v){1&u&&(m.j41(0,"im-smart-table",0),m.bIt("query",function(L){return v.search(L)}),m.k0s()),2&u&&m.Y8G("buttons",v.ref?m.lJ4(6,r):v.buttons)("columns",v.ref?v.columnsSelect:v.columns)("operators",v.ref?v.operatorsSelect:v.operators)("datum",v.datum)("total",v.total)("loading",v.loading)},dependencies:[C.MD,d.B2]})}return c})()},1998:(Y,N,n)=>{"use strict";n.d(N,{a:()=>A});var t=n(513),C=n(177),d=n(5703),y=n(9169),m=n(3597),j=n(4341),_=n(4438),r=n(6530),p=n(3053),c=n(7094);const s=["form"],l=["chooseProject"];function u(L,x){if(1&L){const M=_.RV6();_.j41(0,"button",5),_.bIt("click",function(){_.eBV(M);const V=_.XpG();return _.Njj(V.onSubmit())}),_.EFF(1,"\u4fdd\u5b58"),_.k0s()}}function v(L,x){1&L&&_.nrm(0,"app-input-project",6),2&L&&_.Y8G("formControl",x.control)}let A=(()=>{class L{build(){this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u7a7a\u95f4"},{key:"project_id",label:"\u9879\u76ee",type:"template",template:this.chooseProject},{key:"description",label:"\u8bf4\u660e",type:"textarea"}]}constructor(M,o,V,w,H){this.router=M,this.ms=o,this.msg=V,this.rs=w,this.route=H,this.base="/admin",this.project_id="",this.id="",this.fields=[],this.values={}}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.route.parent.snapshot.paramMap.get("project"),this.base=`/project/${this.project_id}`),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}ngAfterViewInit(){this.build(),this.project_id&&(this.form.patchValue({project_id:this.project_id}),this.form.group.get("project_id")?.disable())}load(){this.rs.get(`space/${this.id}`).subscribe(M=>{this.values=M.data})}onSubmit(){this.form.valid?this.rs.post(`space/${this.id||"create"}`,this.form.value).subscribe(o=>{this.router.navigateByUrl(`${this.base}/space/`+o.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(o){return new(o||L)(_.rXU(r.Ix),_.rXU(p.N_),_.rXU(c.xh),_.rXU(y.By),_.rXU(r.nX))};static#e=this.\u0275cmp=_.VBU({type:L,selectors:[["app-space-edit"]],viewQuery:function(o,V){if(1&o&&(_.GBs(s,5),_.GBs(l,5)),2&o){let w;_.mGM(w=_.lsd())&&(V.form=w.first),_.mGM(w=_.lsd())&&(V.chooseProject=w.first)}},standalone:!0,features:[_.aNF],decls:7,vars:4,consts:[["form",""],["extraTemplate",""],["chooseProject",""],[3,"nzTitle","nzExtra"],[3,"fields","values"],["nz-button","","nzType","primary",3,"click"],[3,"formControl"]],template:function(o,V){if(1&o&&(_.j41(0,"nz-card",3),_.nrm(1,"im-smart-editor",4,0),_.k0s(),_.DNE(3,u,2,0,"ng-template",null,1,_.C5r)(5,v,1,1,"ng-template",null,2,_.C5r)),2&o){const w=_.sdS(4);_.Y8G("nzTitle","\u7a7a\u95f4"+(V.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",w),_.R7$(),_.Y8G("fields",V.fields)("values",V.values)}},dependencies:[C.MD,j.YN,j.BC,j.X1,j.l_,t.aO,d.cK,y.Ay,m.d]})}return L})()},2582:(Y,N,n)=>{"use strict";n.d(N,{V:()=>_});var t=n(3053),C=n(177),d=n(9169),y=n(4438),m=n(6530);const j=()=>[];let _=(()=>{class r{constructor(c,s,l,u){this.route=c,this.rs=s,this.ref=l,this.data=u,this.project_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/space/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:v=>`/admin/space/${v.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"project",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:v=>`/admin/project/${v.project_id}`},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:v=>`/admin/space/${v.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:v=>{this.rs.get(`space/${v.id}/delete`).subscribe(A=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:v=>this.ref.close(v)}],this.project_id=u?.project_id}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.route.parent?.snapshot.paramMap.get("project"))}refresh(){this.search(this.query)}search(c){this.query=c,this.project_id&&(c.filter.project_id=this.project_id),this.loading=!0,this.rs.post("space/search",c).subscribe(s=>{this.datum=s.data,this.total=s.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(s){return new(s||r)(y.rXU(m.nX),y.rXU(d.By),y.rXU(t.J9,8),y.rXU(t.or,8))};static#e=this.\u0275cmp=y.VBU({type:r,selectors:[["app-spaces"]],inputs:{project_id:"project_id"},standalone:!0,features:[y.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(s,l){1&s&&(y.j41(0,"im-smart-table",0),y.bIt("query",function(v){return l.search(v)}),y.k0s()),2&s&&y.Y8G("buttons",l.ref?y.lJ4(6,j):l.buttons)("columns",l.ref?l.columnsSelect:l.columns)("operators",l.ref?l.operatorsSelect:l.operators)("datum",l.datum)("total",l.total)("loading",l.loading)},dependencies:[C.MD,d.B2]})}return r})()},4116:(Y,N,n)=>{"use strict";n.d(N,{C:()=>j});var t=n(177),C=n(9169),d=n(4438),y=n(3053);const m=()=>[];let j=(()=>{class _{constructor(p,c){this.rs=p,this.ref=c,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/user/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0},{key:"name",sortable:!0,label:"\u59d3\u540d",keyword:!0},{key:"cellphone",sortable:!0,label:"\u624b\u673a",keyword:!0},{key:"email",sortable:!0,label:"\u90ae\u7bb1",keyword:!0},{key:"disabled",sortable:!0,label:"\u72b6\u6001",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:s=>`/admin/user/${s.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:s=>{this.rs.get(`user/${s.id}/delete`).subscribe(l=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:s=>this.ref.close(s)}]}refresh(){this.search(this.query)}search(p){this.query=p,this.loading=!0,this.rs.post("user/search",p).subscribe(c=>{this.datum=c.data,this.total=c.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(c){return new(c||_)(d.rXU(C.By),d.rXU(y.J9,8))};static#e=this.\u0275cmp=d.VBU({type:_,selectors:[["app-users"]],standalone:!0,features:[d.aNF],decls:1,vars:7,consts:[[3,"query","buttons","columns","operators","datum","total","loading"]],template:function(c,s){1&c&&(d.j41(0,"im-smart-table",0),d.bIt("query",function(u){return s.search(u)}),d.k0s()),2&c&&d.Y8G("buttons",s.ref?d.lJ4(6,m):s.buttons)("columns",s.ref?s.columnsSelect:s.columns)("operators",s.ref?s.operatorsSelect:s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[t.MD,C.B2]})}return _})()},8682:(Y,N,n)=>{"use strict";n.d(N,{F:()=>y});var t=n(5197),C=n(4438),d=n(9169);let y=(()=>{class m{constructor(_){this.rs=_,this.model="device",this.title="\u8bbe\u5907\u603b\u6570",this.project="",this.count=0}ngOnInit(){let _={};this.project&&(_.filter={project_id:this.project}),this.rs.post(this.model+"/count",_).subscribe(r=>{this.count=r.data})}static#t=this.\u0275fac=function(r){return new(r||m)(C.rXU(d.By))};static#e=this.\u0275cmp=C.VBU({type:m,selectors:[["app-count"]],inputs:{model:"model",title:"title",project:"project"},standalone:!0,features:[C.aNF],decls:1,vars:2,consts:[[3,"nzTitle","nzValue"]],template:function(r,p){1&r&&C.nrm(0,"nz-statistic",0),2&r&&C.Y8G("nzTitle",p.title)("nzValue",p.count)},dependencies:[t.IV]})}return m})()},7374:function(Y){Y.exports=function(){"use strict";var n=6e4,t=36e5,C="millisecond",d="second",y="minute",m="hour",j="day",_="week",r="month",p="quarter",c="year",s="date",l="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var b=["th","st","nd","rd"],T=z%100;return"["+z+(b[(T-20)%10]||b[T]||b[0])+"]"}},L=function(z,b,T){var B=String(z);return!B||B.length>=b?z:""+Array(b+1-B.length).join(T)+z},x={s:L,z:function(z){var b=-z.utcOffset(),T=Math.abs(b),B=Math.floor(T/60),O=T%60;return(b<=0?"+":"-")+L(B,2,"0")+":"+L(O,2,"0")},m:function z(b,T){if(b.date()<T.date())return-z(T,b);var B=12*(T.year()-b.year())+(T.month()-b.month()),O=b.clone().add(B,r),F=T-O<0,X=b.clone().add(B+(F?-1:1),r);return+(-(B+(T-O)/(F?O-X:X-O))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:r,y:c,w:_,d:j,D:s,h:m,m:y,s:d,ms:C,Q:p}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return void 0===z}},M="en",o={};o[M]=A;var V="$isDayjsObject",w=function(z){return z instanceof U||!(!z||!z[V])},H=function z(b,T,B){var O;if(!b)return M;if("string"==typeof b){var F=b.toLowerCase();o[F]&&(O=F),T&&(o[F]=T,O=F);var X=b.split("-");if(!O&&X.length>1)return z(X[0])}else{var S=b.name;o[S]=b,O=S}return!B&&O&&(M=O),O||!B&&M},I=function(z,b){if(w(z))return z.clone();var T="object"==typeof b?b:{};return T.date=z,T.args=arguments,new U(T)},W=x;W.l=H,W.i=w,W.w=function(z,b){return I(z,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var U=function(){function z(T){this.$L=H(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[V]=!0}var b=z.prototype;return b.parse=function(T){this.$d=function(B){var O=B.date,F=B.utc;if(null===O)return new Date(NaN);if(W.u(O))return new Date;if(O instanceof Date)return new Date(O);if("string"==typeof O&&!/Z$/i.test(O)){var X=O.match(u);if(X){var S=X[2]-1||0,P=(X[7]||"0").substring(0,3);return F?new Date(Date.UTC(X[1],S,X[3]||1,X[4]||0,X[5]||0,X[6]||0,P)):new Date(X[1],S,X[3]||1,X[4]||0,X[5]||0,X[6]||0,P)}}return new Date(O)}(T),this.init()},b.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},b.$utils=function(){return W},b.isValid=function(){return this.$d.toString()!==l},b.isSame=function(T,B){var O=I(T);return this.startOf(B)<=O&&O<=this.endOf(B)},b.isAfter=function(T,B){return I(T)<this.startOf(B)},b.isBefore=function(T,B){return this.endOf(B)<I(T)},b.$g=function(T,B,O){return W.u(T)?this[B]:this.set(O,T)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(T,B){var O=this,F=!!W.u(B)||B,X=W.p(T),S=function(et,Z){var nt=W.w(O.$u?Date.UTC(O.$y,Z,et):new Date(O.$y,Z,et),O);return F?nt:nt.endOf(j)},P=function(et,Z){return W.w(O.toDate()[et].apply(O.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(Z)),O)},E=this.$W,f=this.$M,D=this.$D,R="set"+(this.$u?"UTC":"");switch(X){case c:return F?S(1,0):S(31,11);case r:return F?S(1,f):S(0,f+1);case _:var G=this.$locale().weekStart||0,q=(E<G?E+7:E)-G;return S(F?D-q:D+(6-q),f);case j:case s:return P(R+"Hours",0);case m:return P(R+"Minutes",1);case y:return P(R+"Seconds",2);case d:return P(R+"Milliseconds",3);default:return this.clone()}},b.endOf=function(T){return this.startOf(T,!1)},b.$set=function(T,B){var O,F=W.p(T),X="set"+(this.$u?"UTC":""),S=(O={},O[j]=X+"Date",O[s]=X+"Date",O[r]=X+"Month",O[c]=X+"FullYear",O[m]=X+"Hours",O[y]=X+"Minutes",O[d]=X+"Seconds",O[C]=X+"Milliseconds",O)[F],P=F===j?this.$D+(B-this.$W):B;if(F===r||F===c){var E=this.clone().set(s,1);E.$d[S](P),E.init(),this.$d=E.set(s,Math.min(this.$D,E.daysInMonth())).$d}else S&&this.$d[S](P);return this.init(),this},b.set=function(T,B){return this.clone().$set(T,B)},b.get=function(T){return this[W.p(T)]()},b.add=function(T,B){var O,F=this;T=Number(T);var X=W.p(B),S=function(f){var D=I(F);return W.w(D.date(D.date()+Math.round(f*T)),F)};if(X===r)return this.set(r,this.$M+T);if(X===c)return this.set(c,this.$y+T);if(X===j)return S(1);if(X===_)return S(7);var P=(O={},O[y]=n,O[m]=t,O[d]=1e3,O)[X]||1,E=this.$d.getTime()+T*P;return W.w(E,this)},b.subtract=function(T,B){return this.add(-1*T,B)},b.format=function(T){var B=this,O=this.$locale();if(!this.isValid())return O.invalidDate||l;var F=T||"YYYY-MM-DDTHH:mm:ssZ",X=W.z(this),S=this.$H,P=this.$m,E=this.$M,f=O.weekdays,D=O.months,G=function(Z,nt,at,lt){return Z&&(Z[nt]||Z(B,F))||at[nt].slice(0,lt)},q=function(Z){return W.s(S%12||12,Z,"0")},et=O.meridiem||function(Z,nt,at){var lt=Z<12?"AM":"PM";return at?lt.toLowerCase():lt};return F.replace(v,function(Z,nt){return nt||function(at){switch(at){case"YY":return String(B.$y).slice(-2);case"YYYY":return W.s(B.$y,4,"0");case"M":return E+1;case"MM":return W.s(E+1,2,"0");case"MMM":return G(O.monthsShort,E,D,3);case"MMMM":return G(D,E);case"D":return B.$D;case"DD":return W.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return G(O.weekdaysMin,B.$W,f,2);case"ddd":return G(O.weekdaysShort,B.$W,f,3);case"dddd":return f[B.$W];case"H":return String(S);case"HH":return W.s(S,2,"0");case"h":return q(1);case"hh":return q(2);case"a":return et(S,P,!0);case"A":return et(S,P,!1);case"m":return String(P);case"mm":return W.s(P,2,"0");case"s":return String(B.$s);case"ss":return W.s(B.$s,2,"0");case"SSS":return W.s(B.$ms,3,"0");case"Z":return X}return null}(Z)||X.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(T,B,O){var F,X=this,S=W.p(B),P=I(T),E=(P.utcOffset()-this.utcOffset())*n,f=this-P,D=function(){return W.m(X,P)};switch(S){case c:F=D()/12;break;case r:F=D();break;case p:F=D()/3;break;case _:F=(f-E)/6048e5;break;case j:F=(f-E)/864e5;break;case m:F=f/t;break;case y:F=f/n;break;case d:F=f/1e3;break;default:F=f}return O?F:W.a(F)},b.daysInMonth=function(){return this.endOf(r).$D},b.$locale=function(){return o[this.$L]},b.locale=function(T,B){if(!T)return this.$L;var O=this.clone(),F=H(T,B,!0);return F&&(O.$L=F),O},b.clone=function(){return W.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},z}(),k=U.prototype;return I.prototype=k,[["$ms",C],["$s",d],["$m",y],["$H",m],["$W",j],["$M",r],["$y",c],["$D",s]].forEach(function(z){k[z[1]]=function(b){return this.$g(b,z[0],z[1])}}),I.extend=function(z,b){return z.$i||(z(b,U,I),z.$i=!0),I},I.locale=H,I.isDayjs=w,I.unix=function(z){return I(1e3*z)},I.en=o[M],I.Ls=o,I.p={},I}()},5197:(Y,N,n)=>{"use strict";n.d(N,{IV:()=>o});var t=n(4438),C=n(1413),d=n(177),y=n(6977),m=n(7806),j=n(8203);const _=I=>({$implicit:I});function r(I,W){if(1&I&&t.eu8(0,3),2&I){const U=t.XpG();t.Y8G("ngTemplateOutlet",U.nzValueTemplate)("ngTemplateOutletContext",t.eq3(2,_,U.nzValue))}}function p(I,W){if(1&I&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&I){const U=t.XpG(2);t.R7$(),t.JRh(U.displayInt)}}function c(I,W){if(1&I&&(t.j41(0,"span",7),t.EFF(1),t.k0s()),2&I){const U=t.XpG(2);t.R7$(),t.JRh(U.displayDecimal)}}function s(I,W){if(1&I&&(t.qex(0),t.DNE(1,p,2,1,"span",4)(2,c,2,1,"span",5),t.bVm()),2&I){const U=t.XpG();t.R7$(),t.Y8G("ngIf",U.displayInt),t.R7$(),t.Y8G("ngIf",U.displayDecimal)}}function l(I,W){if(1&I&&(t.qex(0),t.EFF(1),t.bVm()),2&I){const U=t.XpG();t.R7$(),t.JRh(U.nzTitle)}}function u(I,W){if(1&I&&(t.qex(0),t.EFF(1),t.bVm()),2&I){const U=t.XpG(2);t.R7$(),t.JRh(U.nzPrefix)}}function v(I,W){if(1&I&&(t.j41(0,"span",6),t.DNE(1,u,2,1,"ng-container",1),t.k0s()),2&I){const U=t.XpG();t.R7$(),t.Y8G("nzStringTemplateOutlet",U.nzPrefix)}}function A(I,W){if(1&I&&(t.qex(0),t.EFF(1),t.bVm()),2&I){const U=t.XpG(2);t.R7$(),t.JRh(U.nzSuffix)}}function L(I,W){if(1&I&&(t.j41(0,"span",7),t.DNE(1,A,2,1,"ng-container",1),t.k0s()),2&I){const U=t.XpG();t.R7$(),t.Y8G("nzStringTemplateOutlet",U.nzSuffix)}}let M=(()=>{class I{constructor(U){this.locale_id=U,this.displayInt="",this.displayDecimal=""}ngOnChanges(){this.formatNumber()}formatNumber(){const U="number"==typeof this.nzValue?".":(0,d.a)(this.locale_id,d.gz.Decimal),k=String(this.nzValue),[z,b]=k.split(U);this.displayInt=z,this.displayDecimal=b?`${U}${b}`:""}static#t=this.\u0275fac=function(k){return new(k||I)(t.rXU(t.xe9))};static#e=this.\u0275cmp=t.VBU({type:I,selectors:[["nz-statistic-number"]],inputs:{nzValue:"nzValue",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatisticNumber"],standalone:!0,features:[t.OA$,t.aNF],decls:3,vars:2,consts:[[1,"ant-statistic-content-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-statistic-content-value-int",4,"ngIf"],["class","ant-statistic-content-value-decimal",4,"ngIf"],[1,"ant-statistic-content-value-int"],[1,"ant-statistic-content-value-decimal"]],template:function(k,z){1&k&&(t.j41(0,"span",0),t.DNE(1,r,1,4,"ng-container",1)(2,s,3,2,"ng-container",2),t.k0s()),2&k&&(t.R7$(),t.Y8G("ngIf",z.nzValueTemplate),t.R7$(),t.Y8G("ngIf",!z.nzValueTemplate))},dependencies:[d.bT,d.T3],encapsulation:2,changeDetection:0})}return I})(),o=(()=>{class I{constructor(U,k){this.cdr=U,this.directionality=k,this.nzValueStyle={},this.dir="ltr",this.destroy$=new C.B}ngOnInit(){this.directionality.change?.pipe((0,y.Q)(this.destroy$)).subscribe(U=>{this.dir=U,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(k){return new(k||I)(t.rXU(t.gRc),t.rXU(j.dS,8))};static#e=this.\u0275cmp=t.VBU({type:I,selectors:[["nz-statistic"]],hostAttrs:[1,"ant-statistic"],hostVars:2,hostBindings:function(k,z){2&k&&t.AVh("ant-statistic-rtl","rtl"===z.dir)},inputs:{nzPrefix:"nzPrefix",nzSuffix:"nzSuffix",nzTitle:"nzTitle",nzValue:"nzValue",nzValueStyle:"nzValueStyle",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatistic"],standalone:!0,features:[t.aNF],decls:6,vars:6,consts:[[1,"ant-statistic-title"],[4,"nzStringTemplateOutlet"],[1,"ant-statistic-content",3,"ngStyle"],["class","ant-statistic-content-prefix",4,"ngIf"],[3,"nzValue","nzValueTemplate"],["class","ant-statistic-content-suffix",4,"ngIf"],[1,"ant-statistic-content-prefix"],[1,"ant-statistic-content-suffix"]],template:function(k,z){1&k&&(t.j41(0,"div",0),t.DNE(1,l,2,1,"ng-container",1),t.k0s(),t.j41(2,"div",2),t.DNE(3,v,2,1,"span",3),t.nrm(4,"nz-statistic-number",4),t.DNE(5,L,2,1,"span",5),t.k0s()),2&k&&(t.R7$(),t.Y8G("nzStringTemplateOutlet",z.nzTitle),t.R7$(),t.Y8G("ngStyle",z.nzValueStyle),t.R7$(),t.Y8G("ngIf",z.nzPrefix),t.R7$(),t.Y8G("nzValue",z.nzValue)("nzValueTemplate",z.nzValueTemplate),t.R7$(),t.Y8G("ngIf",z.nzSuffix))},dependencies:[M,d.bT,m.C,m.m,d.B3],encapsulation:2,changeDetection:0})}return I})()},9541:(Y,N,n)=>{"use strict";n.d(N,{JZ:()=>vt,Tl:()=>bt,hM:()=>Ht,rE:()=>gt});var t=n(4438),C=n(7806),d=n(5103),y=n(4500),m=n(851),j=n(4085),_=n(7336),r=n(177),p=n(3726),c=n(8359),s=n(536),l=n(5007),u=n(1413),v=n(7673),A=n(7786),L=n(6977),x=n(3798),M=n(9172),o=n(1594),V=n(5964),w=n(1986),H=n(2602),I=n(1868),W=n(494),U=n(5979),k=n(8203),z=n(1635),b=n(317),T=n(6530),B=n(6035),O=n(1265);function F(h,J){if(1&h&&(t.qex(0),t.nrm(1,"span",1),t.bVm()),2&h){const e=J.$implicit;t.R7$(),t.Y8G("nzType",e)}}const X=()=>({minWidth:"46px"}),S=()=>({visible:!1});function P(h,J){if(1&h&&(t.qex(0),t.EFF(1),t.bVm()),2&h){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.tab.label," ")}}function E(h,J){if(1&h){const e=t.RV6();t.j41(0,"li",8),t.bIt("click",function(){const a=t.eBV(e).$implicit,g=t.XpG(2);return t.Njj(g.onSelect(a))})("contextmenu",function(a){const g=t.eBV(e).$implicit,$=t.XpG(2);return t.Njj($.onContextmenu(g,a))}),t.DNE(1,P,2,1,"ng-container",9),t.k0s()}if(2&h){const e=J.$implicit;t.AVh("ant-tabs-dropdown-menu-item-disabled",e.disabled),t.Y8G("nzSelected",e.active)("nzDisabled",e.disabled),t.R7$(),t.Y8G("nzStringTemplateOutlet",e.tab.label)("nzStringTemplateOutletContext",t.lJ4(6,S))}}function f(h,J){if(1&h&&(t.j41(0,"ul",6),t.DNE(1,E,2,7,"li",7),t.k0s()),2&h){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.items)}}function D(h,J){if(1&h){const e=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addClicked.emit())}),t.k0s()}if(2&h){const e=t.XpG();t.Y8G("addIcon",e.addIcon)}}const R=["navWarp"],G=["navList"],q=["*"];function et(h,J){if(1&h){const e=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addClicked.emit())}),t.k0s()}if(2&h){const e=t.XpG();t.Y8G("addIcon",e.addIcon),t.BMQ("tabindex",-1)}}function Z(h,J){}function nt(h,J){if(1&h&&(t.j41(0,"div",9),t.DNE(1,Z,0,0,"ng-template",10),t.k0s()),2&h){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",e.extraTemplate)}}const at=["nz-tab-body",""];function lt(h,J){}function jt(h,J){if(1&h&&(t.qex(0),t.DNE(1,lt,0,0,"ng-template",1),t.bVm()),2&h){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",e.content)}}function kt(h,J){if(1&h&&(t.qex(0),t.nrm(1,"span",1),t.bVm()),2&h){const e=J.$implicit;t.R7$(),t.Y8G("nzType",e)}}const St=["contentTemplate"],At=[[["","nz-tab-link",""]],"*"],Rt=["[nz-tab-link]","*"];function Ut(h,J){1&h&&t.SdG(0)}function Nt(h,J){1&h&&t.SdG(0,1)}const Lt=()=>({visible:!0});function $t(h,J){if(1&h&&(t.qex(0),t.EFF(1),t.bVm()),2&h){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.label)}}function Wt(h,J){if(1&h){const e=t.RV6();t.j41(0,"button",10),t.bIt("click",function(a){t.eBV(e);const g=t.XpG().index,$=t.XpG(2);return t.Njj($.onClose(g,a))}),t.k0s()}if(2&h){const e=t.XpG().$implicit;t.Y8G("closeIcon",e.nzCloseIcon)}}function Ft(h,J){if(1&h){const e=t.RV6();t.j41(0,"div",6),t.bIt("click",function(a){const g=t.eBV(e),$=g.$implicit,K=g.index,Q=t.XpG(2);return t.Njj(Q.clickNavItem($,K,a))})("contextmenu",function(a){const g=t.eBV(e).$implicit,$=t.XpG(2);return t.Njj($.contextmenuNavItem(g,a))}),t.j41(1,"button",7),t.DNE(2,$t,2,1,"ng-container",8)(3,Wt,1,1,"button",9),t.k0s()()}if(2&h){const e=J.$implicit,i=J.index,a=t.XpG(2);t.xc7("margin-right","horizontal"===a.position?a.nzTabBarGutter:null,"px")("margin-bottom","vertical"===a.position?a.nzTabBarGutter:null,"px"),t.AVh("ant-tabs-tab-active",a.nzSelectedIndex===i)("ant-tabs-tab-disabled",e.nzDisabled),t.R7$(),t.Y8G("id",a.getTabContentId(i))("disabled",e.nzDisabled)("tab",e)("active",a.nzSelectedIndex===i),t.BMQ("tabIndex",a.getTabIndex(e,i))("aria-disabled",e.nzDisabled)("aria-selected",a.nzSelectedIndex===i&&!a.nzHideAll)("aria-controls",a.getTabContentId(i)),t.R7$(),t.Y8G("nzStringTemplateOutlet",e.label)("nzStringTemplateOutletContext",t.lJ4(19,Lt)),t.R7$(),t.Y8G("ngIf",e.nzClosable&&a.closable&&!e.nzDisabled)}}function Xt(h,J){if(1&h){const e=t.RV6();t.j41(0,"nz-tabs-nav",4),t.bIt("tabScroll",function(a){t.eBV(e);const g=t.XpG();return t.Njj(g.nzTabListScroll.emit(a))})("selectFocusedIndex",function(a){t.eBV(e);const g=t.XpG();return t.Njj(g.setSelectedIndex(a))})("addClicked",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.onAdd())}),t.DNE(1,Ft,4,20,"div",5),t.k0s()}if(2&h){const e=t.XpG();t.Y8G("ngStyle",e.nzTabBarStyle)("selectedIndex",e.nzSelectedIndex||0)("inkBarAnimated",e.inkBarAnimated)("addable",e.addable)("addIcon",e.nzAddIcon)("hideBar",e.nzHideAll)("position",e.position)("extraTemplate",e.nzTabBarExtraContent),t.R7$(),t.Y8G("ngForOf",e.tabs)}}function Vt(h,J){if(1&h&&t.nrm(0,"div",11),2&h){const e=J.$implicit,i=J.index,a=t.XpG();t.Y8G("id",a.getTabContentId(i))("active",a.nzSelectedIndex===i&&!a.nzHideAll)("content",e.content)("forceRender",e.nzForceRender)("tabPaneAnimated",a.tabPaneAnimated),t.BMQ("aria-labelledby",a.getTabContentId(i))}}let dt=(()=>{class h{constructor(e){this.elementRef=e,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(t.aKT))};static#e=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(i,a){1&i&&t.DNE(0,F,2,1,"ng-container",0),2&i&&t.Y8G("nzStringTemplateOutlet",a.addIcon)},dependencies:[C.C,C.m,d.Y3,d.Dn],encapsulation:2})}return h})(),_t=(()=>{class h{get _animated(){return"NoopAnimations"!==this.animationMode&&this.animated}constructor(e,i,a){this.elementRef=e,this.ngZone=i,this.animationMode=a,this.position="horizontal",this.animated=!0}alignToElement(e){this.ngZone.runOutsideAngular(()=>{(0,y.j)(()=>this.setStyles(e))})}setStyles(e){const i=this.elementRef.nativeElement;"horizontal"===this.position?(i.style.top="",i.style.height="",i.style.left=this.getLeftPosition(e),i.style.width=this.getElementWidth(e)):(i.style.left="",i.style.width="",i.style.top=this.getTopPosition(e),i.style.height=this.getElementHeight(e))}getLeftPosition(e){return e?`${e.offsetLeft||0}px`:"0"}getElementWidth(e){return e?`${e.offsetWidth||0}px`:"0"}getTopPosition(e){return e?`${e.offsetTop||0}px`:"0"}getElementHeight(e){return e?`${e.offsetHeight||0}px`:"0"}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.bc$,8))};static#e=this.\u0275dir=t.FsC({type:h,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(i,a){2&i&&t.AVh("ant-tabs-ink-bar-animated",a._animated)},inputs:{position:"position",animated:"animated"},standalone:!0})}return h})(),mt=(()=>{class h{constructor(e){this.elementRef=e,this.disabled=!1,this.active=!1,this.el=e.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(t.aKT))};static#e=this.\u0275dir=t.FsC({type:h,selectors:[["","nzTabNavItem",""]],inputs:{disabled:"disabled",tab:"tab",active:"active"},standalone:!0})}return h})(),ut=(()=>{class h{constructor(e,i){this.cdr=e,this.elementRef=i,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new t.bkB,this.selected=new t.bkB,this.closeAnimationWaitTimeoutId=-1,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(e){e.disabled||(e.tab.nzClick.emit(),this.selected.emit(e))}onContextmenu(e,i){e.disabled||e.tab.nzContextmenu.emit(i)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(e){e||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(t.gRc),t.rXU(t.aKT))};static#e=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(i,a){2&i&&t.AVh("ant-tabs-nav-operations-hidden",0===a.items.length)},inputs:{items:"items",addable:"addable",addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],standalone:!0,features:[t.aNF],decls:7,vars:6,consts:[["dropdownTrigger","nzDropdown"],["menu","nzDropdownMenu"],["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzVisibleChange","mouseenter","nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement"],["nz-icon","","nzType","ellipsis"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"click","contextmenu","nzSelected","nzDisabled"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"click","addIcon"]],template:function(i,a){if(1&i){const g=t.RV6();t.j41(0,"button",2,0),t.bIt("nzVisibleChange",function(K){return t.eBV(g),t.Njj(a.menuVisChange(K))})("mouseenter",function(){return t.eBV(g),t.Njj(a.showItems())}),t.nrm(2,"span",3),t.k0s(),t.j41(3,"nz-dropdown-menu",null,1),t.DNE(5,f,2,1,"ul",4),t.k0s(),t.DNE(6,D,1,1,"button",5)}if(2&i){const g=t.sdS(4);t.Y8G("nzDropdownMenu",g)("nzOverlayStyle",t.lJ4(5,X))("nzMatchWidthElement",null),t.R7$(5),t.Y8G("ngIf",a.menuOpened),t.R7$(),t.Y8G("ngIf",a.addable)}},dependencies:[d.Y3,d.Dn,r.bT,r.Sq,C.C,C.m,dt,H.wQ,I.GP,I.jS,I.CU,H.j3],encapsulation:2,changeDetection:0})}return h})();const Et=.995**20;let yt=(()=>{class h{constructor(e,i){this.ngZone=e,this.elementRef=i,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new t.bkB,this.tabScroll=new t.bkB,this.onTouchEnd=a=>{if(!this.touchPosition)return;const g=this.lastOffset,$=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,g){const K=g.x/$,Q=g.y/$,st=Math.abs(K),ot=Math.abs(Q);if(Math.max(st,ot)<.1)return;let it=K,rt=Q;this.motion=window.setInterval(()=>{Math.abs(it)<.01&&Math.abs(rt)<.01?window.clearInterval(this.motion):(it*=Et,rt*=Et,this.onOffset(20*it,20*rt,a))},20)}},this.onTouchMove=a=>{if(!this.touchPosition)return;a.preventDefault();const{screenX:g,screenY:$}=a.touches[0],K=g-this.touchPosition.x,Q=$-this.touchPosition.y;this.onOffset(K,Q,a);const st=Date.now();this.lastTimeDiff=st-this.lastTimestamp,this.lastTimestamp=st,this.lastOffset={x:K,y:Q},this.touchPosition={x:g,y:$}},this.onTouchStart=a=>{const{screenX:g,screenY:$}=a.touches[0];this.touchPosition={x:g,y:$},window.clearInterval(this.motion)},this.onWheel=a=>{const{deltaX:g,deltaY:$}=a;let K;const Q=Math.abs(g),st=Math.abs($);Q===st?K="x"===this.lastWheelDirection?g:$:Q>st?(K=g,this.lastWheelDirection="x"):(K=$,this.lastWheelDirection="y");const ot=Date.now(),it=Math.abs(K);(ot-this.lastWheelTimestamp>100||it-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-K,-K,a),(a.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=ot,this.lastMixedWheel=it}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{const e=this.elementRef.nativeElement,i=(0,p.R)(e,"wheel"),a=(0,p.R)(e,"touchstart"),g=(0,p.R)(e,"touchmove"),$=(0,p.R)(e,"touchend"),K=new c.yU;return K.add(this.subscribeWrap("wheel",i,this.onWheel)),K.add(this.subscribeWrap("touchstart",a,this.onTouchStart)),K.add(this.subscribeWrap("touchmove",g,this.onTouchMove)),K.add(this.subscribeWrap("touchend",$,this.onTouchEnd)),()=>{K.unsubscribe()}})}subscribeWrap(e,i,a){return i.subscribe(g=>{this.tabScroll.emit({type:e,event:g}),g.defaultPrevented||a(g)})}onOffset(e,i,a){this.ngZone.run(()=>{this.offsetChange.emit({x:e,y:i,event:a})})}ngOnDestroy(){this.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(t.SKi),t.rXU(t.aKT))};static#e=this.\u0275dir=t.FsC({type:h,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"},standalone:!0})}return h})();const Gt=typeof requestAnimationFrame<"u"?s.X:l.$;let pt=(()=>{class h{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=(0,j.OE)(e);this._selectedIndex!==i&&(this._selectedIndex=e,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(e))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(e){!this.isValidIndex(e)||this.focusIndex===e||!this.keyManager||this.keyManager.setActiveItem(e)}get showAddButton(){return 0===this.hiddenItems.length&&this.addable}constructor(e,i,a,g,$){this.cdr=e,this.ngZone=i,this.viewportRuler=a,this.nzResizeObserver=g,this.dir=$,this.indexFocused=new t.bkB,this.selectFocusedIndex=new t.bkB,this.addClicked=new t.bkB,this.tabScroll=new t.bkB,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new u.B,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1,this.lockAnimationTimeoutId=-1,this.cssTransformTimeWaitingId=-1}ngAfterViewInit(){const e=this.dir?this.dir.change.asObservable():(0,v.of)(null),i=this.viewportRuler.change(150),a=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new m.Bu(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),(0,y.j)(a),(0,A.h)(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe((0,L.Q)(this.destroy$),(0,x.Z)(16,Gt)).subscribe(()=>{a()}),(0,A.h)(e,i,this.items.changes).pipe((0,L.Q)(this.destroy$)).subscribe(()=>{Promise.resolve().then(a),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe((0,L.Q)(this.destroy$)).subscribe(g=>{this.indexFocused.emit(g),this.setTabFocus(g),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(e){const i=this.items.toArray().findIndex(a=>a===e);-1!==i&&(this.keyManager.updateActiveItem(i),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(e)))}onOffsetChange(e){if("horizontal"===this.position){if(-1===this.lockAnimationTimeoutId&&(this.transformX>=0&&e.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&e.x<0))return;e.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+e.x),this.setTransform(this.transformX,0)}else{if(-1===this.lockAnimationTimeoutId&&(this.transformY>=0&&e.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&e.y<0))return;e.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+e.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(e){const i=this.navWarpRef.nativeElement.contains(e.target);if(!(0,_.rp)(e)&&i)switch(e.keyCode){case _.UQ:case _.i7:case _.LE:case _.n6:this.lockAnimation(),this.keyManager.onKeydown(e);break;case _.Fm:case _.t6:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(e)}}isValidIndex(e){if(!this.items)return!0;const i=this.items?this.items.toArray()[e]:null;return!!i&&!i.disabled}scrollToTab(e){if(!this.items.find(a=>a===e))return;const i=this.items.toArray();if("horizontal"===this.position){let a=this.transformX;if("rtl"===this.getLayoutDirection()){const g=i[0].left+i[0].width-e.left-e.width;g<this.transformX?a=g:g+e.width>this.transformX+this.wrapperWidth&&(a=g+e.width-this.wrapperWidth)}else e.left<-this.transformX?a=-e.left:e.left+e.width>-this.transformX+this.wrapperWidth&&(a=-(e.left+e.width-this.wrapperWidth));this.transformX=a,this.transformY=0,this.setTransform(a,0)}else{let a=this.transformY;e.top<-this.transformY?a=-e.top:e.top+e.height>-this.transformY+this.wrapperHeight&&(a=-(e.top+e.height-this.wrapperHeight)),this.transformY=a,this.transformX=0,this.setTransform(0,a)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},150)}lockAnimation(){-1===this.lockAnimationTimeoutId&&this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=-1},150)})}setTransform(e,i){this.navListRef.nativeElement.style.transform=`translate(${e}px, ${i}px)`}clampTransformX(e){const i=this.wrapperWidth-this.scrollListWidth;return"rtl"===this.getLayoutDirection()?Math.max(Math.min(i,e),0):Math.min(Math.max(i,e),0)}clampTransformY(e){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,e),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){const e=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i&&this.inkBar.alignToElement(i.parentElement)}setPingStatus(){const e={top:!1,right:!1,bottom:!1,left:!1},i=this.navWarpRef.nativeElement;"horizontal"===this.position?"rtl"===this.getLayoutDirection()?(e.right=this.transformX>0,e.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(e.left=this.transformX<0,e.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(e.top=this.transformY<0,e.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(e).forEach(a=>{const g=`ant-tabs-nav-wrap-ping-${a}`;e[a]?i.classList.add(g):i.classList.remove(g)})}setVisibleRange(){let e,i,a,g,$,K;const Q=this.items.toArray(),st={width:0,height:0,left:0,top:0,right:0},ot=tt=>{let ct;return ct="right"===i?Q[0].left+Q[0].width-Q[tt].left-Q[tt].width:(Q[tt]||st)[i],ct};"horizontal"===this.position?(e="width",g=this.wrapperWidth,$=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),K=this.addButtonWidth,a=Math.abs(this.transformX),"rtl"===this.getLayoutDirection()?(i="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,i="left")):(e="height",g=this.wrapperHeight,$=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),K=this.addButtonHeight,i="top",a=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let it=g;if($+K>g&&(it=g-K),!Q.length)return this.hiddenItems=[],void this.cdr.markForCheck();const rt=Q.length;let Pt=rt;for(let tt=0;tt<rt;tt+=1)if(ot(tt)+(Q[tt]||st)[e]>a+it){Pt=tt-1;break}let Bt=0;for(let tt=rt-1;tt>=0;tt-=1)if(ot(tt)<a){Bt=tt+1;break}const Jt=Q.slice(0,Bt),Qt=Q.slice(Pt+1);this.hiddenItems=[...Jt,...Qt],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}setTabFocus(e){}ngOnChanges(e){const{position:i}=e;i&&!i.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(W.Xj),t.rXU(U.xH),t.rXU(k.dS,8))};static#e=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tabs-nav"]],contentQueries:function(i,a,g){if(1&i&&t.wni(g,mt,5),2&i){let $;t.mGM($=t.lsd())&&(a.items=$)}},viewQuery:function(i,a){if(1&i&&(t.GBs(R,7),t.GBs(G,7),t.GBs(ut,7),t.GBs(dt,5),t.GBs(_t,7)),2&i){let g;t.mGM(g=t.lsd())&&(a.navWarpRef=g.first),t.mGM(g=t.lsd())&&(a.navListRef=g.first),t.mGM(g=t.lsd())&&(a.operationRef=g.first),t.mGM(g=t.lsd())&&(a.addBtnRef=g.first),t.mGM(g=t.lsd())&&(a.inkBar=g.first)}},hostAttrs:[1,"ant-tabs-nav"],hostBindings:function(i,a){1&i&&t.bIt("keydown",function($){return a.handleKeydown($)})},inputs:{position:"position",addable:"addable",hideBar:"hideBar",addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:q,decls:9,vars:16,consts:[["navWarp",""],["navList",""],[1,"ant-tabs-nav-wrap"],["nzTabScrollList","","role","tablist",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["role","tab","nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addClicked","selected","addIcon","addable","items"],["class","ant-tabs-extra-content",4,"ngIf"],["role","tab","nz-tab-add-button","",3,"click","addIcon"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(i,a){if(1&i){const g=t.RV6();t.NAR(),t.j41(0,"div",2,0)(2,"div",3,1),t.bIt("offsetChange",function(K){return t.eBV(g),t.Njj(a.onOffsetChange(K))})("tabScroll",function(K){return t.eBV(g),t.Njj(a.tabScroll.emit(K))}),t.SdG(4),t.DNE(5,et,1,2,"button",4),t.nrm(6,"div",5),t.k0s()(),t.j41(7,"nz-tab-nav-operation",6),t.bIt("addClicked",function(){return t.eBV(g),t.Njj(a.addClicked.emit())})("selected",function(K){return t.eBV(g),t.Njj(a.onSelectedFromMenu(K))}),t.k0s(),t.DNE(8,nt,2,1,"div",7)}2&i&&(t.AVh("ant-tabs-nav-wrap-ping-left",a.pingLeft)("ant-tabs-nav-wrap-ping-right",a.pingRight)("ant-tabs-nav-wrap-ping-top",a.pingTop)("ant-tabs-nav-wrap-ping-bottom",a.pingBottom),t.R7$(5),t.Y8G("ngIf",a.showAddButton),t.R7$(),t.Y8G("hidden",a.hideBar)("position",a.position)("animated",a.inkBarAnimated),t.R7$(),t.Y8G("addIcon",a.addIcon)("addable",a.addable)("items",a.hiddenItems),t.R7$(),t.Y8G("ngIf",a.extraTemplate))},dependencies:[yt,r.bT,dt,_t,ut,r.T3],encapsulation:2,changeDetection:0})}return h})(),Dt=(()=>{class h{constructor(){this.content=null,this.active=!1,this.tabPaneAnimated=!0,this.forceRender=!1}static#t=this.\u0275fac=function(i){return new(i||h)};static#e=this.\u0275cmp=t.VBU({type:h,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:12,hostBindings:function(i,a){2&i&&(t.BMQ("tabindex",a.active?0:-1)("aria-hidden",!a.active),t.xc7("visibility",a.tabPaneAnimated?a.active?null:"hidden":null)("height",a.tabPaneAnimated?a.active?null:0:null)("overflow-y",a.tabPaneAnimated?a.active?null:"none":null)("display",a.tabPaneAnimated||a.active?null:"none"),t.AVh("ant-tabs-tabpane-active",a.active))},inputs:{content:"content",active:"active",tabPaneAnimated:"tabPaneAnimated",forceRender:"forceRender"},exportAs:["nzTabBody"],standalone:!0,features:[t.aNF],attrs:at,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(i,a){1&i&&t.DNE(0,jt,2,1,"ng-container",0),2&i&&t.Y8G("ngIf",a.active||a.forceRender)},dependencies:[r.bT,r.T3],encapsulation:2,changeDetection:0})}return h})(),ft=(()=>{class h{constructor(){this.closeIcon="close"}static#t=this.\u0275fac=function(i){return new(i||h)};static#e=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(i,a){1&i&&t.DNE(0,kt,2,1,"ng-container",0),2&i&&t.Y8G("nzStringTemplateOutlet",a.closeIcon)},dependencies:[C.C,C.m,d.Y3,d.Dn],encapsulation:2})}return h})(),Mt=(()=>{class h{constructor(e){this.templateRef=e}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(t.C4Q,1))};static#e=this.\u0275dir=t.FsC({type:h,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"],standalone:!0})}return h})(),It=(()=>{class h{constructor(e,i){this.elementRef=e,this.routerLink=i}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(t.aKT),t.rXU(T.Wk,10))};static#e=this.\u0275dir=t.FsC({type:h,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"],standalone:!0})}return h})(),bt=(()=>{class h{static#t=this.\u0275fac=function(i){return new(i||h)};static#e=this.\u0275dir=t.FsC({type:h,selectors:[["","nz-tab",""]],exportAs:["nzTab"],standalone:!0})}return h})();const Ot=new t.nKC("NZ_TAB_SET");let gt=(()=>{class h{get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}constructor(e){this.closestTabSet=e,this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new t.bkB,this.nzDeselect=new t.bkB,this.nzClick=new t.bkB,this.nzContextmenu=new t.bkB,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.stateChanges=new u.B}ngOnChanges(e){const{nzTitle:i,nzDisabled:a,nzForceRender:g}=e;(i||a||g)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(Ot))};static#e=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tab"]],contentQueries:function(i,a,g){if(1&i&&(t.wni(g,Mt,5),t.wni(g,bt,5,t.C4Q),t.wni(g,It,5)),2&i){let $;t.mGM($=t.lsd())&&(a.nzTabLinkTemplateDirective=$.first),t.mGM($=t.lsd())&&(a.template=$.first),t.mGM($=t.lsd())&&(a.linkDirective=$.first)}},viewQuery:function(i,a){if(1&i&&t.GBs(St,7),2&i){let g;t.mGM(g=t.lsd())&&(a.contentTemplate=g.first)}},inputs:{nzTitle:"nzTitle",nzClosable:"nzClosable",nzCloseIcon:"nzCloseIcon",nzDisabled:"nzDisabled",nzForceRender:"nzForceRender"},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:Rt,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(i,a){1&i&&(t.NAR(At),t.DNE(0,Ut,1,0,"ng-template",null,0,t.C5r)(2,Nt,1,0,"ng-template",null,1,t.C5r))},encapsulation:2,changeDetection:0})}return(0,z.Cg)([(0,b.H3)()],h.prototype,"nzClosable",void 0),(0,z.Cg)([(0,b.H3)()],h.prototype,"nzDisabled",void 0),(0,z.Cg)([(0,b.H3)()],h.prototype,"nzForceRender",void 0),h})();class wt{}let Yt=0,vt=(()=>{class h{get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(e){this.indexToSelect=(0,j.OE)(e,null)}get position(){return-1===["top","bottom"].indexOf(this.nzTabPosition)?"vertical":"horizontal"}get addable(){return"editable-card"===this.nzType&&!this.nzHideAdd}get closable(){return"editable-card"===this.nzType}get line(){return"line"===this.nzType}get inkBarAnimated(){return this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return"horizontal"===this.position&&this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.tabPane)}constructor(e,i,a,g,$){this.nzConfigService=e,this.ngZone=i,this.cdr=a,this.directionality=g,this.router=$,this._nzModuleName="tabs",this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new t.bkB(!0),this.nzSelectedIndexChange=new t.bkB,this.nzTabListScroll=new t.bkB,this.nzClose=new t.bkB,this.nzAdd=new t.bkB,this.allTabs=new t.rOR,this.tabs=new t.rOR,this.dir="ltr",this.destroy$=new u.B,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=c.yU.EMPTY,this.tabsSubscription=c.yU.EMPTY,this.canDeactivateSubscription=c.yU.EMPTY,this.tabSetId=Yt++}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,L.Q)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){const i=this.tabs.toArray();for(let a=0;a<i.length;a++)if(i[a].isActive){this.indexToSelect=this.selectedIndex=a;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){const e=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==e){const i=null==this.selectedIndex;i||this.nzSelectChange.emit(this.createChangeEvent(e)),Promise.resolve().then(()=>{this.tabs.forEach((a,g)=>a.isActive=g===e),i||this.nzSelectedIndexChange.emit(e)})}this.tabs.forEach((i,a)=>{i.position=a-e,null!=this.selectedIndex&&0===i.position&&!i.origin&&(i.origin=e-this.selectedIndex)}),this.selectedIndex!==e&&(this.selectedIndex=e,this.cdr.markForCheck())}onClose(e,i){i.preventDefault(),i.stopPropagation(),this.nzClose.emit({index:e})}onAdd(){this.nzAdd.emit()}clampTabIndex(e){return Math.min(this.tabs.length-1,Math.max(e||0,0))}createChangeEvent(e){const i=new wt;return i.index=e,this.tabs&&this.tabs.length&&(i.tab=this.tabs.toArray()[e],this.tabs.forEach((a,g)=>{g!==e&&a.nzDeselect.emit()}),i.tab.nzSelect.emit()),i}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=(0,A.h)(...this.tabs.map(e=>e.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe((0,M.Z)(this.allTabs)).subscribe(e=>{this.tabs.reset(e.filter(i=>i.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(e,i){return"function"==typeof this.nzCanDeactivate?(0,b.cG)(this.nzCanDeactivate(e,i)).pipe((0,o.$)(),(0,L.Q)(this.destroy$)):(0,v.of)(!0)}clickNavItem(e,i,a){e.nzDisabled||(e.nzClick.emit(),this.isRouterLinkClickEvent(i,a)||this.setSelectedIndex(i))}isRouterLinkClickEvent(e,i){const a=i.target;return!!this.nzLinkRouter&&!!this.tabs.toArray()[e]?.linkDirective?.elementRef.nativeElement.contains(a)}contextmenuNavItem(e,i){e.nzDisabled||e.nzContextmenu.emit(i)}setSelectedIndex(e){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,e).subscribe(i=>{i&&(this.nzSelectedIndex=e,this.tabNavBarRef.focusIndex=e,this.cdr.markForCheck())})}getTabIndex(e,i){return e.nzDisabled?null:this.selectedIndex===i?0:-1}getTabContentId(e){return`nz-tabs-${this.tabSetId}-tab-${e}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${O.H3} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe((0,L.Q)(this.destroy$),(0,V.p)(e=>e instanceof T.wF),(0,M.Z)(!0),(0,w.c)(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router.navigated){const e=this.findShouldActiveTabIndex();e!==this.selectedIndex&&this.setSelectedIndex(e),this.nzHideAll=-1===e}}findShouldActiveTabIndex(){const e=this.tabs.toArray(),i=this.isLinkActive(this.router);return e.findIndex(a=>{const g=a.linkDirective;return!!g&&i(g.routerLink)})}isLinkActive(e){return i=>!!i&&e.isActive(i.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}getTabContentMarginValue(){return 100*-(this.nzSelectedIndex||0)}getTabContentMarginLeft(){return this.tabPaneAnimated&&"rtl"!==this.dir?`${this.getTabContentMarginValue()}%`:""}getTabContentMarginRight(){return this.tabPaneAnimated&&"rtl"===this.dir?`${this.getTabContentMarginValue()}%`:""}static#t=this.\u0275fac=function(i){return new(i||h)(t.rXU(B.yx),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(k.dS,8),t.rXU(T.Ix,8))};static#e=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tabset"]],contentQueries:function(i,a,g){if(1&i&&t.wni(g,gt,5),2&i){let $;t.mGM($=t.lsd())&&(a.allTabs=$)}},viewQuery:function(i,a){if(1&i&&t.GBs(pt,5),2&i){let g;t.mGM(g=t.lsd())&&(a.tabNavBarRef=g.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(i,a){2&i&&t.AVh("ant-tabs-card","card"===a.nzType||"editable-card"===a.nzType)("ant-tabs-editable","editable-card"===a.nzType)("ant-tabs-editable-card","editable-card"===a.nzType)("ant-tabs-centered",a.nzCentered)("ant-tabs-rtl","rtl"===a.dir)("ant-tabs-top","top"===a.nzTabPosition)("ant-tabs-bottom","bottom"===a.nzTabPosition)("ant-tabs-left","left"===a.nzTabPosition)("ant-tabs-right","right"===a.nzTabPosition)("ant-tabs-default","default"===a.nzSize)("ant-tabs-small","small"===a.nzSize)("ant-tabs-large","large"===a.nzSize)},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:"nzHideAdd",nzCentered:"nzCentered",nzHideAll:"nzHideAll",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact"},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],standalone:!0,features:[t.Jv_([{provide:Ot,useExisting:h}]),t.aNF],decls:4,vars:16,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["role","tabpanel","nz-tab-body","",3,"id","active","content","forceRender","tabPaneAnimated",4,"ngFor","ngForOf"],[3,"tabScroll","selectFocusedIndex","addClicked","ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["type","button","role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"id","disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["type","button","nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["type","button","nz-tab-close-button","",3,"click","closeIcon"],["role","tabpanel","nz-tab-body","",3,"id","active","content","forceRender","tabPaneAnimated"]],template:function(i,a){1&i&&(t.DNE(0,Xt,2,9,"nz-tabs-nav",0),t.j41(1,"div",1)(2,"div",2),t.DNE(3,Vt,1,6,"div",3),t.k0s()()),2&i&&(t.Y8G("ngIf",a.tabs.length||a.addable),t.R7$(2),t.xc7("margin-left",a.getTabContentMarginLeft())("margin-right",a.getTabContentMarginRight()),t.AVh("ant-tabs-content-top","top"===a.nzTabPosition)("ant-tabs-content-bottom","bottom"===a.nzTabPosition)("ant-tabs-content-left","left"===a.nzTabPosition)("ant-tabs-content-right","right"===a.nzTabPosition)("ant-tabs-content-animated",a.tabPaneAnimated),t.R7$(),t.Y8G("ngForOf",a.tabs))},dependencies:[pt,r.bT,r.B3,r.Sq,mt,m.Pd,m.vR,C.C,C.m,ft,Dt],encapsulation:2})}return(0,z.Cg)([(0,B.H4)()],h.prototype,"nzType",void 0),(0,z.Cg)([(0,B.H4)()],h.prototype,"nzSize",void 0),(0,z.Cg)([(0,B.H4)()],h.prototype,"nzAnimated",void 0),(0,z.Cg)([(0,B.H4)()],h.prototype,"nzTabBarGutter",void 0),(0,z.Cg)([(0,b.H3)()],h.prototype,"nzHideAdd",void 0),(0,z.Cg)([(0,b.H3)()],h.prototype,"nzCentered",void 0),(0,z.Cg)([(0,b.H3)()],h.prototype,"nzHideAll",void 0),(0,z.Cg)([(0,b.H3)()],h.prototype,"nzLinkRouter",void 0),(0,z.Cg)([(0,b.H3)()],h.prototype,"nzLinkExact",void 0),h})(),Ht=(()=>{class h{static#t=this.\u0275fac=function(i){return new(i||h)};static#e=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({imports:[vt,pt,ut,dt,ft]})}return h})()}}]);