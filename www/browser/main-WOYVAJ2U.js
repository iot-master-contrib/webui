import{$ as Ie,$c as wt,Aa as C,Ab as R,Ba as H,Bb as Ye,Ca as V,Da as Oe,E as Fe,Ea as p,Ec as ot,Fa as Z,Fb as Y,Fc as st,Fe as ge,Ga as w,Gb as N,Gc as at,Ge as ze,Hb as K,Hc as lt,I as Q,Ia as z,Ib as ee,Ic as ut,Jc as mt,Je as Ut,Ka as D,Kb as te,Kc as ct,L as $,La as qe,Lc as pt,M as O,Mb as ne,Mc as dt,Md as jt,Me as $t,N as g,Nc as ft,Ne as qt,Oc as ht,Oe as Ht,Pb as ie,Pc as gt,Pe as Vt,Q as Te,Qb as re,Qc as zt,Qe as Zt,R as ke,Ra as De,Rb as E,Rc as _t,Re as Xt,S as Le,Sb as oe,Sc as Ct,Ta as Ae,Tc as vt,U as we,Ua as je,Uc as yt,Va as Pe,Vc as bt,Wa as He,Wc as St,Wd as ue,Xc as xt,Xd as me,Y as q,Yc as Mt,Yd as ce,Zc as Ft,Zd as Pt,_ as Ee,_c as Tt,_d as Rt,aa as m,ab as Ve,ad as Et,ba as c,bc as Ke,bd as It,ca as We,cb as A,cc as se,da as Ue,db as M,f as x,fc as et,ge as pe,ia as u,ib as Ze,id as Nt,ie as Bt,ja as Ne,jd as B,ka as J,kc as tt,kd as Ot,l as G,lb as j,le as kt,oa as h,pa as a,qa as l,qe as Lt,ra as f,rc as nt,rd as Dt,sa as F,sb as Xe,sc as it,sd as At,se as Wt,ta as T,tb as Ge,ub as Qe,uc as rt,ue as y,va as $e,vc as ae,ve as de,wc as le,we as fe,xb as Je,xe as k,ya as b,yb as P,ye as he,zb as v}from"./chunk-RGOL6ASX.js";var _=class s{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(r,o=!1){return this.onePassHasher.start().appendStr(r).end(o)}static hashAsciiStr(r,o=!1){return this.onePassHasher.start().appendAsciiStr(r).end(o)}static _hex(r){let o=s.hexChars,n=s.hexOut,e,t,i,d;for(d=0;d<4;d+=1)for(t=d*8,e=r[d],i=0;i<8;i+=2)n[t+1+i]=o.charAt(e&15),e>>>=4,n[t+0+i]=o.charAt(e&15),e>>>=4;return n.join("")}static _md5cycle(r,o){let n=r[0],e=r[1],t=r[2],i=r[3];n+=(e&t|~e&i)+o[0]-680876936|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+o[1]-389564586|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+o[2]+606105819|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+o[3]-1044525330|0,e=(e<<22|e>>>10)+t|0,n+=(e&t|~e&i)+o[4]-176418897|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+o[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+o[6]-1473231341|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+o[7]-45705983|0,e=(e<<22|e>>>10)+t|0,n+=(e&t|~e&i)+o[8]+1770035416|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+o[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+o[10]-42063|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+o[11]-1990404162|0,e=(e<<22|e>>>10)+t|0,n+=(e&t|~e&i)+o[12]+1804603682|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+o[13]-40341101|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+o[14]-1502002290|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+o[15]+1236535329|0,e=(e<<22|e>>>10)+t|0,n+=(e&i|t&~i)+o[1]-165796510|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+o[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+o[11]+643717713|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+o[0]-373897302|0,e=(e<<20|e>>>12)+t|0,n+=(e&i|t&~i)+o[5]-701558691|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+o[10]+38016083|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+o[15]-660478335|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+o[4]-405537848|0,e=(e<<20|e>>>12)+t|0,n+=(e&i|t&~i)+o[9]+568446438|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+o[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+o[3]-187363961|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+o[8]+1163531501|0,e=(e<<20|e>>>12)+t|0,n+=(e&i|t&~i)+o[13]-1444681467|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+o[2]-51403784|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+o[7]+1735328473|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+o[12]-1926607734|0,e=(e<<20|e>>>12)+t|0,n+=(e^t^i)+o[5]-378558|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+o[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+o[11]+1839030562|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+o[14]-35309556|0,e=(e<<23|e>>>9)+t|0,n+=(e^t^i)+o[1]-1530992060|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+o[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+o[7]-155497632|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+o[10]-1094730640|0,e=(e<<23|e>>>9)+t|0,n+=(e^t^i)+o[13]+681279174|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+o[0]-358537222|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+o[3]-722521979|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+o[6]+76029189|0,e=(e<<23|e>>>9)+t|0,n+=(e^t^i)+o[9]-640364487|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+o[12]-421815835|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+o[15]+530742520|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+o[2]-995338651|0,e=(e<<23|e>>>9)+t|0,n+=(t^(e|~i))+o[0]-198630844|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+o[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+o[14]-1416354905|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+o[5]-57434055|0,e=(e<<21|e>>>11)+t|0,n+=(t^(e|~i))+o[12]+1700485571|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+o[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+o[10]-1051523|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+o[1]-2054922799|0,e=(e<<21|e>>>11)+t|0,n+=(t^(e|~i))+o[8]+1873313359|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+o[15]-30611744|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+o[6]-1560198380|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+o[13]+1309151649|0,e=(e<<21|e>>>11)+t|0,n+=(t^(e|~i))+o[4]-145523070|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+o[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+o[2]+718787259|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+o[9]-343485551|0,e=(e<<21|e>>>11)+t|0,r[0]=n+r[0]|0,r[1]=e+r[1]|0,r[2]=t+r[2]|0,r[3]=i+r[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(s.stateIdentity),this}appendStr(r){let o=this._buffer8,n=this._buffer32,e=this._bufferLength,t,i;for(i=0;i<r.length;i+=1){if(t=r.charCodeAt(i),t<128)o[e++]=t;else if(t<2048)o[e++]=(t>>>6)+192,o[e++]=t&63|128;else if(t<55296||t>56319)o[e++]=(t>>>12)+224,o[e++]=t>>>6&63|128,o[e++]=t&63|128;else{if(t=(t-55296)*1024+(r.charCodeAt(++i)-56320)+65536,t>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");o[e++]=(t>>>18)+240,o[e++]=t>>>12&63|128,o[e++]=t>>>6&63|128,o[e++]=t&63|128}e>=64&&(this._dataLength+=64,s._md5cycle(this._state,n),e-=64,n[0]=n[16])}return this._bufferLength=e,this}appendAsciiStr(r){let o=this._buffer8,n=this._buffer32,e=this._bufferLength,t,i=0;for(;;){for(t=Math.min(r.length-i,64-e);t--;)o[e++]=r.charCodeAt(i++);if(e<64)break;this._dataLength+=64,s._md5cycle(this._state,n),e=0}return this._bufferLength=e,this}appendByteArray(r){let o=this._buffer8,n=this._buffer32,e=this._bufferLength,t,i=0;for(;;){for(t=Math.min(r.length-i,64-e);t--;)o[e++]=r[i++];if(e<64)break;this._dataLength+=64,s._md5cycle(this._state,n),e=0}return this._bufferLength=e,this}getState(){let r=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[r[0],r[1],r[2],r[3]]}}setState(r){let o=r.buffer,n=r.state,e=this._state,t;for(this._dataLength=r.length,this._bufferLength=r.buflen,e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],t=0;t<o.length;t+=1)this._buffer8[t]=o.charCodeAt(t)}end(r=!1){let o=this._bufferLength,n=this._buffer8,e=this._buffer32,t=(o>>2)+1;this._dataLength+=o;let i=this._dataLength*8;if(n[o]=128,n[o+1]=n[o+2]=n[o+3]=0,e.set(s.buffer32Identity.subarray(t),t),o>55&&(s._md5cycle(this._state,e),e.set(s.buffer32Identity)),i<=4294967295)e[14]=i;else{let d=i.toString(16).match(/(.*?)(.{0,8})$/);if(d===null)return;let U=parseInt(d[2],16),Be=parseInt(d[1],16)||0;e[14]=U,e[15]=Be}return s._md5cycle(this._state,e),r?this._state:s._hex(this._state)}};_.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);_.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);_.hexChars="0123456789abcdef";_.hexOut=[];_.onePassHasher=new _;if(_.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");var S=(()=>{let r=class r{constructor(n){this.rs=n,this.userSub=new x,this.getting=!0,n.get("user/me").subscribe({next:e=>{this.setUser(e.data)},error:e=>{this.userSub.error(e)}}).add(()=>{this.getting=!1})}setUser(n){this.user=n,this.userSub.next(n)}getUser(){return this.user}subscribe(){return this.userSub.subscribe()}};r.\u0275fac=function(e){return new(e||r)($(y))},r.\u0275prov=Q({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();var W=(()=>{let r=class r{constructor(n,e){this.rs=n,this.title=e,this.oem={name:"\u7269\u8054\u5927\u5E08",logo:"/assets/logo.png",company:"\u65E0\u9521\u771F\u683C\u667A\u80FD\u79D1\u6280\u6709\u9650\u516C\u53F8",copyright:"\xA92016-2024"};let t=localStorage.getItem("oem");t&&(t=JSON.parse(t),Object.assign(this.oem,t),this.title.setTitle(t.title)),n.get("oem").subscribe(i=>{let d=i.data;localStorage.setItem("oem",JSON.stringify(d)),Object.assign(this.oem,d),this.title.setTitle(d.title)})}};r.\u0275fac=function(e){return new(e||r)($(y),$(Qe))},r.\u0275prov=Q({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();var Gt=(()=>{let r=class r{constructor(n,e,t,i,d){this.fb=n,this.rs=e,this.us=t,this.router=i,this.os=d}submitForm(){console.log("submit form");for(let e in this.validateForm.controls)this.validateForm.controls[e].markAsDirty(),this.validateForm.controls[e].updateValueAndValidity();if(!this.validateForm.valid)return;let n=_.hashStr(this.validateForm.value.password);this.rs.post("login",{username:this.validateForm.value.username,password:n}).subscribe(e=>{console.log("res:",e),this.us.setUser(e.data),e.data.admin?this.router.navigateByUrl("/admin"):this.router.navigateByUrl("/select")})}ngOnInit(){this.validateForm=this.fb.group({username:[null,[N.required]],password:[null,[N.required]],remember:[!1]})}};r.\u0275fac=function(e){return new(e||r)(c(re),c(y),c(S),c(v),c(W))},r.\u0275cmp=g({type:r,selectors:[["app-login"]],standalone:!0,features:[z],decls:23,vars:4,consts:[[1,"login"],[1,"login-title"],[1,"login-form"],["nz-form","",3,"formGroup","ngSubmit"],["nzErrorTip","\u8BF7\u8F93\u5165\u7528\u6237\u540D!"],["nzPrefixIcon","user","nzSize","large",2,"border-radius","10px"],["type","text","nz-input","","formControlName","username","placeholder","\u7528\u6237\u540D","nzSize","large"],["nzErrorTip","\u8BF7\u8F93\u5165\u5BC6\u7801!"],["nzPrefixIcon","lock","nzSize","large",2,"border-radius","10px"],["type","password","nz-input","","formControlName","password","placeholder","\u5BC6\u7801"],["nz-row","",1,"login-form-margin"],["nz-col","",3,"nzSpan"],["nz-checkbox","","formControlName","remember","nzDisabled",""],[1,"login-form-forgot"],["nz-button","","nzSize","large","nzType","primary",1,"login-form-button","login-form-margin"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"h1",1),p(2),l(),a(3,"div",2)(4,"form",3),b("ngSubmit",function(){return t.submitForm()}),a(5,"nz-form-item")(6,"nz-form-control",4)(7,"nz-input-group",5),f(8,"input",6),l()()(),a(9,"nz-form-item")(10,"nz-form-control",7)(11,"nz-input-group",8),f(12,"input",9),l()()(),a(13,"div",10)(14,"div",11)(15,"label",12)(16,"span"),p(17,"\u8BB0\u4F4F\u6211"),l()()(),a(18,"div",11)(19,"a",13),p(20,"\u5FD8\u8BB0\u5BC6\u7801"),l()()(),a(21,"button",14),p(22,"\u767B \u5F55"),l()()()()),e&2&&(m(2),Z(t.os.oem.name),m(2),u("formGroup",t.validateForm),m(10),u("nzSpan",12),m(4),u("nzSpan",12))},dependencies:[me,ue,Bt,ce,ae,le,kt,Lt,E,te,Y,K,ee,oe,ne,ie,pe],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-content:center;width:100%;height:100%;background-color:#888;background-image:url(/assets/bg.jpg);background-size:cover;background-position:center}.login[_ngcontent-%COMP%]{margin-top:100px;width:300px;max-width:400px}.login[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{color:#fff;text-align:center;text-shadow:black 2px 2px 5px;letter-spacing:5px}.login-form[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding:30px 50px}.login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-form-forgot[_ngcontent-%COMP%]{float:right}.login-form-button[_ngcontent-%COMP%]{width:100%}"]});let s=r;return s})();var ve=["*"],sn=["nz-sider-trigger",""];function an(s,r){}function ln(s,r){if(s&1&&(F(0),h(1,an,0,0,"ng-template",3),T()),s&2){let o=C(),n=Oe(5);m(1),u("ngTemplateOutlet",o.nzZeroTrigger||n)}}function un(s,r){}function mn(s,r){if(s&1&&(F(0),h(1,un,0,0,"ng-template",3),T()),s&2){let o=C(),n=Oe(3);m(1),u("ngTemplateOutlet",o.nzTrigger||n)}}function cn(s,r){if(s&1&&f(0,"span",5),s&2){let o=C(2);u("nzType",o.nzCollapsed?"right":"left")}}function pn(s,r){if(s&1&&f(0,"span",5),s&2){let o=C(2);u("nzType",o.nzCollapsed?"left":"right")}}function dn(s,r){if(s&1&&h(0,cn,1,1,"span",4)(1,pn,1,1,"span",4),s&2){let o=C();u("ngIf",!o.nzReverseArrow),m(1),u("ngIf",o.nzReverseArrow)}}function fn(s,r){s&1&&f(0,"span",6)}function hn(s,r){if(s&1){let o=$e();a(0,"div",2),b("click",function(){ke(o);let e=C();return Le(e.setCollapsed(!e.nzCollapsed))}),l()}if(s&2){let o=C();u("matchBreakPoint",o.matchBreakPoint)("nzCollapsedWidth",o.nzCollapsedWidth)("nzCollapsed",o.nzCollapsed)("nzBreakpoint",o.nzBreakpoint)("nzReverseArrow",o.nzReverseArrow)("nzTrigger",o.nzTrigger)("nzZeroTrigger",o.nzZeroTrigger)("siderWidth",o.widthSetting)}}var ye=(()=>{let r=class r{constructor(n,e){this.elementRef=n,this.renderer=e,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}};r.\u0275fac=function(e){return new(e||r)(c(Ee),c(Ie))},r.\u0275cmp=g({type:r,selectors:[["nz-content"]],exportAs:["nzContent"],standalone:!0,features:[z],ngContentSelectors:ve,decls:1,vars:0,template:function(e,t){e&1&&(H(),V(0))},encapsulation:2,changeDetection:0});let s=r;return s})();var be=(()=>{let r=class r{constructor(n,e){this.elementRef=n,this.renderer=e,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}};r.\u0275fac=function(e){return new(e||r)(c(Ee),c(Ie))},r.\u0275cmp=g({type:r,selectors:[["nz-header"]],exportAs:["nzHeader"],standalone:!0,features:[z],ngContentSelectors:ve,decls:1,vars:0,template:function(e,t){e&1&&(H(),V(0))},encapsulation:2,changeDetection:0});let s=r;return s})(),gn=(()=>{let r=class r{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=this.nzCollapsedWidth===0&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=this.nzCollapsedWidth!==0}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=g({type:r,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(e,t){e&2&&(Ne("width",t.isNormalTrigger?t.siderWidth:null),J("ant-layout-sider-trigger",t.isNormalTrigger)("ant-layout-sider-zero-width-trigger",t.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",t.isZeroTrigger&&t.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",t.isZeroTrigger&&!t.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],standalone:!0,features:[Te,z],attrs:sn,decls:6,vars:2,consts:[[4,"ngIf"],["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(e,t){e&1&&h(0,ln,2,1,"ng-container",0)(1,mn,2,1,"ng-container",0)(2,dn,2,2,"ng-template",null,1,Pe)(4,fn,1,0,"ng-template",null,2,Pe),e&2&&(u("ngIf",t.isZeroTrigger),m(1),u("ngIf",t.isNormalTrigger))},dependencies:[M,Ze,Ot,B],encapsulation:2,changeDetection:0});let s=r;return s})(),X=(()=>{let r=class r{updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:Ke(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&this.nzMenuDirective.nzMode==="inline"&&this.nzCollapsedWidth!==0&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(n){n!==this.nzCollapsed&&(this.nzCollapsed=n,this.nzCollapsedChange.emit(n),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(n,e,t){this.platform=n,this.cdr=e,this.breakpointService=t,this.destroy$=new x,this.nzMenuDirective=null,this.nzCollapsedChange=new Ue,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(nt,!0).pipe(Fe(this.destroy$)).subscribe(n=>{let e=this.nzBreakpoint;e&&et().subscribe(()=>{this.matchBreakPoint=!n[e],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(n){let{nzCollapsed:e,nzCollapsedWidth:t,nzWidth:i}=n;(e||t||i)&&this.updateStyleMap(),e&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};r.\u0275fac=function(e){return new(e||r)(c(tt),c(We),c(it))},r.\u0275cmp=g({type:r,selectors:[["nz-sider"]],contentQueries:function(e,t,i){if(e&1&&Ae(i,k,5),e&2){let d;De(d=je())&&(t.nzMenuDirective=d.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(e,t){e&2&&(Ne("flex",t.flexSetting)("max-width",t.widthSetting)("min-width",t.widthSetting)("width",t.widthSetting),J("ant-layout-sider-zero-width",t.nzCollapsed&&t.nzCollapsedWidth===0)("ant-layout-sider-light",t.nzTheme==="light")("ant-layout-sider-dark",t.nzTheme==="dark")("ant-layout-sider-collapsed",t.nzCollapsed)("ant-layout-sider-has-trigger",t.nzCollapsible&&t.nzTrigger!==null))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:"nzReverseArrow",nzCollapsible:"nzCollapsible",nzCollapsed:"nzCollapsed"},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],standalone:!0,features:[Te,z],ngContentSelectors:ve,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click",4,"ngIf"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click"]],template:function(e,t){e&1&&(H(),a(0,"div",0),V(1),l(),h(2,hn,1,8,"div",1)),e&2&&(m(2),u("ngIf",t.nzCollapsible&&t.nzTrigger!==null))},dependencies:[M,gn],encapsulation:2,changeDetection:0});let s=r;return G([se()],s.prototype,"nzReverseArrow",void 0),G([se()],s.prototype,"nzCollapsible",void 0),G([se()],s.prototype,"nzCollapsed",void 0),s})(),Se=(()=>{let r=class r{constructor(n){this.directionality=n,this.dir="ltr",this.destroy$=new x}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Fe(this.destroy$)).subscribe(n=>{this.dir=n})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};r.\u0275fac=function(e){return new(e||r)(c(rt,8))},r.\u0275cmp=g({type:r,selectors:[["nz-layout"]],contentQueries:function(e,t,i){if(e&1&&Ae(i,X,4),e&2){let d;De(d=je())&&(t.listOfNzSiderComponent=d)}},hostAttrs:[1,"ant-layout"],hostVars:4,hostBindings:function(e,t){e&2&&J("ant-layout-rtl",t.dir==="rtl")("ant-layout-has-sider",t.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],standalone:!0,features:[z],ngContentSelectors:ve,decls:1,vars:0,template:function(e,t){e&1&&(H(),V(0))},encapsulation:2,changeDetection:0});let s=r;return s})();var xe=(()=>{let r=class r{constructor(n,e,t,i){this.fb=n,this.router=e,this.rs=t,this.msg=i,this.id=0,this.build()}build(){this.group=this.fb.group({old:["",[N.required]],new:["",[N.required]],repeat:["",[N.required]]})}submit(){return new Promise((n,e)=>{if(this.group.valid){let{old:t,repeat:i}=this.group.value,d=this.group.value.new;if(d!==i)return this.msg.warning("\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4\uFF0C\u8BF7\u786E\u8BA4"),e();let U={old:_.hashStr(t),new:_.hashStr(d)};this.rs.post("password",U).subscribe(Be=>{this.rs.get("logout").subscribe(Rn=>{}),this.router.navigateByUrl("/login"),this.msg.success("\u4FDD\u5B58\u6210\u529F"),n(!0)})}else Object.values(this.group.controls).forEach(t=>{t.invalid&&(t.markAsDirty(),t.updateValueAndValidity({onlySelf:!0}),e())})})}};r.\u0275fac=function(e){return new(e||r)(c(re),c(v),c(y),c(Wt))},r.\u0275cmp=g({type:r,selectors:[["app-password"]],standalone:!0,features:[z],decls:16,vars:13,consts:[["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","old",3,"nzSm","nzXs"],["nzErrorTip","\u539F\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","old","placeholder",""],["nzRequired","","nzFor","new",3,"nzSm","nzXs"],["nzErrorTip","\u65B0\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","new"],["nzRequired","","nzFor","repeat",3,"nzSm","nzXs"],["nzErrorTip","\u8BF7\u518D\u6B21\u8F93\u5165\u65B0\u5BC6\u7801",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","repeat"]],template:function(e,t){e&1&&(a(0,"form",0),b("ngSubmit",function(){return t.submit()}),a(1,"nz-form-item")(2,"nz-form-label",1),p(3,"\u539F\u5BC6\u7801"),l(),a(4,"nz-form-control",2),f(5,"input",3),l()(),a(6,"nz-form-item")(7,"nz-form-label",4),p(8,"\u65B0\u5BC6\u7801"),l(),a(9,"nz-form-control",5),f(10,"input",6),l()(),a(11,"nz-form-item")(12,"nz-form-label",7),p(13,"\u91CD\u590D\u5BC6\u7801"),l(),a(14,"nz-form-control",8),f(15,"input",9),l()()()),e&2&&(u("formGroup",t.group),m(2),u("nzSm",6)("nzXs",24),m(2),u("nzSm",14)("nzXs",24),m(3),u("nzSm",6)("nzXs",24),m(2),u("nzSm",14)("nzXs",24),m(3),u("nzSm",6)("nzXs",24),m(2),u("nzSm",14)("nzXs",24))},dependencies:[pe,Rt,le,ae,me,ue,Pt,ce,oe,te,Y,K,ee,ne,ie]});let s=r;return s})();function Cn(s,r){if(s&1&&(a(0,"a",23),p(1),l()),s&2){let o=C().$implicit;u("href",o.url,q),m(1),Z(o.name)}}var vn=s=>({url:s});function yn(s,r){if(s&1&&(a(0,"a",24),p(1),l()),s&2){let o=C().$implicit;u("routerLink",o.link||"web")("queryParams",o.url&&D(3,vn,o.url)),m(1),Z(o.name)}}function bn(s,r){if(s&1&&(a(0,"li",20),h(1,Cn,2,2,"a",21)(2,yn,2,5,"a",22),l()),s&2){let o=r.$implicit;m(1),u("ngIf",o.standalone),m(1),u("ngIf",!o.standalone)}}function Sn(s,r){if(s&1&&(F(0),a(1,"li",18)(2,"ul"),h(3,bn,3,2,"li",19),l()(),T()),s&2){let o=r.$implicit;m(1),u("nzIcon",o.icon||"appstore-add")("nzTitle",o.name)("nzOpen",o.open),m(2),u("ngForOf",o.items)}}var Qt=(()=>{let r=class r{constructor(n,e,t,i,d){this.router=n,this.ms=e,this.us=t,this.rs=i,this.os=d,this.isVisible=!1,this.admin=!1,this.menus=[{name:"\u63A7\u5236\u53F0",icon:"dashboard",open:!0,items:[{name:"\u4EEA\u8868\u76D8",link:"dash"}]},{name:"\u9879\u76EE\u7BA1\u7406",icon:"apartment",items:[{name:"\u6240\u6709\u9879\u76EE",link:"project"},{name:"\u521B\u5EFA\u9879\u76EE",link:"project/create"}]},{name:"\u7A7A\u95F4\u7BA1\u7406",icon:"appstore",items:[{name:"\u6240\u6709\u7A7A\u95F4",link:"space"},{name:"\u521B\u5EFA\u7A7A\u95F4",link:"space/create"}]},{name:"\u8BBE\u5907\u7BA1\u7406",icon:"block",items:[{name:"\u6240\u6709\u8BBE\u5907",link:"device"},{name:"\u521B\u5EFA\u8BBE\u5907",link:"device/create"}]},{name:"\u7F51\u5173\u7BA1\u7406",icon:"link",items:[{name:"\u6240\u6709\u7F51\u5173",link:"gateway"},{name:"\u521B\u5EFA\u8BBE\u5907",link:"gateway/create"},{name:"\u6279\u91CF\u521B\u5EFA",link:"gateway/batch"}]},{name:"\u4EA7\u54C1\u7BA1\u7406",icon:"profile",items:[{name:"\u6240\u6709\u4EA7\u54C1",link:"product"},{name:"\u521B\u5EFA\u4EA7\u54C1",link:"product/create"}]},{name:"\u7528\u6237\u7BA1\u7406",icon:"user",items:[{name:"\u6240\u6709\u7528\u6237",link:"user"},{name:"\u521B\u5EFA\u7528\u6237",link:"user/create"}]},{name:"\u7CFB\u7EDF\u8BBE\u7F6E",icon:"setting",items:[{name:"Web\u670D\u52A1",link:"setting/web"},{name:"\u6570\u636E\u5E93",link:"setting/database"},{name:"MQTT\u603B\u7EBF",link:"setting/broker"},{name:"MQTT\u8FDE\u63A5",link:"setting/mqtt"},{name:"\u7CFB\u7EDF\u65E5\u5FD7",link:"setting/log"},{name:"\u9644\u4EF6\u7BA1\u7406",link:"setting/attach"}]}],this.isCollapsed=!1,this.loadMenu()}loadMenu(){this.rs.get("plugin/menus/admin").subscribe(n=>{n.data.forEach(e=>{e.items.forEach(i=>i.standalone=!0);let t=!1;this.menus.forEach(i=>{e.name==i.name&&(i.items=i.items.concat(e.items),t=!0)}),t||this.menus.push(e)})})}handlePassword(){let n=this.ms.create({nzTitle:"\u4FEE\u6539\u5BC6\u7801",nzCentered:!0,nzMaskClosable:!1,nzContent:xe,nzFooter:[{label:"\u53D6\u6D88",onClick:()=>{n.destroy()}},{label:"\u4FDD\u5B58",type:"primary",onClick:e=>{e.submit().then(()=>{n.destroy()})}}]})}handleExit(){this.rs.get("logout").subscribe(()=>{this.us.setUser(void 0)}),this.router.navigateByUrl("/login")}};r.\u0275fac=function(e){return new(e||r)(c(v),c(ge),c(S),c(y),c(W))},r.\u0275cmp=g({type:r,selectors:[["app-admin"]],standalone:!0,features:[z],decls:26,vars:7,consts:[[2,"height","100%"],[1,"logo"],["alt","logo",3,"src"],[1,"title"],[1,"space"],["nz-icon","","title","\u6298\u53E0\u83DC\u5355",3,"nzType","click"],["nz-menu","","nzTheme","dark","nzMode","horizontal",1,"user"],["nz-menu-item","","nzMatchRouter",""],["routerLink","alarm"],["nz-icon","","nzType","bell"],["nz-submenu","","nzIcon","user",3,"nzTitle"],["nz-menu-item","","nzSelected","false",3,"click"],["nz-menu-divider",""],["nz-menu-item","","nzSelected","false","nzDanger","",3,"click"],[3,"nzWidth"],["nz-menu","","nzTheme","dark","nzMode","inline",1,"menu",3,"nzInlineCollapsed"],[4,"ngFor","ngForOf"],[1,"content"],["nz-submenu","",3,"nzIcon","nzTitle","nzOpen"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","",4,"ngFor","ngForOf"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact",""],["target","_blank",3,"href",4,"ngIf"],[3,"routerLink","queryParams",4,"ngIf"],["target","_blank",3,"href"],[3,"routerLink","queryParams"]],template:function(e,t){e&1&&(a(0,"nz-layout",0)(1,"nz-header")(2,"div",1),f(3,"img",2),l(),a(4,"div",3),p(5),l(),a(6,"div",4)(7,"span",5),b("click",function(){return t.isCollapsed=!t.isCollapsed}),l()(),a(8,"ul",6)(9,"li",7)(10,"a",8),f(11,"span",9),p(12," \u901A\u77E5 "),l()(),a(13,"li",10)(14,"ul")(15,"li",11),b("click",function(){return t.handlePassword()}),p(16,"\u4FEE\u6539\u5BC6\u7801"),l(),f(17,"li",12),a(18,"li",13),b("click",function(){return t.handleExit()}),p(19,"\u9000\u51FA"),l()()()()(),a(20,"nz-layout")(21,"nz-sider",14)(22,"ul",15),h(23,Sn,4,4,"ng-container",16),l()(),a(24,"nz-content",17),f(25,"router-outlet"),l()()()),e&2&&(m(3),u("src",t.os.oem.logo||"assets/infinite.svg",q),m(2),w(" ",t.os.oem.name||"\u7269\u8054\u5927\u5E08"," "),m(2),u("nzType",t.isCollapsed?"menu-unfold":"menu-fold"),m(6),u("nzTitle",t.us.user.name||t.us.user.id||"\u65E0\u540D"),m(8),u("nzWidth",t.isCollapsed?"50px":"200px"),m(1),u("nzInlineCollapsed",t.isCollapsed),m(1),u("ngForOf",t.menus))},dependencies:[j,A,M,E,P,ze,Se,be,ye,B,k,he,de,R,fe,X],styles:["nz-header[_ngcontent-%COMP%]{display:flex;overflow:hidden;color:#fff;padding:0 10px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff;padding:0 10px}.space[_ngcontent-%COMP%]{flex:1}.nav2[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5em;margin:0 4px}nz-sider[_ngcontent-%COMP%]{overflow-y:auto}.menu[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{padding:10px;min-height:400px;overflow:auto}"]});let s=r;return s})();var Me=(s,r)=>{let o=O(S),n=O(v);if(o.user)return!0;if(o.getting){let e=new x;return o.userSub.subscribe({next:t=>{e.next(!0)},error:t=>{e.next(n.parseUrl("/login"))}}),e.asObservable()}return n.parseUrl("/login")};var xn=s=>({url:s});function Mn(s,r){if(s&1&&(a(0,"li",34),p(1),l()),s&2){let o=r.$implicit;u("queryParams",D(2,xn,o.url)),m(1),w("",o.name," ")}}function Fn(s,r){if(s&1&&(a(0,"li",32)(1,"ul"),h(2,Mn,2,4,"li",33),l()()),s&2){let o=C().$implicit;u("nzTitle",o.name),m(2),u("ngForOf",o.items)}}function Tn(s,r){if(s&1&&(F(0),h(1,Fn,3,2,"li",31),T()),s&2){let o=r.$implicit;m(1),u("ngIf",o.first)}}var wn=(s,r)=>({url:s,project:r});function En(s,r){if(s&1&&(a(0,"li",34),p(1),l()),s&2){let o=r.$implicit,n=C(3);u("queryParams",qe(2,wn,o.url,n.id)),m(1),w("",o.name," ")}}function In(s,r){if(s&1&&(a(0,"li",32)(1,"ul"),h(2,En,2,5,"li",33),l()()),s&2){let o=C().$implicit;u("nzTitle",o.name),m(2),u("ngForOf",o.items)}}function Nn(s,r){if(s&1&&(F(0),h(1,In,3,2,"li",31),T()),s&2){let o=r.$implicit;m(1),u("ngIf",!o.first)}}var Jt=(()=>{let r=class r{constructor(n,e,t,i,d,U){this.router=n,this.route=e,this.ms=t,this.us=i,this.rs=d,this.os=U,this.id="",this.project={},this.menus=[],this.loadMenu()}ngOnInit(){this.id=this.route.snapshot.paramMap.get("project"),this.loadProject()}loadProject(){this.rs.get("project/"+this.id).subscribe(n=>{this.project=n.data})}loadMenu(){this.rs.get("plugin/menus/project").subscribe(n=>{this.menus=n.data})}handlePassword(){let n=this.ms.create({nzTitle:"\u4FEE\u6539\u5BC6\u7801",nzCentered:!0,nzMaskClosable:!1,nzContent:xe,nzFooter:[{label:"\u53D6\u6D88",onClick:()=>{n.destroy()}},{label:"\u4FDD\u5B58",type:"primary",onClick:e=>{e.submit().then(()=>{n.destroy()},()=>{})}}]})}handleExit(){this.rs.get("/logout").subscribe(()=>{this.us.setUser(void 0)}),this.router.navigateByUrl("/login")}};r.\u0275fac=function(e){return new(e||r)(c(v),c(Je),c(ge),c(S),c(y),c(W))},r.\u0275cmp=g({type:r,selectors:[["app-project"]],standalone:!0,features:[z],decls:54,vars:5,consts:[[2,"height","100%"],[1,"logo"],["alt","logo",3,"src"],[1,"title"],[1,"space"],["nz-menu","","nzTheme","dark","nzMode","horizontal",1,"user"],["nz-menu-item","","nzMatchRouter",""],["routerLink","alarm"],["nz-icon","","nzType","bell"],["nz-submenu","","nzIcon","user",3,"nzTitle"],["nz-menu-item","","nzSelected","false",3,"click"],["nz-menu-divider",""],["nz-menu-item","","nzSelected","false","nzDanger","",3,"click"],["nzWidth","200px"],["nz-menu","","nzTheme","dark","nzMode","inline",1,"menu"],["nz-submenu","","nzIcon","dashboard","nzTitle","\u63A7\u5236\u53F0","nzOpen",""],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","dash"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","detail"],[4,"ngFor","ngForOf"],["nz-submenu","","nzIcon","appstore","nzTitle","\u7A7A\u95F4\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","space"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","space/create"],["nz-submenu","","nzIcon","block","nzTitle","\u8BBE\u5907\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","device"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","device/create"],["nz-submenu","","nzIcon","link","nzTitle","\u7F51\u5173\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","gateway"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","gateway/create"],["nz-submenu","","nzIcon","user","nzTitle","\u7528\u6237\u7BA1\u7406"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","user"],[1,"content"],["nz-submenu","","nzIcon","appstore-add",3,"nzTitle",4,"ngIf"],["nz-submenu","","nzIcon","appstore-add",3,"nzTitle"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","web",3,"queryParams",4,"ngFor","ngForOf"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","","routerLink","web",3,"queryParams"]],template:function(e,t){e&1&&(a(0,"nz-layout",0)(1,"nz-header")(2,"div",1),f(3,"img",2),l(),a(4,"div",3),p(5),l(),f(6,"div",4),a(7,"ul",5)(8,"li",6)(9,"a",7),f(10,"span",8),p(11," \u901A\u77E5 "),l()(),a(12,"li",9)(13,"ul")(14,"li",10),b("click",function(){return t.handlePassword()}),p(15,"\u4FEE\u6539\u5BC6\u7801"),l(),f(16,"li",11),a(17,"li",12),b("click",function(){return t.handleExit()}),p(18,"\u9000\u51FA"),l()()()()(),a(19,"nz-layout")(20,"nz-sider",13)(21,"ul",14)(22,"li",15)(23,"ul")(24,"li",16),p(25,"\u63A7\u5236\u53F0"),l(),a(26,"li",17),p(27,"\u9879\u76EE\u8BE6\u60C5"),l()()(),h(28,Tn,2,1,"ng-container",18),a(29,"li",19)(30,"ul")(31,"li",20),p(32,"\u6240\u6709\u7A7A\u95F4"),l(),a(33,"li",21),p(34,"\u521B\u5EFA\u7A7A\u95F4"),l()()(),a(35,"li",22)(36,"ul")(37,"li",23),p(38,"\u6240\u6709\u8BBE\u5907"),l(),a(39,"li",24),p(40,"\u521B\u5EFA\u8BBE\u5907"),l()()(),a(41,"li",25)(42,"ul")(43,"li",26),p(44,"\u6240\u6709\u7F51\u5173"),l(),a(45,"li",27),p(46,"\u521B\u5EFA\u7F51\u5173"),l()()(),a(47,"li",28)(48,"ul")(49,"li",29),p(50,"\u9879\u76EE\u7528\u6237"),l()()(),h(51,Nn,2,1,"ng-container",18),l()(),a(52,"nz-content",30),f(53,"router-outlet"),l()()()),e&2&&(m(3),u("src","assets/infinite.svg",q),m(2),w(" ",t.project.name," "),m(7),u("nzTitle",t.us.user.name||t.us.user.id||"\u65E0\u540D"),m(16),u("ngForOf",t.menus),m(23),u("ngForOf",t.menus))},dependencies:[j,A,M,E,P,ze,Se,be,ye,B,k,he,de,R,fe,X],styles:["nz-header[_ngcontent-%COMP%]{display:flex;overflow:hidden;color:#fff;padding:0 10px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff;padding:0 10px}.space[_ngcontent-%COMP%]{flex:1}.nav2[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5em;margin:0 4px}nz-sider[_ngcontent-%COMP%]{overflow-y:auto}.menu[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{padding:10px;min-height:400px;overflow:auto}"]});let s=r;return s})();var On=s=>["/project",s];function Dn(s,r){if(s&1&&(a(0,"li",4)(1,"ul",5)(2,"nz-list-item-action")(3,"a",6),p(4,"\u8FDB\u5165"),l()()(),p(5),l()),s&2){let o=r.$implicit;m(3),u("routerLink",D(2,On,o.id)),m(2),w(" ",o.name||o.id," ")}}function An(s,r){s&1&&(a(0,"nz-list-footer"),p(1,"\u60A8\u5C1A\u672A\u52A0\u5165\u4EFB\u4F55\u9879\u76EE\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458"),l())}var Yt=(()=>{let r=class r{constructor(n,e,t){if(this.rs=n,this.us=e,this.router=t,this.projects=[],this.loading=!0,e.user.admin){this.router.navigateByUrl("/admin");return}this.rs.get("user/"+e.user.id+"/projects").subscribe(i=>{this.projects=i.data||[],this.projects.length===1&&this.router.navigateByUrl("/project/"+this.projects[0].id)}).add(()=>{this.loading=!1})}};r.\u0275fac=function(e){return new(e||r)(c(y),c(S),c(v))},r.\u0275cmp=g({type:r,selectors:[["app-select"]],standalone:!0,features:[z],decls:4,vars:4,consts:[[1,"inner"],["nz-list","","nzBordered","","nzSize","large",3,"nzDataSource","nzLoading"],["nz-list-item","","nzNoFlex","",4,"ngFor","ngForOf"],[4,"ngIf"],["nz-list-item","","nzNoFlex",""],["nz-list-item-actions",""],[3,"routerLink"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"ul",1),h(2,Dn,6,4,"li",2)(3,An,2,0,"nz-list-footer",3),l()()),e&2&&(m(1),u("nzDataSource",t.projects)("nzLoading",t.loading),m(1),u("ngForOf",t.projects),m(1),u("ngIf",!t.projects.length&&!t.loading))},dependencies:[Xt,Vt,Ht,Zt,qt,$t,A,R,M],styles:["[_nghost-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;background-color:#888;background-image:url(/assets/bg.jpg);background-size:cover;background-position:center}.inner[_ngcontent-%COMP%]{width:60%;min-width:400px;max-width:800px;background-color:#fff}"]});let s=r;return s})();var Kt=()=>{let s=O(S),r=O(v);if(s.user&&s.user.admin)return!0;if(s.getting){let o=new x;return s.userSub.subscribe(n=>{s.user.admin?o.next(!0):o.next(r.parseUrl("/select"))}),o.asObservable()}return r.parseUrl("/select")};var en=[{path:"",pathMatch:"full",redirectTo:"admin"},{path:"login",component:Gt},{path:"select",canActivate:[Me],component:Yt},{path:"admin",canActivate:[Me,Kt],component:Qt,loadChildren:()=>import("./chunk-FXMQON2R.js").then(s=>s.AdminModule)},{path:"project/:project",canActivate:[Me],component:Jt,loadChildren:()=>import("./chunk-KCKOSOS3.js").then(s=>s.ProjectModule)},{path:"**",component:Ut}];function jn(s){let r=s;return 5}var tn=["zh",[["\u4E0A\u5348","\u4E0B\u5348"],void 0,void 0],void 0,[["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"]],void 0,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]],void 0,[["\u516C\u5143\u524D","\u516C\u5143"],void 0,void 0],0,[6,0],["y/M/d","y\u5E74M\u6708d\u65E5",void 0,"y\u5E74M\u6708d\u65E5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",void 0,void 0,void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"CNY","\xA5","\u4EBA\u6C11\u5E01",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],CNY:["\xA5"],ILR:["ILS"],JPY:["JP\xA5","\xA5"],KRW:["\uFFE6","\u20A9"],PHP:[void 0,"\u20B1"],RUR:[void 0,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",jn];Ve(tn);var Pn=[St,bt,dt,Mt,ut,wt,gt,mt,ct,ot,st,pt,ft,Et,It,Ft,yt,Tt,at,lt,vt,xt,Ct,ht,zt,_t],nn={providers:[Ye(en),At(Dt),we(E),we(Xe),jt(),{provide:Nt,useValue:Pn},{provide:He,useValue:"zh_CN"}]};var rn=(()=>{let r=class r{constructor(){this.title="Web UI"}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=g({type:r,selectors:[["app-root"]],standalone:!0,features:[z],decls:1,vars:0,template:function(e,t){e&1&&f(0,"router-outlet")},dependencies:[j,P],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}"]});let s=r;return s})();Ge(rn,nn).catch(s=>console.error(s));
