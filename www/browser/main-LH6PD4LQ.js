import{$ as Ne,$c as Tt,Aa as v,Ab as R,Ba as V,Bb as Je,Ca as Z,Da as De,E as Fe,Ea as d,Ec as rt,Fa as F,Fb as Y,Fc as ot,Fe as ge,Ga as j,Gb as O,Gc as st,Ge as ze,Hb as K,Hc as at,I as Q,Ia as g,Ib as ee,Ic as lt,Jc as mt,Je as Wt,Ka as k,Kb as te,Kc as ct,L as H,Lc as pt,M as D,Mb as ne,Mc as ut,Md as jt,Me as Ut,N as h,Nc as dt,Ne as $t,Oc as ft,Oe as qt,Pb as ie,Pc as ht,Pe as Ht,Q as Te,Qb as re,Qc as gt,Qe as Vt,R as Re,Ra as Ee,Rb as T,Rc as zt,Re as Zt,S as Le,Sb as oe,Sc as Ct,Ta as je,Tc as _t,U as we,Ua as ke,Uc as vt,Va as Pe,Vc as yt,Wa as qe,Wc as bt,Wd as me,Xc as St,Xd as ce,Y as E,Yc as xt,Yd as pe,Zc as Mt,Zd as kt,_ as Ie,_c as Ft,_d as Pt,aa as l,ab as He,ad as wt,ba as p,bc as Ye,bd as It,ca as We,cb as P,cc as se,da as Ue,db as M,f as x,fc as Ke,ge as ue,ia as a,ib as Ve,id as Nt,ie as At,ja as Oe,jd as L,ka as J,kc as et,kd as Ot,l as G,lb as A,le as Bt,oa as z,pa as m,qa as c,qe as Rt,ra as f,rc as tt,rd as Dt,sa as I,sb as Ze,sc as nt,sd as Et,se as Lt,ta as N,tb as Xe,ub as Ge,uc as it,ue as b,va as $e,vc as ae,ve as de,wc as le,we as fe,xb as Qe,xe as W,ya as _,yb as B,ye as he,zb as y}from"./chunk-RGOL6ASX.js";var C=class s{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(o,r=!1){return this.onePassHasher.start().appendStr(o).end(r)}static hashAsciiStr(o,r=!1){return this.onePassHasher.start().appendAsciiStr(o).end(r)}static _hex(o){let r=s.hexChars,n=s.hexOut,e,t,i,u;for(u=0;u<4;u+=1)for(t=u*8,e=o[u],i=0;i<8;i+=2)n[t+1+i]=r.charAt(e&15),e>>>=4,n[t+0+i]=r.charAt(e&15),e>>>=4;return n.join("")}static _md5cycle(o,r){let n=o[0],e=o[1],t=o[2],i=o[3];n+=(e&t|~e&i)+r[0]-680876936|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+r[1]-389564586|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+r[2]+606105819|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+r[3]-1044525330|0,e=(e<<22|e>>>10)+t|0,n+=(e&t|~e&i)+r[4]-176418897|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+r[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+r[6]-1473231341|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+r[7]-45705983|0,e=(e<<22|e>>>10)+t|0,n+=(e&t|~e&i)+r[8]+1770035416|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+r[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+r[10]-42063|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+r[11]-1990404162|0,e=(e<<22|e>>>10)+t|0,n+=(e&t|~e&i)+r[12]+1804603682|0,n=(n<<7|n>>>25)+e|0,i+=(n&e|~n&t)+r[13]-40341101|0,i=(i<<12|i>>>20)+n|0,t+=(i&n|~i&e)+r[14]-1502002290|0,t=(t<<17|t>>>15)+i|0,e+=(t&i|~t&n)+r[15]+1236535329|0,e=(e<<22|e>>>10)+t|0,n+=(e&i|t&~i)+r[1]-165796510|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+r[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+r[11]+643717713|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+r[0]-373897302|0,e=(e<<20|e>>>12)+t|0,n+=(e&i|t&~i)+r[5]-701558691|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+r[10]+38016083|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+r[15]-660478335|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+r[4]-405537848|0,e=(e<<20|e>>>12)+t|0,n+=(e&i|t&~i)+r[9]+568446438|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+r[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+r[3]-187363961|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+r[8]+1163531501|0,e=(e<<20|e>>>12)+t|0,n+=(e&i|t&~i)+r[13]-1444681467|0,n=(n<<5|n>>>27)+e|0,i+=(n&t|e&~t)+r[2]-51403784|0,i=(i<<9|i>>>23)+n|0,t+=(i&e|n&~e)+r[7]+1735328473|0,t=(t<<14|t>>>18)+i|0,e+=(t&n|i&~n)+r[12]-1926607734|0,e=(e<<20|e>>>12)+t|0,n+=(e^t^i)+r[5]-378558|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+r[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+r[11]+1839030562|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+r[14]-35309556|0,e=(e<<23|e>>>9)+t|0,n+=(e^t^i)+r[1]-1530992060|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+r[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+r[7]-155497632|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+r[10]-1094730640|0,e=(e<<23|e>>>9)+t|0,n+=(e^t^i)+r[13]+681279174|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+r[0]-358537222|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+r[3]-722521979|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+r[6]+76029189|0,e=(e<<23|e>>>9)+t|0,n+=(e^t^i)+r[9]-640364487|0,n=(n<<4|n>>>28)+e|0,i+=(n^e^t)+r[12]-421815835|0,i=(i<<11|i>>>21)+n|0,t+=(i^n^e)+r[15]+530742520|0,t=(t<<16|t>>>16)+i|0,e+=(t^i^n)+r[2]-995338651|0,e=(e<<23|e>>>9)+t|0,n+=(t^(e|~i))+r[0]-198630844|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+r[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+r[14]-1416354905|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+r[5]-57434055|0,e=(e<<21|e>>>11)+t|0,n+=(t^(e|~i))+r[12]+1700485571|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+r[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+r[10]-1051523|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+r[1]-2054922799|0,e=(e<<21|e>>>11)+t|0,n+=(t^(e|~i))+r[8]+1873313359|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+r[15]-30611744|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+r[6]-1560198380|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+r[13]+1309151649|0,e=(e<<21|e>>>11)+t|0,n+=(t^(e|~i))+r[4]-145523070|0,n=(n<<6|n>>>26)+e|0,i+=(e^(n|~t))+r[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,t+=(n^(i|~e))+r[2]+718787259|0,t=(t<<15|t>>>17)+i|0,e+=(i^(t|~n))+r[9]-343485551|0,e=(e<<21|e>>>11)+t|0,o[0]=n+o[0]|0,o[1]=e+o[1]|0,o[2]=t+o[2]|0,o[3]=i+o[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(s.stateIdentity),this}appendStr(o){let r=this._buffer8,n=this._buffer32,e=this._bufferLength,t,i;for(i=0;i<o.length;i+=1){if(t=o.charCodeAt(i),t<128)r[e++]=t;else if(t<2048)r[e++]=(t>>>6)+192,r[e++]=t&63|128;else if(t<55296||t>56319)r[e++]=(t>>>12)+224,r[e++]=t>>>6&63|128,r[e++]=t&63|128;else{if(t=(t-55296)*1024+(o.charCodeAt(++i)-56320)+65536,t>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[e++]=(t>>>18)+240,r[e++]=t>>>12&63|128,r[e++]=t>>>6&63|128,r[e++]=t&63|128}e>=64&&(this._dataLength+=64,s._md5cycle(this._state,n),e-=64,n[0]=n[16])}return this._bufferLength=e,this}appendAsciiStr(o){let r=this._buffer8,n=this._buffer32,e=this._bufferLength,t,i=0;for(;;){for(t=Math.min(o.length-i,64-e);t--;)r[e++]=o.charCodeAt(i++);if(e<64)break;this._dataLength+=64,s._md5cycle(this._state,n),e=0}return this._bufferLength=e,this}appendByteArray(o){let r=this._buffer8,n=this._buffer32,e=this._bufferLength,t,i=0;for(;;){for(t=Math.min(o.length-i,64-e);t--;)r[e++]=o[i++];if(e<64)break;this._dataLength+=64,s._md5cycle(this._state,n),e=0}return this._bufferLength=e,this}getState(){let o=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[o[0],o[1],o[2],o[3]]}}setState(o){let r=o.buffer,n=o.state,e=this._state,t;for(this._dataLength=o.length,this._bufferLength=o.buflen,e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],t=0;t<r.length;t+=1)this._buffer8[t]=r.charCodeAt(t)}end(o=!1){let r=this._bufferLength,n=this._buffer8,e=this._buffer32,t=(r>>2)+1;this._dataLength+=r;let i=this._dataLength*8;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,e.set(s.buffer32Identity.subarray(t),t),r>55&&(s._md5cycle(this._state,e),e.set(s.buffer32Identity)),i<=4294967295)e[14]=i;else{let u=i.toString(16).match(/(.*?)(.{0,8})$/);if(u===null)return;let q=parseInt(u[2],16),Be=parseInt(u[1],16)||0;e[14]=q,e[15]=Be}return s._md5cycle(this._state,e),o?this._state:s._hex(this._state)}};C.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);C.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);C.hexChars="0123456789abcdef";C.hexOut=[];C.onePassHasher=new C;if(C.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");var S=(()=>{let o=class o{constructor(n){this.rs=n,this.userSub=new x,this.getting=!0,n.get("user/me").subscribe({next:e=>{this.setUser(e.data)},error:e=>{this.userSub.error(e)}}).add(()=>{this.getting=!1})}setUser(n){this.user=n,this.userSub.next(n)}getUser(){return this.user}subscribe(){return this.userSub.subscribe()}};o.\u0275fac=function(e){return new(e||o)(H(b))},o.\u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"});let s=o;return s})();var $=(()=>{let o=class o{constructor(n,e){this.rs=n,this.title=e,this.oem={name:"\u7269\u8054\u5927\u5E08",logo:"/assets/logo.png",company:"\u65E0\u9521\u771F\u683C\u667A\u80FD\u79D1\u6280\u6709\u9650\u516C\u53F8",copyright:"\xA92016-2024"};let t=localStorage.getItem("oem");t&&(t=JSON.parse(t),Object.assign(this.oem,t),this.title.setTitle(t.title)),n.get("oem").subscribe(i=>{let u=i.data;localStorage.setItem("oem",JSON.stringify(u)),Object.assign(this.oem,u),this.title.setTitle(u.title)})}};o.\u0275fac=function(e){return new(e||o)(H(b),H(Ge))},o.\u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"});let s=o;return s})();var Xt=(()=>{let o=class o{constructor(n,e,t,i,u){this.fb=n,this.rs=e,this.us=t,this.router=i,this.os=u}submitForm(){console.log("submit form");for(let e in this.validateForm.controls)this.validateForm.controls[e].markAsDirty(),this.validateForm.controls[e].updateValueAndValidity();if(!this.validateForm.valid)return;let n=C.hashStr(this.validateForm.value.password);this.rs.post("login",{username:this.validateForm.value.username,password:n}).subscribe(e=>{console.log("res:",e),this.us.setUser(e.data),e.data.admin?this.router.navigateByUrl("/admin"):this.router.navigateByUrl("/select")})}ngOnInit(){this.validateForm=this.fb.group({username:[null,[O.required]],password:[null,[O.required]],remember:[!1]})}};o.\u0275fac=function(e){return new(e||o)(p(re),p(b),p(S),p(y),p($))},o.\u0275cmp=h({type:o,selectors:[["app-login"]],standalone:!0,features:[g],decls:23,vars:4,consts:[[1,"login"],[1,"login-title"],[1,"login-form"],["nz-form","",3,"formGroup","ngSubmit"],["nzErrorTip","\u8BF7\u8F93\u5165\u7528\u6237\u540D!"],["nzPrefixIcon","user","nzSize","large",2,"border-radius","10px"],["type","text","nz-input","","formControlName","username","placeholder","\u7528\u6237\u540D","nzSize","large"],["nzErrorTip","\u8BF7\u8F93\u5165\u5BC6\u7801!"],["nzPrefixIcon","lock","nzSize","large",2,"border-radius","10px"],["type","password","nz-input","","formControlName","password","placeholder","\u5BC6\u7801"],["nz-row","",1,"login-form-margin"],["nz-col","",3,"nzSpan"],["nz-checkbox","","formControlName","remember","nzDisabled",""],[1,"login-form-forgot"],["nz-button","","nzSize","large","nzType","primary",1,"login-form-button","login-form-margin"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"h1",1),d(2),c(),m(3,"div",2)(4,"form",3),_("ngSubmit",function(){return t.submitForm()}),m(5,"nz-form-item")(6,"nz-form-control",4)(7,"nz-input-group",5),f(8,"input",6),c()()(),m(9,"nz-form-item")(10,"nz-form-control",7)(11,"nz-input-group",8),f(12,"input",9),c()()(),m(13,"div",10)(14,"div",11)(15,"label",12)(16,"span"),d(17,"\u8BB0\u4F4F\u6211"),c()()(),m(18,"div",11)(19,"a",13),d(20,"\u5FD8\u8BB0\u5BC6\u7801"),c()()(),m(21,"button",14),d(22,"\u767B \u5F55"),c()()()()),e&2&&(l(2),F(t.os.oem.name),l(2),a("formGroup",t.validateForm),l(10),a("nzSpan",12),l(4),a("nzSpan",12))},dependencies:[ce,me,At,pe,ae,le,Bt,Rt,T,te,Y,K,ee,oe,ne,ie,ue],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-content:center;width:100%;height:100%;background-color:#888;background-image:url(/assets/bg.jpg);background-size:cover;background-position:center}.login[_ngcontent-%COMP%]{margin-top:100px;width:300px;max-width:400px}.login[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{color:#fff;text-align:center;text-shadow:black 2px 2px 5px;letter-spacing:5px}.login-form[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding:30px 50px}.login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-form-forgot[_ngcontent-%COMP%]{float:right}.login-form-button[_ngcontent-%COMP%]{width:100%}"]});let s=o;return s})();var ve=["*"],on=["nz-sider-trigger",""];function sn(s,o){}function an(s,o){if(s&1&&(I(0),z(1,sn,0,0,"ng-template",3),N()),s&2){let r=v(),n=De(5);l(1),a("ngTemplateOutlet",r.nzZeroTrigger||n)}}function ln(s,o){}function mn(s,o){if(s&1&&(I(0),z(1,ln,0,0,"ng-template",3),N()),s&2){let r=v(),n=De(3);l(1),a("ngTemplateOutlet",r.nzTrigger||n)}}function cn(s,o){if(s&1&&f(0,"span",5),s&2){let r=v(2);a("nzType",r.nzCollapsed?"right":"left")}}function pn(s,o){if(s&1&&f(0,"span",5),s&2){let r=v(2);a("nzType",r.nzCollapsed?"left":"right")}}function un(s,o){if(s&1&&z(0,cn,1,1,"span",4)(1,pn,1,1,"span",4),s&2){let r=v();a("ngIf",!r.nzReverseArrow),l(1),a("ngIf",r.nzReverseArrow)}}function dn(s,o){s&1&&f(0,"span",6)}function fn(s,o){if(s&1){let r=$e();m(0,"div",2),_("click",function(){Re(r);let e=v();return Le(e.setCollapsed(!e.nzCollapsed))}),c()}if(s&2){let r=v();a("matchBreakPoint",r.matchBreakPoint)("nzCollapsedWidth",r.nzCollapsedWidth)("nzCollapsed",r.nzCollapsed)("nzBreakpoint",r.nzBreakpoint)("nzReverseArrow",r.nzReverseArrow)("nzTrigger",r.nzTrigger)("nzZeroTrigger",r.nzZeroTrigger)("siderWidth",r.widthSetting)}}var ye=(()=>{let o=class o{constructor(n,e){this.elementRef=n,this.renderer=e,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}};o.\u0275fac=function(e){return new(e||o)(p(Ie),p(Ne))},o.\u0275cmp=h({type:o,selectors:[["nz-content"]],exportAs:["nzContent"],standalone:!0,features:[g],ngContentSelectors:ve,decls:1,vars:0,template:function(e,t){e&1&&(V(),Z(0))},encapsulation:2,changeDetection:0});let s=o;return s})();var be=(()=>{let o=class o{constructor(n,e){this.elementRef=n,this.renderer=e,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}};o.\u0275fac=function(e){return new(e||o)(p(Ie),p(Ne))},o.\u0275cmp=h({type:o,selectors:[["nz-header"]],exportAs:["nzHeader"],standalone:!0,features:[g],ngContentSelectors:ve,decls:1,vars:0,template:function(e,t){e&1&&(V(),Z(0))},encapsulation:2,changeDetection:0});let s=o;return s})(),hn=(()=>{let o=class o{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=this.nzCollapsedWidth===0&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=this.nzCollapsedWidth!==0}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=h({type:o,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(e,t){e&2&&(Oe("width",t.isNormalTrigger?t.siderWidth:null),J("ant-layout-sider-trigger",t.isNormalTrigger)("ant-layout-sider-zero-width-trigger",t.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",t.isZeroTrigger&&t.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",t.isZeroTrigger&&!t.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],standalone:!0,features:[Te,g],attrs:on,decls:6,vars:2,consts:[[4,"ngIf"],["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(e,t){e&1&&z(0,an,2,1,"ng-container",0)(1,mn,2,1,"ng-container",0)(2,un,2,2,"ng-template",null,1,Pe)(4,dn,1,0,"ng-template",null,2,Pe),e&2&&(a("ngIf",t.isZeroTrigger),l(1),a("ngIf",t.isNormalTrigger))},dependencies:[M,Ve,Ot,L],encapsulation:2,changeDetection:0});let s=o;return s})(),X=(()=>{let o=class o{updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:Ye(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&this.nzMenuDirective.nzMode==="inline"&&this.nzCollapsedWidth!==0&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(n){n!==this.nzCollapsed&&(this.nzCollapsed=n,this.nzCollapsedChange.emit(n),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(n,e,t){this.platform=n,this.cdr=e,this.breakpointService=t,this.destroy$=new x,this.nzMenuDirective=null,this.nzCollapsedChange=new Ue,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(tt,!0).pipe(Fe(this.destroy$)).subscribe(n=>{let e=this.nzBreakpoint;e&&Ke().subscribe(()=>{this.matchBreakPoint=!n[e],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(n){let{nzCollapsed:e,nzCollapsedWidth:t,nzWidth:i}=n;(e||t||i)&&this.updateStyleMap(),e&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};o.\u0275fac=function(e){return new(e||o)(p(et),p(We),p(nt))},o.\u0275cmp=h({type:o,selectors:[["nz-sider"]],contentQueries:function(e,t,i){if(e&1&&je(i,W,5),e&2){let u;Ee(u=ke())&&(t.nzMenuDirective=u.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(e,t){e&2&&(Oe("flex",t.flexSetting)("max-width",t.widthSetting)("min-width",t.widthSetting)("width",t.widthSetting),J("ant-layout-sider-zero-width",t.nzCollapsed&&t.nzCollapsedWidth===0)("ant-layout-sider-light",t.nzTheme==="light")("ant-layout-sider-dark",t.nzTheme==="dark")("ant-layout-sider-collapsed",t.nzCollapsed)("ant-layout-sider-has-trigger",t.nzCollapsible&&t.nzTrigger!==null))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:"nzReverseArrow",nzCollapsible:"nzCollapsible",nzCollapsed:"nzCollapsed"},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],standalone:!0,features:[Te,g],ngContentSelectors:ve,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click",4,"ngIf"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click"]],template:function(e,t){e&1&&(V(),m(0,"div",0),Z(1),c(),z(2,fn,1,8,"div",1)),e&2&&(l(2),a("ngIf",t.nzCollapsible&&t.nzTrigger!==null))},dependencies:[M,hn],encapsulation:2,changeDetection:0});let s=o;return G([se()],s.prototype,"nzReverseArrow",void 0),G([se()],s.prototype,"nzCollapsible",void 0),G([se()],s.prototype,"nzCollapsed",void 0),s})(),Se=(()=>{let o=class o{constructor(n){this.directionality=n,this.dir="ltr",this.destroy$=new x}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Fe(this.destroy$)).subscribe(n=>{this.dir=n})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};o.\u0275fac=function(e){return new(e||o)(p(it,8))},o.\u0275cmp=h({type:o,selectors:[["nz-layout"]],contentQueries:function(e,t,i){if(e&1&&je(i,X,4),e&2){let u;Ee(u=ke())&&(t.listOfNzSiderComponent=u)}},hostAttrs:[1,"ant-layout"],hostVars:4,hostBindings:function(e,t){e&2&&J("ant-layout-rtl",t.dir==="rtl")("ant-layout-has-sider",t.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],standalone:!0,features:[g],ngContentSelectors:ve,decls:1,vars:0,template:function(e,t){e&1&&(V(),Z(0))},encapsulation:2,changeDetection:0});let s=o;return s})();var xe=(()=>{let o=class o{constructor(n,e,t,i){this.fb=n,this.router=e,this.rs=t,this.msg=i,this.id=0,this.build()}build(){this.group=this.fb.group({old:["",[O.required]],new:["",[O.required]],repeat:["",[O.required]]})}submit(){return new Promise((n,e)=>{if(this.group.valid){let{old:t,repeat:i}=this.group.value,u=this.group.value.new;if(u!==i)return this.msg.warning("\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4\uFF0C\u8BF7\u786E\u8BA4"),e();let q={old:C.hashStr(t),new:C.hashStr(u)};this.rs.post("password",q).subscribe(Be=>{this.rs.get("logout").subscribe(En=>{}),this.router.navigateByUrl("/login"),this.msg.success("\u4FDD\u5B58\u6210\u529F"),n(!0)})}else Object.values(this.group.controls).forEach(t=>{t.invalid&&(t.markAsDirty(),t.updateValueAndValidity({onlySelf:!0}),e())})})}};o.\u0275fac=function(e){return new(e||o)(p(re),p(y),p(b),p(Lt))},o.\u0275cmp=h({type:o,selectors:[["app-password"]],standalone:!0,features:[g],decls:16,vars:13,consts:[["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","old",3,"nzSm","nzXs"],["nzErrorTip","\u539F\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","old","placeholder",""],["nzRequired","","nzFor","new",3,"nzSm","nzXs"],["nzErrorTip","\u65B0\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","new"],["nzRequired","","nzFor","repeat",3,"nzSm","nzXs"],["nzErrorTip","\u8BF7\u518D\u6B21\u8F93\u5165\u65B0\u5BC6\u7801",3,"nzSm","nzXs"],["nz-input","","type","password","formControlName","repeat"]],template:function(e,t){e&1&&(m(0,"form",0),_("ngSubmit",function(){return t.submit()}),m(1,"nz-form-item")(2,"nz-form-label",1),d(3,"\u539F\u5BC6\u7801"),c(),m(4,"nz-form-control",2),f(5,"input",3),c()(),m(6,"nz-form-item")(7,"nz-form-label",4),d(8,"\u65B0\u5BC6\u7801"),c(),m(9,"nz-form-control",5),f(10,"input",6),c()(),m(11,"nz-form-item")(12,"nz-form-label",7),d(13,"\u91CD\u590D\u5BC6\u7801"),c(),m(14,"nz-form-control",8),f(15,"input",9),c()()()),e&2&&(a("formGroup",t.group),l(2),a("nzSm",6)("nzXs",24),l(2),a("nzSm",14)("nzXs",24),l(3),a("nzSm",6)("nzXs",24),l(2),a("nzSm",14)("nzXs",24),l(3),a("nzSm",6)("nzXs",24),l(2),a("nzSm",14)("nzXs",24))},dependencies:[ue,Pt,le,ae,ce,me,kt,pe,oe,te,Y,K,ee,ne,ie]});let s=o;return s})();function Cn(s,o){if(s&1&&(m(0,"a",23),d(1),c()),s&2){let r=v().$implicit;a("href",r.url,E),l(1),F(r.name)}}var _n=s=>({url:s});function vn(s,o){if(s&1&&(m(0,"a",24),d(1),c()),s&2){let r=v().$implicit;a("routerLink",r.link||"web")("queryParams",r.url&&k(3,_n,r.url)),l(1),F(r.name)}}function yn(s,o){if(s&1&&(m(0,"li",20),z(1,Cn,2,2,"a",21)(2,vn,2,5,"a",22),c()),s&2){let r=o.$implicit;l(1),a("ngIf",r.standalone),l(1),a("ngIf",!r.standalone)}}function bn(s,o){if(s&1&&(I(0),m(1,"li",18)(2,"ul"),z(3,yn,3,2,"li",19),c()(),N()),s&2){let r=o.$implicit;l(1),a("nzIcon",r.icon||"appstore-add")("nzTitle",r.name)("nzOpen",r.open),l(2),a("ngForOf",r.items)}}var Gt=(()=>{let o=class o{constructor(n,e,t,i,u){this.router=n,this.ms=e,this.us=t,this.rs=i,this.os=u,this.isVisible=!1,this.admin=!1,this.menus=[{name:"\u63A7\u5236\u53F0",icon:"dashboard",open:!0,items:[{name:"\u4EEA\u8868\u76D8",link:"dash"}]},{name:"\u9879\u76EE\u7BA1\u7406",icon:"apartment",items:[{name:"\u6240\u6709\u9879\u76EE",link:"project"},{name:"\u521B\u5EFA\u9879\u76EE",link:"project/create"}]},{name:"\u7A7A\u95F4\u7BA1\u7406",icon:"appstore",items:[{name:"\u6240\u6709\u7A7A\u95F4",link:"space"},{name:"\u521B\u5EFA\u7A7A\u95F4",link:"space/create"}]},{name:"\u8BBE\u5907\u7BA1\u7406",icon:"block",items:[{name:"\u6240\u6709\u8BBE\u5907",link:"device"},{name:"\u521B\u5EFA\u8BBE\u5907",link:"device/create"}]},{name:"\u7F51\u5173\u7BA1\u7406",icon:"link",items:[{name:"\u6240\u6709\u7F51\u5173",link:"gateway"},{name:"\u521B\u5EFA\u8BBE\u5907",link:"gateway/create"},{name:"\u6279\u91CF\u521B\u5EFA",link:"gateway/batch"}]},{name:"\u4EA7\u54C1\u7BA1\u7406",icon:"profile",items:[{name:"\u6240\u6709\u4EA7\u54C1",link:"product"},{name:"\u521B\u5EFA\u4EA7\u54C1",link:"product/create"}]},{name:"\u7528\u6237\u7BA1\u7406",icon:"user",items:[{name:"\u6240\u6709\u7528\u6237",link:"user"},{name:"\u521B\u5EFA\u7528\u6237",link:"user/create"}]},{name:"\u7CFB\u7EDF\u8BBE\u7F6E",icon:"setting",items:[{name:"Web\u670D\u52A1",link:"setting/web"},{name:"\u6570\u636E\u5E93",link:"setting/database"},{name:"MQTT\u603B\u7EBF",link:"setting/broker"},{name:"MQTT\u8FDE\u63A5",link:"setting/mqtt"},{name:"\u7CFB\u7EDF\u65E5\u5FD7",link:"setting/log"},{name:"\u9644\u4EF6\u7BA1\u7406",link:"setting/attach"}]}],this.isCollapsed=!1,this.loadMenu()}loadMenu(){this.rs.get("plugin/menus/admin").subscribe(n=>{n.data.forEach(e=>{e.items.forEach(i=>i.standalone=!0);let t=!1;this.menus.forEach(i=>{e.name==i.name&&(i.items=i.items.concat(e.items),t=!0)}),t||this.menus.push(e)})})}handlePassword(){let n=this.ms.create({nzTitle:"\u4FEE\u6539\u5BC6\u7801",nzCentered:!0,nzMaskClosable:!1,nzContent:xe,nzFooter:[{label:"\u53D6\u6D88",onClick:()=>{n.destroy()}},{label:"\u4FDD\u5B58",type:"primary",onClick:e=>{e.submit().then(()=>{n.destroy()})}}]})}handleExit(){this.rs.get("logout").subscribe(()=>{this.us.setUser(void 0)}),this.router.navigateByUrl("/login")}};o.\u0275fac=function(e){return new(e||o)(p(y),p(ge),p(S),p(b),p($))},o.\u0275cmp=h({type:o,selectors:[["app-admin"]],standalone:!0,features:[g],decls:26,vars:7,consts:[[2,"height","100%"],[1,"logo"],["alt","logo",3,"src"],[1,"title"],[1,"space"],["nz-icon","","title","\u6298\u53E0\u83DC\u5355",3,"nzType","click"],["nz-menu","","nzTheme","dark","nzMode","horizontal",1,"user"],["nz-menu-item","","nzMatchRouter",""],["routerLink","alarm"],["nz-icon","","nzType","bell"],["nz-submenu","","nzIcon","user",3,"nzTitle"],["nz-menu-item","","nzSelected","false",3,"click"],["nz-menu-divider",""],["nz-menu-item","","nzSelected","false","nzDanger","",3,"click"],[3,"nzWidth"],["nz-menu","","nzTheme","dark","nzMode","inline",1,"menu",3,"nzInlineCollapsed"],[4,"ngFor","ngForOf"],[1,"content"],["nz-submenu","",3,"nzIcon","nzTitle","nzOpen"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","",4,"ngFor","ngForOf"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact",""],["target","_blank",3,"href",4,"ngIf"],[3,"routerLink","queryParams",4,"ngIf"],["target","_blank",3,"href"],[3,"routerLink","queryParams"]],template:function(e,t){e&1&&(m(0,"nz-layout",0)(1,"nz-header")(2,"div",1),f(3,"img",2),c(),m(4,"div",3),d(5),c(),m(6,"div",4)(7,"span",5),_("click",function(){return t.isCollapsed=!t.isCollapsed}),c()(),m(8,"ul",6)(9,"li",7)(10,"a",8),f(11,"span",9),d(12," \u901A\u77E5 "),c()(),m(13,"li",10)(14,"ul")(15,"li",11),_("click",function(){return t.handlePassword()}),d(16,"\u4FEE\u6539\u5BC6\u7801"),c(),f(17,"li",12),m(18,"li",13),_("click",function(){return t.handleExit()}),d(19,"\u9000\u51FA"),c()()()()(),m(20,"nz-layout")(21,"nz-sider",14)(22,"ul",15),z(23,bn,4,4,"ng-container",16),c()(),m(24,"nz-content",17),f(25,"router-outlet"),c()()()),e&2&&(l(3),a("src",t.os.oem.logo||"assets/infinite.svg",E),l(2),j(" ",t.os.oem.name||"\u7269\u8054\u5927\u5E08"," "),l(2),a("nzType",t.isCollapsed?"menu-unfold":"menu-fold"),l(6),a("nzTitle",t.us.user.name||t.us.user.id||"\u65E0\u540D"),l(8),a("nzWidth",t.isCollapsed?"50px":"200px"),l(1),a("nzInlineCollapsed",t.isCollapsed),l(1),a("ngForOf",t.menus))},dependencies:[A,P,M,T,B,ze,Se,be,ye,L,W,he,de,R,fe,X],styles:["nz-header[_ngcontent-%COMP%]{display:flex;overflow:hidden;color:#fff;padding:0 10px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff;padding:0 10px}.space[_ngcontent-%COMP%]{flex:1}.nav2[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5em;margin:0 4px}nz-sider[_ngcontent-%COMP%]{overflow-y:auto}.menu[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{padding:10px;min-height:400px;overflow:auto}"]});let s=o;return s})();var Me=(s,o)=>{let r=D(S),n=D(y);if(r.user)return!0;if(r.getting){let e=new x;return r.userSub.subscribe({next:t=>{e.next(!0)},error:t=>{e.next(n.parseUrl("/login"))}}),e.asObservable()}return n.parseUrl("/login")};function Sn(s,o){if(s&1&&(m(0,"a",23),d(1),c()),s&2){let r=v().$implicit;a("href",r.url,E),l(1),F(r.name)}}var xn=s=>({url:s});function Mn(s,o){if(s&1&&(m(0,"a",24),d(1),c()),s&2){let r=v().$implicit;a("routerLink",r.link||"web")("queryParams",r.url&&k(3,xn,r.url)),l(1),F(r.name)}}function Fn(s,o){if(s&1&&(m(0,"li",20),z(1,Sn,2,2,"a",21)(2,Mn,2,5,"a",22),c()),s&2){let r=o.$implicit;l(1),a("ngIf",r.standalone),l(1),a("ngIf",!r.standalone)}}function Tn(s,o){if(s&1&&(I(0),m(1,"li",18)(2,"ul"),z(3,Fn,3,2,"li",19),c()(),N()),s&2){let r=o.$implicit;l(1),a("nzIcon",r.icon||"appstore-add")("nzTitle",r.name)("nzOpen",r.open),l(2),a("ngForOf",r.items)}}var Qt=(()=>{let o=class o{constructor(n,e,t,i,u,q){this.router=n,this.route=e,this.ms=t,this.us=i,this.rs=u,this.os=q,this.id="",this.project={},this.menus=[{name:"\u63A7\u5236\u53F0",icon:"dashboard",open:!0,items:[{name:"\u4EEA\u8868\u76D8",link:"dash"},{name:"\u9879\u76EE\u8BE6\u60C5",link:"detail"}]},{name:"\u7A7A\u95F4\u7BA1\u7406",icon:"appstore",items:[{name:"\u6240\u6709\u7A7A\u95F4",link:"space"},{name:"\u521B\u5EFA\u7A7A\u95F4",link:"space/create"}]},{name:"\u8BBE\u5907\u7BA1\u7406",icon:"block",items:[{name:"\u6240\u6709\u8BBE\u5907",link:"device"},{name:"\u521B\u5EFA\u8BBE\u5907",link:"device/create"}]},{name:"\u7F51\u5173\u7BA1\u7406",icon:"link",items:[{name:"\u6240\u6709\u7F51\u5173",link:"gateway"},{name:"\u521B\u5EFA\u8BBE\u5907",link:"gateway/create"}]},{name:"\u7528\u6237\u7BA1\u7406",icon:"user",items:[{name:"\u9879\u76EE\u7528\u6237",link:"user"}]}],this.isCollapsed=!1,this.loadMenu()}ngOnInit(){this.id=this.route.snapshot.paramMap.get("project"),this.loadProject()}loadProject(){this.rs.get("project/"+this.id).subscribe(n=>{this.project=n.data})}loadMenu(){this.rs.get("plugin/menus/project").subscribe(n=>{n.data.forEach(e=>{e.items.forEach(i=>i.standalone=!0);let t=!1;this.menus.forEach(i=>{e.name==i.name&&(i.items=i.items.concat(e.items),t=!0)}),t||this.menus.push(e)})})}handlePassword(){let n=this.ms.create({nzTitle:"\u4FEE\u6539\u5BC6\u7801",nzCentered:!0,nzMaskClosable:!1,nzContent:xe,nzFooter:[{label:"\u53D6\u6D88",onClick:()=>{n.destroy()}},{label:"\u4FDD\u5B58",type:"primary",onClick:e=>{e.submit().then(()=>{n.destroy()},()=>{})}}]})}handleExit(){this.rs.get("/logout").subscribe(()=>{this.us.setUser(void 0)}),this.router.navigateByUrl("/login")}};o.\u0275fac=function(e){return new(e||o)(p(y),p(Qe),p(ge),p(S),p(b),p($))},o.\u0275cmp=h({type:o,selectors:[["app-project"]],standalone:!0,features:[g],decls:26,vars:7,consts:[[2,"height","100%"],[1,"logo"],["alt","logo",3,"src"],[1,"title"],[1,"space"],["nz-icon","","title","\u6298\u53E0\u83DC\u5355",3,"nzType","click"],["nz-menu","","nzTheme","dark","nzMode","horizontal",1,"user"],["nz-menu-item","","nzMatchRouter",""],["routerLink","alarm"],["nz-icon","","nzType","bell"],["nz-submenu","","nzIcon","user",3,"nzTitle"],["nz-menu-item","","nzSelected","false",3,"click"],["nz-menu-divider",""],["nz-menu-item","","nzSelected","false","nzDanger","",3,"click"],[3,"nzWidth"],["nz-menu","","nzTheme","dark","nzMode","inline",1,"menu",3,"nzInlineCollapsed"],[4,"ngFor","ngForOf"],[1,"content"],["nz-submenu","",3,"nzIcon","nzTitle","nzOpen"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact","",4,"ngFor","ngForOf"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact",""],["target","_blank",3,"href",4,"ngIf"],[3,"routerLink","queryParams",4,"ngIf"],["target","_blank",3,"href"],[3,"routerLink","queryParams"]],template:function(e,t){e&1&&(m(0,"nz-layout",0)(1,"nz-header")(2,"div",1),f(3,"img",2),c(),m(4,"div",3),d(5),c(),m(6,"div",4)(7,"span",5),_("click",function(){return t.isCollapsed=!t.isCollapsed}),c()(),m(8,"ul",6)(9,"li",7)(10,"a",8),f(11,"span",9),d(12," \u901A\u77E5 "),c()(),m(13,"li",10)(14,"ul")(15,"li",11),_("click",function(){return t.handlePassword()}),d(16,"\u4FEE\u6539\u5BC6\u7801"),c(),f(17,"li",12),m(18,"li",13),_("click",function(){return t.handleExit()}),d(19,"\u9000\u51FA"),c()()()()(),m(20,"nz-layout")(21,"nz-sider",14)(22,"ul",15),z(23,Tn,4,4,"ng-container",16),c()(),m(24,"nz-content",17),f(25,"router-outlet"),c()()()),e&2&&(l(3),a("src","assets/infinite.svg",E),l(2),j(" ",t.project.name," "),l(2),a("nzType",t.isCollapsed?"menu-unfold":"menu-fold"),l(6),a("nzTitle",t.us.user.name||t.us.user.id||"\u65E0\u540D"),l(8),a("nzWidth",t.isCollapsed?"50px":"200px"),l(1),a("nzInlineCollapsed",t.isCollapsed),l(1),a("ngForOf",t.menus))},dependencies:[A,P,M,T,B,ze,Se,be,ye,L,W,he,de,R,fe,X],styles:["nz-header[_ngcontent-%COMP%]{display:flex;overflow:hidden;color:#fff;padding:0 10px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff;padding:0 10px}.space[_ngcontent-%COMP%]{flex:1}.nav2[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.nav2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5em;margin:0 4px}nz-sider[_ngcontent-%COMP%]{overflow-y:auto}.menu[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{padding:10px;min-height:400px;overflow:auto}"]});let s=o;return s})();var wn=s=>["/project",s];function In(s,o){if(s&1&&(m(0,"li",4)(1,"ul",5)(2,"nz-list-item-action")(3,"a",6),d(4,"\u8FDB\u5165"),c()()(),d(5),c()),s&2){let r=o.$implicit;l(3),a("routerLink",k(2,wn,r.id)),l(2),j(" ",r.name||r.id," ")}}function Nn(s,o){s&1&&(m(0,"nz-list-footer"),d(1,"\u60A8\u5C1A\u672A\u52A0\u5165\u4EFB\u4F55\u9879\u76EE\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458"),c())}var Jt=(()=>{let o=class o{constructor(n,e,t){if(this.rs=n,this.us=e,this.router=t,this.projects=[],this.loading=!0,e.user.admin){this.router.navigateByUrl("/admin");return}this.rs.get("user/"+e.user.id+"/projects").subscribe(i=>{this.projects=i.data||[],this.projects.length===1&&this.router.navigateByUrl("/project/"+this.projects[0].id)}).add(()=>{this.loading=!1})}};o.\u0275fac=function(e){return new(e||o)(p(b),p(S),p(y))},o.\u0275cmp=h({type:o,selectors:[["app-select"]],standalone:!0,features:[g],decls:4,vars:4,consts:[[1,"inner"],["nz-list","","nzBordered","","nzSize","large",3,"nzDataSource","nzLoading"],["nz-list-item","","nzNoFlex","",4,"ngFor","ngForOf"],[4,"ngIf"],["nz-list-item","","nzNoFlex",""],["nz-list-item-actions",""],[3,"routerLink"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"ul",1),z(2,In,6,4,"li",2)(3,Nn,2,0,"nz-list-footer",3),c()()),e&2&&(l(1),a("nzDataSource",t.projects)("nzLoading",t.loading),l(1),a("ngForOf",t.projects),l(1),a("ngIf",!t.projects.length&&!t.loading))},dependencies:[Zt,Ht,qt,Vt,$t,Ut,P,R,M],styles:["[_nghost-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;background-color:#888;background-image:url(/assets/bg.jpg);background-size:cover;background-position:center}.inner[_ngcontent-%COMP%]{width:60%;min-width:400px;max-width:800px;background-color:#fff}"]});let s=o;return s})();var Yt=()=>{let s=D(S),o=D(y);if(s.user&&s.user.admin)return!0;if(s.getting){let r=new x;return s.userSub.subscribe(n=>{s.user.admin?r.next(!0):r.next(o.parseUrl("/select"))}),r.asObservable()}return o.parseUrl("/select")};var Kt=[{path:"",pathMatch:"full",redirectTo:"admin"},{path:"login",component:Xt},{path:"select",canActivate:[Me],component:Jt},{path:"admin",canActivate:[Me,Yt],component:Gt,loadChildren:()=>import("./chunk-FXMQON2R.js").then(s=>s.AdminModule)},{path:"project/:project",canActivate:[Me],component:Qt,loadChildren:()=>import("./chunk-KCKOSOS3.js").then(s=>s.ProjectModule)},{path:"**",component:Wt}];function On(s){let o=s;return 5}var en=["zh",[["\u4E0A\u5348","\u4E0B\u5348"],void 0,void 0],void 0,[["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"]],void 0,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]],void 0,[["\u516C\u5143\u524D","\u516C\u5143"],void 0,void 0],0,[6,0],["y/M/d","y\u5E74M\u6708d\u65E5",void 0,"y\u5E74M\u6708d\u65E5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",void 0,void 0,void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"CNY","\xA5","\u4EBA\u6C11\u5E01",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],CNY:["\xA5"],ILR:["ILS"],JPY:["JP\xA5","\xA5"],KRW:["\uFFE6","\u20A9"],PHP:[void 0,"\u20B1"],RUR:[void 0,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",On];He(en);var Dn=[bt,yt,ut,xt,lt,Tt,ht,mt,ct,rt,ot,pt,dt,wt,It,Mt,vt,Ft,st,at,_t,St,Ct,ft,gt,zt],tn={providers:[Je(Kt),Et(Dt),we(T),we(Ze),jt(),{provide:Nt,useValue:Dn},{provide:qe,useValue:"zh_CN"}]};var nn=(()=>{let o=class o{constructor(){this.title="Web UI"}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=h({type:o,selectors:[["app-root"]],standalone:!0,features:[g],decls:1,vars:0,template:function(e,t){e&1&&f(0,"router-outlet")},dependencies:[A,B],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}"]});let s=o;return s})();Xe(nn,tn).catch(s=>console.error(s));
