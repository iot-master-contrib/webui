(self.webpackChunkwebui=self.webpackChunkwebui||[]).push([[708],{7180:(X,U,i)=>{"use strict";i.d(U,{a:()=>s});var t=i(4496),I=i(4716),c=i(2605),P=i(460),v=i(556),_=i(1496),C=i(3128);let s=(()=>{class h{constructor(e,f){this.ms=e,this.rs=f,this.id="",this.product={},this.placeholder=""}ngOnInit(){}registerOnChange(e){this.onChange=e}registerOnTouched(e){}writeValue(e){this.id!==e&&(this.id=e,this.id&&this.load())}load(){console.log("load product",this.id),this.rs.get("product/"+this.id).subscribe(e=>{e.data&&(this.product=e.data)})}select(){this.ms.create({nzTitle:"\u9009\u62e9",nzContent:v.G}).afterClose.subscribe(e=>{console.log(e),e&&(this.product=e,this.id=e.id,this.onChange(this.id))})}change(e){console.log("on change",e),this.id=e,this.onChange(e),this.load()}static#t=this.\u0275fac=function(f){return new(f||h)(t.GI1(_.mU),t.GI1(C.Cm))};static#e=this.\u0275cmp=t.In1({type:h,selectors:[["app-input-product"]],inputs:{placeholder:"placeholder"},standalone:!0,features:[t.M5G([{provide:I.Y6,useExisting:(0,t.wd)(()=>h),multi:!0}]),t.UHJ],decls:5,vars:3,consts:[["nz-input","",3,"placeholder","value","change"],["box",""],["type","button","nz-button","",3,"click"]],template:function(f,a){if(1&f){const M=t.KQA();t.I0R(0,"input",0,1),t.qCj("change",function(){t.usT(M);const Y=t.Gew(1);return t.CGJ(a.change(Y.value))}),t.C$Y(),t.I0R(2,"button",2),t.qCj("click",function(){return a.select()}),t.OEk(3,"\u9009\u62e9"),t.C$Y(),t.OEk(4)}2&f&&(t.E7m("placeholder",a.placeholder)("value",a.id),t.yG2(4),t.oRS("\n",a.product.name,"\n"))},dependencies:[c.cv,P.Ez]})}return h})()},4987:(X,U,i)=>{"use strict";i.d(U,{m:()=>s});var t=i(4496),I=i(4716),c=i(2605),P=i(460),v=i(7448),_=i(1496),C=i(3128);let s=(()=>{class h{constructor(e,f){this.ms=e,this.rs=f,this.id="",this.project={},this.placeholder="",this.disabled=!1}ngOnInit(){}registerOnChange(e){this.onChange=e}registerOnTouched(e){}writeValue(e){this.id!==e&&(this.id=e,this.id&&this.load())}setDisabledState(e){this.disabled=e}load(){console.log("load project",this.id),this.rs.get("project/"+this.id).subscribe(e=>{e.data&&(this.project=e.data)})}select(){this.ms.create({nzTitle:"\u9009\u62e9",nzContent:v.a}).afterClose.subscribe(e=>{console.log(e),e&&(this.project=e,this.id=e.id,this.onChange(this.id))})}change(e){console.log("on change",e),this.id=e,this.onChange(e),this.load()}static#t=this.\u0275fac=function(f){return new(f||h)(t.GI1(_.mU),t.GI1(C.Cm))};static#e=this.\u0275cmp=t.In1({type:h,selectors:[["app-input-project"]],inputs:{placeholder:"placeholder"},standalone:!0,features:[t.M5G([{provide:I.Y6,useExisting:(0,t.wd)(()=>h),multi:!0}]),t.UHJ],decls:5,vars:5,consts:[["nz-input","",3,"placeholder","value","disabled","change"],["box",""],["type","button","nz-button","",3,"disabled","click"]],template:function(f,a){if(1&f){const M=t.KQA();t.I0R(0,"input",0,1),t.qCj("change",function(){t.usT(M);const Y=t.Gew(1);return t.CGJ(a.change(Y.value))}),t.C$Y(),t.I0R(2,"button",2),t.qCj("click",function(){return a.select()}),t.OEk(3,"\u9009\u62e9"),t.C$Y(),t.OEk(4)}2&f&&(t.E7m("placeholder",a.placeholder)("value",a.id)("disabled",a.disabled),t.yG2(2),t.E7m("disabled",a.disabled),t.yG2(2),t.oRS("\n",a.project.name,"\n"))},dependencies:[c.cv,P.Ez]})}return h})()},1800:(X,U,i)=>{"use strict";i.d(U,{U:()=>M});var t=i(7448),I=i(6484),c=i(9936),P=i(556),v=i(7752),_=i(9688),C=i(1175),s=i(6579),h=i(4496),d=i(4476),e=i(940),f=i(1496);const a=["iframe"];let M=(()=>{class b{set url(k){this.src=this.ds.bypassSecurityTrustResourceUrl(k),console.log("iframe url",k)}onMessage(k){let j;const D=JSON.parse(k);switch(D.type){case"select_product":j=this.ms.create({nzTitle:"\u9009\u62e9\u4ea7\u54c1",nzContent:P.G,nzData:D.data});break;case"select_gateway":j=this.ms.create({nzTitle:"\u9009\u62e9\u7f51\u5173",nzContent:I.I,nzData:D.data});break;case"select_device":j=this.ms.create({nzTitle:"\u9009\u62e9\u8bbe\u5907",nzContent:c.A,nzData:D.data});break;case"select_project":j=this.ms.create({nzTitle:"\u9009\u62e9\u9879\u76ee",nzContent:t.a,nzData:D.data});break;case"select_project_user":j=this.ms.create({nzTitle:"\u9009\u62e9\u9879\u76ee\u7528\u6237",nzContent:C.i,nzData:D.data});break;case"select_space":j=this.ms.create({nzTitle:"\u9009\u62e9\u7a7a\u95f4",nzContent:v.q,nzData:D.data});break;case"select_space_device":j=this.ms.create({nzTitle:"\u9009\u62e9\u7a7a\u95f4\u8bbe\u5907",nzContent:s.m,nzData:D.data});break;case"select_user":j=this.ms.create({nzTitle:"\u9009\u62e9\u7528\u6237",nzContent:_.g,nzData:D.data});break;default:return}j.afterClose.subscribe(l=>{if(l){let x=JSON.stringify({type:D.type,data:l});this.iframe.nativeElement.postMessage(x)}})}constructor(k,j,D){this.ds=k,this.route=j,this.ms=D}ngOnInit(){this.route.queryParams.subscribe(k=>{k.hasOwnProperty("url")&&(this.url=k.url)})}ngOnDestroy(){}onLoad(){try{const k=this.iframe.nativeElement;k.height=`${(k.contentDocument||k.contentWindow.document).body.scrollHeight}px`,console.log("iframe onload",k.height)}catch(k){console.log("iframe onload",k)}}static#t=this.\u0275fac=function(j){return new(j||b)(h.GI1(d.mI),h.GI1(e.gV),h.GI1(f.mU))};static#e=this.\u0275cmp=h.In1({type:b,selectors:[["app-web-view"]],viewQuery:function(j,D){if(1&j&&h.CC$(a,5),2&j){let l;h.wto(l=h.Gqi())&&(D.iframe=l.first)}},hostBindings:function(j,D){1&j&&h.qCj("message",function(x){return D.onMessage(x)},!1,h.MbM)},inputs:{url:"url"},standalone:!0,features:[h.UHJ],decls:2,vars:1,consts:[[3,"src","load"],["iframe",""]],template:function(j,D){1&j&&(h.I0R(0,"iframe",0,1),h.qCj("load",function(){return D.onLoad()}),h.C$Y()),2&j&&h.E7m("src",D.src,h.CaN)},styles:["[_nghost-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}"]})}return b})()},3351:(X,U,i)=>{"use strict";i.d(U,{s:()=>_});var t=i(3128),I=i(500),c=i(4496),P=i(940);const v=()=>[];let _=(()=>{class C{constructor(h,d){this.route=h,this.rs=d,this.base="/admin",this.total=0,this.datum=[],this.loading=!1,this.columns=[{key:"project",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:e=>`${this.base}/project/${e.project_id}`},{key:"device",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:e=>`${this.base}/device/${e.device_id}`},{key:"level",sortable:!0,label:"\u7b49\u7ea7",keyword:!0},{key:"title",sortable:!0,label:"\u6807\u9898",keyword:!0},{key:"message",sortable:!0,label:"\u5185\u5bb9",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.operators=[{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:e=>{this.rs.get(`alarm/${e.id}/delete`).subscribe(f=>this.refresh())}}]}ngOnInit(){this.base=(0,I.k7)(this.route),this.project_id||=(0,I.mG)(this.route,"project")}refresh(){this.search(this.query)}search(h){this.project_id&&(h.filter.project_id=this.project_id),this.device_id&&(h.filter.tunnel_id=this.device_id),this.loading=!0,this.rs.post("alarm/search",h).subscribe(d=>{this.datum=d.data,this.total=d.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(d){return new(d||C)(c.GI1(P.gV),c.GI1(t.Cm))};static#e=this.\u0275cmp=c.In1({type:C,selectors:[["app-alarm"]],inputs:{project_id:"project_id",device_id:"device_id"},standalone:!0,features:[c.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(d,e){1&d&&(c.I0R(0,"im-smart-table",0),c.qCj("query",function(a){return e.search(a)}),c.C$Y()),2&d&&c.E7m("buttons",c.q4q(6,v))("columns",e.columns)("operators",e.operators)("datum",e.datum)("total",e.total)("loading",e.loading)},dependencies:[t.YP],styles:[".toolbar[_ngcontent-%COMP%]{padding:10px 0;display:flex}.toolbar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{flex:1}.pages[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:center}"]})}return C})()},1748:(X,U,i)=>{"use strict";i.d(U,{i:()=>v});var t=i(3128),I=i(4496),c=i(1496);const P=()=>[];let v=(()=>{class _{constructor(s,h){this.rs=s,this.ref=h,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/client/create"}],this.columns=[{key:"id",label:"ID",sortable:!0,keyword:!0,link:d=>`/admin/client/${d.id}`},{key:"name",label:"\u540d\u79f0",sortable:!0,keyword:!0},{key:"net",label:"\u7f51\u7edc",sortable:!0,keyword:!0},{key:"addr",label:"\u5730\u5740",sortable:!0,keyword:!0},{key:"port",label:"\u7aef\u53e3",sortable:!0,keyword:!0},{key:"status",label:"\u72b6\u6001"},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",sortable:!0,date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0},{key:"net",label:"\u7f51\u7edc",keyword:!0},{key:"addr",label:"\u5730\u5740",keyword:!0},{key:"port",label:"\u7aef\u53e3",keyword:!0},{key:"status",label:"\u72b6\u6001"}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:d=>`/admin/client/${d.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:d=>{this.rs.get(`client/${d.id}/delete`).subscribe(e=>this.refresh())}},{icon:"play-circle",title:"\u542f\u52a8",action:d=>{this.rs.get(`client/${d.id}/open`).subscribe(e=>this.refresh())}},{icon:"close-circle",title:"\u505c\u6b62",action:d=>{this.rs.get(`client/${d.id}/close`).subscribe(e=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:d=>this.ref.close(d)}]}refresh(){this.search(this.query)}search(s){this.query=s,this.loading=!0,this.rs.post("client/search",s).subscribe(h=>{this.datum=h.data,this.total=h.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(h){return new(h||_)(I.GI1(t.Cm),I.GI1(c.U7,8))};static#e=this.\u0275cmp=I.In1({type:_,selectors:[["app-clients"]],standalone:!0,features:[I.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(h,d){1&h&&(I.I0R(0,"im-smart-table",0),I.qCj("query",function(f){return d.search(f)}),I.C$Y()),2&h&&I.E7m("buttons",d.ref?I.q4q(6,P):d.buttons)("columns",d.ref?d.columnsSelect:d.columns)("operators",d.ref?d.operatorsSelect:d.operators)("datum",d.datum)("total",d.total)("loading",d.loading)},dependencies:[t.YP]})}return _})()},8572:(X,U,i)=>{"use strict";i.d(U,{M:()=>H});var t=i(4408),I=i(460),c=i(1368),P=i(940),v=i(3436),_=i(5128),C=i(3128),s=i(740),h=i(7520),d=i(348),e=i(4716),f=i(7972),a=i.n(f),M=i(1752),b=i(268),Y=i(3692),k=i(7540),j=i(8935),D=i(500),l=i(4496),x=i(9432),F=i(2532);function T($,S){if(1&$){const y=l.KQA();l.I0R(0,"nz-switch",18),l.qCj("ngModelChange",function(R){l.usT(y);const G=l.GaO().$implicit,N=l.GaO();return l.CGJ(N.valueSwitch(G.name,R))}),l.C$Y()}if(2&$){const y=l.GaO().$implicit,m=l.GaO();l.E7m("ngModel",m.values[y.name])}}const W=$=>({active:$});function B($,S){if(1&$){const y=l.KQA();l.I0R(0,"nz-col",14)(1,"div",15)(2,"nz-statistic",16),l.qCj("click",function(){const G=l.usT(y).$implicit,N=l.GaO();return N.actives[G.name]=!N.actives[G.name],l.CGJ(N.search())}),l.C$Y(),l.yuY(3,T,1,1,"nz-switch",17),l.C$Y()()}if(2&$){const y=S.$implicit,m=l.GaO();l.E7m("nzXs",12)("nzSm",8)("nzMd",6)("nzLg",4)("nzXl",3)("nzXXl",2),l.yG2(),l.E7m("ngClass",l.S45(11,W,m.actives[y.name])),l.yG2(),l.E7m("nzTitle",y.label)("nzValue",m.values[y.name]||"-")("nzSuffix",y.unit),l.yG2(),l.E7m("ngIf","bool"==y.type&&"rw"==y.mode)}}function V($,S){if(1&$){const y=l.KQA();l.I0R(0,"nz-select",19),l.qCj("nzOpenChange",function(){l.usT(y);const R=l.GaO();return l.CGJ(R.search())})("change",function(){l.usT(y);const R=l.GaO();return l.CGJ(R.search())}),l.wR5(1,"nz-option",20)(2,"nz-option",21)(3,"nz-option",22),l.C$Y()}}const p=()=>[10,10];let E=(()=>{class ${constructor(y,m,R,G,N){this.router=y,this.msg=m,this.fb=R,this.rs=G,this.route=N,this.base="/admin",this.data={},this.properties=[],this.values={},this.actives={},this.names={},this.loading=!1,this.query={},this.option={tooltip:{trigger:"axis",position:function(tt){return[tt[0],"10%"]}},title:{left:"center",text:"\u5386\u53f2\u66f2\u7ebf"},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"time",boundaryGap:!1},yAxis:{type:"value"},dataZoom:[{type:"inside",start:0,end:100},{start:0,end:100}],series:[]}}chartInit(y){this.chart=y}ngOnInit(){this.base=(0,D.k7)(this.route),this.project_id||=(0,D.mG)(this.route,"project"),this.load(),this.loadValues(),this.group=this.fb.group({strEnd:[[a()().add(-7,"days").toDate(),a()().toDate()]],window:[1],winTp:["h"],fn:["last"]})}load(){this.rs.get(`device/${this.id}`,{}).subscribe(y=>{this.data=y.data,this.loadProperties()})}loadValues(){this.rs.get("device/"+this.id+"/values").subscribe(y=>{this.values=y.data})}loadProperties(){this.rs.get(`product/${this.data.product_id}/version/${this.data.product_version}/config/property`).subscribe(y=>{this.properties=y.data,this.properties.forEach(m=>{this.names[m.name]=m.label||m.name})})}loadHistory(y,m){this.rs.get(`device/${this.id}/history/${y}`,m).subscribe(R=>{console.log("history",R.data),this.option.series.push({name:this.names[y],type:"line",smooth:!0,symbol:"none",data:R.data?.map(G=>[G.time,G.value])}),this.chart.clear(),this.chart.setOption(this.option),console.log(this.option)})}search(){if(this.group.valid){let y=this.group.value,m={start:a()(y.strEnd[0]).toISOString(),end:a()(y.strEnd[1]).toISOString(),window:y.window?y.window+y.winTp:"1h",fn:"last"};console.log("actives",this.actives),this.option.series=[],Object.keys(this.actives).forEach(R=>{this.actives[R]&&this.loadHistory(R,m)})}else Object.values(this.group.controls).forEach(y=>{y.invalid&&(y.markAsDirty(),y.updateValueAndValidity({onlySelf:!0}))})}valueSwitch(y,m){this.rs.post("device/"+this.id+"/values",{[y]:m}).subscribe(R=>{this.msg.success("\u64cd\u4f5c\u6210\u529f")})}static#t=this.\u0275fac=function(m){return new(m||$)(l.GI1(P.E5),l.GI1(x.yo),l.GI1(e.im),l.GI1(C.Cm),l.GI1(P.gV))};static#e=this.\u0275cmp=l.In1({type:$,selectors:[["app-device-property"]],inputs:{id:"id"},standalone:!0,features:[l.UHJ],decls:21,vars:18,consts:[[1,"variables",3,"nzGutter"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl",4,"ngFor","ngForOf"],[1,"history"],["nz-form","",3,"formGroup"],["nz-row",""],["nz-col","",3,"nzSpan"],[3,"nzSm","nzXs"],["nzErrorTip","",3,"nzSm","nzXs"],["addOnAfterTemplate",""],[2,"width","100%",3,"nzAddOnAfter"],["formControlName","window",3,"nzStep","change"],["nzErrorTip","",2,"width","100%",3,"nzSm","nzXs"],["nzMode","date","formControlName","strEnd",3,"nzShowTime","change"],[1,"chart",3,"options","chartInit"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"variable",3,"ngClass"],[3,"nzTitle","nzValue","nzSuffix","click"],["nzSize","small",3,"ngModel","ngModelChange",4,"ngIf"],["nzSize","small",3,"ngModel","ngModelChange"],["formControlName","winTp",2,"width","60px",3,"nzOpenChange","change"],["nzValue","s","nzLabel","\u79d2"],["nzValue","m","nzLabel","\u5206"],["nzValue","h","nzLabel","\u65f6"]],template:function(m,R){if(1&m&&(l.I0R(0,"nz-row",0),l.yuY(1,B,4,13,"nz-col",1),l.C$Y(),l.I0R(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5)(6,"nz-form-item")(7,"nz-form-label",6),l.OEk(8,"\u7a97\u53e3\u65f6\u95f4"),l.C$Y(),l.I0R(9,"nz-form-control",7),l.yuY(10,V,4,0,"ng-template",null,8,l.gJz),l.I0R(12,"nz-input-number-group",9)(13,"nz-input-number",10),l.qCj("change",function(){return R.search()}),l.C$Y()()()()(),l.I0R(14,"div",5)(15,"nz-form-item")(16,"nz-form-label",6),l.OEk(17,"\u8d77\u6b62\u65f6\u95f4"),l.C$Y(),l.I0R(18,"nz-form-control",11)(19,"nz-range-picker",12),l.qCj("change",function(){return R.search()}),l.C$Y()()()()()(),l.I0R(20,"echarts",13),l.qCj("chartInit",function(N){return R.chartInit(N)}),l.C$Y()()),2&m){const G=l.Gew(11);l.E7m("nzGutter",l.q4q(17,p)),l.yG2(),l.E7m("ngForOf",R.properties),l.yG2(2),l.E7m("formGroup",R.group),l.yG2(2),l.E7m("nzSpan",8),l.yG2(2),l.E7m("nzSm",6)("nzXs",24),l.yG2(2),l.E7m("nzSm",14)("nzXs",24),l.yG2(3),l.E7m("nzAddOnAfter",G),l.yG2(),l.E7m("nzStep",1),l.yG2(),l.E7m("nzSpan",16),l.yG2(2),l.E7m("nzSm",3)("nzXs",24),l.yG2(2),l.E7m("nzSm",18)("nzXs",24),l.yG2(),l.E7m("nzShowTime",!0),l.yG2(),l.E7m("options",R.option)}},dependencies:[c.MD,c.QF,c.ay,c.u_,e.sl,e.sz,e.ue,e.u,e.uW,e.Wo,M.WO,F.QD,F.ox,M.BN,M.qU,M.Qo,M.YZ,h._8,d.Ql,b.Mh,b.eE,Y.ye,Y.mG,k.fO,k.iO,k.u2,j.c,e.y,e._G],styles:["[_nghost-%COMP%]{width:100%}.variables[_ngcontent-%COMP%]{padding:10px}.variables[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]{background-color:#fff;padding:10px;cursor:pointer;border:1px solid #cccccc;border-radius:10px;transition:box-swadow .3s,border-color .3s}.variables[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]:hover, .variables[_ngcontent-%COMP%]   .variable.active[_ngcontent-%COMP%]{box-shadow:0 0 5px gray}.history[_ngcontent-%COMP%]{width:100%}.chart[_ngcontent-%COMP%]{height:300px;width:800px;min-width:400px}"]})}return $})();function g($,S){if(1&$&&l.wR5(0,"app-device-property",6),2&$){const y=l.GaO();l.E7m("id",y.id)}}function A($,S){}function O($,S){1&$&&(l.I0R(0,"button",9),l.OEk(1,"\u7f16\u8f91"),l.C$Y())}function w($,S){if(1&$){const y=l.KQA();l.I0R(0,"button",10),l.qCj("nzOnConfirm",function(){l.usT(y);const R=l.GaO(2);return l.CGJ(R.delete())}),l.OEk(1,"\u5220\u9664"),l.C$Y()}}function K($,S){1&$&&(l.I0R(0,"nz-space"),l.yuY(1,O,2,0,"button",7)(2,w,2,0,"button",8),l.C$Y())}let H=(()=>{class ${constructor(y,m,R,G){this.router=y,this.msg=m,this.rs=R,this.route=G,this.base="/admin",this.data={},this.product={},this.fields=[{key:"id",label:"ID"},{key:"name",label:"\u540d\u79f0"},{key:"product",label:"\u4ea7\u54c1",type:"link",link:()=>`${this.base}/product/${this.data.product_id}`},{key:"product_version",label:"\u7248\u672c"},{key:"project",label:"\u9879\u76ee",type:"link",link:()=>`${this.base}/project/${this.data.project_id}`},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",type:"date"},{key:"description",label:"\u8bf4\u660e",span:2}],this.values={},this.loading=!1}ngOnInit(){this.base=(0,D.k7)(this.route),this.project_id||=(0,D.mG)(this.route,"project"),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.loading=!0,this.rs.post("device/search",{filter:{id:this.id}}).subscribe(y=>{this.data=y.data[0],this.rs.get("product/"+this.data.product_id).subscribe(m=>{this.product=m.data})}).add(()=>this.loading=!1)}delete(){this.rs.get(`device/${this.id}/delete`,{}).subscribe(y=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl(`${this.base}/device`)})}static#t=this.\u0275fac=function(m){return new(m||$)(l.GI1(P.E5),l.GI1(x.yo),l.GI1(C.Cm),l.GI1(P.gV))};static#e=this.\u0275cmp=l.In1({type:$,selectors:[["app-device-detail"]],standalone:!0,features:[l.UHJ],decls:9,vars:3,consts:[["nzTitle","\u8bbe\u5907\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzTitle","\u5b9e\u65f6\u72b6\u6001"],["nz-tab",""],["nzTitle","\u62a5\u8b66\u65e5\u5fd7"],["extra",""],[3,"id"],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(m,R){if(1&m&&(l.I0R(0,"nz-card",0),l.wR5(1,"im-smart-info",1),l.I0R(2,"nz-tabset")(3,"nz-tab",2),l.yuY(4,g,1,1,"ng-template",3),l.C$Y(),l.I0R(5,"nz-tab",4),l.yuY(6,A,0,0,"ng-template",3),l.C$Y()()(),l.yuY(7,K,3,0,"ng-template",null,5,l.gJz)),2&m){const G=l.Gew(8);l.E7m("nzExtra",G),l.yG2(),l.E7m("fields",R.fields)("value",R.data)}},dependencies:[c.MD,C.cr,_.Q9,t.Ud,t.UH,I.Ez,P.ER,v.GG,s.K6,s.g1,s.Yh,s._c,E]})}return $})()},8984:(X,U,i)=>{"use strict";i.d(U,{q:()=>$});var t=i(460),I=i(1368),c=i(5128),P=i(3128),v=i(7180),_=i(4987),C=i(4716),s=i(4496),h=i(2605),d=i(6232),e=i(1496);let f=(()=>{class S{constructor(m){this.ms=m,this.id="",this.version={},this.product_id="",this.placeholder="",this.disabled=!1}ngOnInit(){}registerOnChange(m){this.onChange=m}registerOnTouched(m){}writeValue(m){this.id!==m&&(this.id=m)}setDisabledState(m){this.disabled=m}select(){this.ms.create({nzTitle:"\u9009\u62e9",nzContent:d.C,nzData:{product_id:this.product_id}}).afterClose.subscribe(m=>{console.log(m),m&&(this.id=m.name,this.onChange(this.id))})}change(m){console.log("on change",m),this.id=m,this.onChange(m)}static#t=this.\u0275fac=function(R){return new(R||S)(s.GI1(e.mU))};static#e=this.\u0275cmp=s.In1({type:S,selectors:[["app-input-version"]],inputs:{product_id:"product_id",placeholder:"placeholder"},standalone:!0,features:[s.M5G([{provide:C.Y6,useExisting:(0,s.wd)(()=>S),multi:!0}]),s.UHJ],decls:4,vars:4,consts:[["nz-input","",3,"placeholder","value","disabled","change"],["box",""],["type","button","nz-button","",3,"disabled","click"]],template:function(R,G){if(1&R){const N=s.KQA();s.I0R(0,"input",0,1),s.qCj("change",function(){s.usT(N);const q=s.Gew(1);return s.CGJ(G.change(q.value))}),s.C$Y(),s.I0R(2,"button",2),s.qCj("click",function(){return G.select()}),s.OEk(3,"\u9009\u62e9"),s.C$Y()}2&R&&(s.E7m("placeholder",G.placeholder)("value",G.id)("disabled",G.disabled),s.yG2(2),s.E7m("disabled",G.disabled))},dependencies:[h.cv,t.Ez]})}return S})();var a=i(740),M=i(3036),b=i(1748),Y=i(1388);function k(S,y){1&S&&s.wR5(0,"app-links")}function j(S,y){1&S&&s.wR5(0,"app-clients")}function D(S,y){1&S&&s.wR5(0,"app-serials")}let l=(()=>{class S{static#t=this.\u0275fac=function(R){return new(R||S)};static#e=this.\u0275cmp=s.In1({type:S,selectors:[["app-tunnels"]],standalone:!0,features:[s.UHJ],decls:7,vars:0,consts:[["nzTitle","TCP\u8fde\u63a5"],["nz-tab",""],["nzTitle","TCP\u5ba2\u6237\u7aef"],["nzTitle","\u4e32\u53e3\u8fde\u63a5"]],template:function(R,G){1&R&&(s.I0R(0,"nz-tabset")(1,"nz-tab",0),s.yuY(2,k,1,0,"ng-template",1),s.C$Y(),s.I0R(3,"nz-tab",2),s.yuY(4,j,1,0,"ng-template",1),s.C$Y(),s.I0R(5,"nz-tab",3),s.yuY(6,D,1,0,"ng-template",1),s.C$Y()())},dependencies:[a.K6,a.g1,a.Yh,a._c,M.e,b.i,Y.I]})}return S})(),x=(()=>{class S{constructor(m,R){this.ms=m,this.rs=R,this.id="",this.tunnel={},this.placeholder=""}ngOnInit(){}registerOnChange(m){this.onChange=m}registerOnTouched(m){}writeValue(m){this.id!==m&&(this.id=m)}select(){this.ms.create({nzTitle:"\u9009\u62e9",nzContent:l,nzData:this.data}).afterClose.subscribe(m=>{console.log(m),m&&(this.tunnel=m,this.id=m.id,this.onChange(this.id))})}change(m){this.id=m,this.onChange(m)}static#t=this.\u0275fac=function(R){return new(R||S)(s.GI1(e.mU),s.GI1(P.Cm))};static#e=this.\u0275cmp=s.In1({type:S,selectors:[["app-input-tunnel"]],inputs:{data:"data",placeholder:"placeholder"},standalone:!0,features:[s.M5G([{provide:C.Y6,useExisting:(0,s.wd)(()=>S),multi:!0}]),s.UHJ],decls:5,vars:3,consts:[["nz-input","",3,"placeholder","value","change"],["box",""],["type","button","nz-button","",3,"click"]],template:function(R,G){if(1&R){const N=s.KQA();s.I0R(0,"input",0,1),s.qCj("change",function(){s.usT(N);const q=s.Gew(1);return s.CGJ(G.change(q.value))}),s.C$Y(),s.I0R(2,"button",2),s.qCj("click",function(){return G.select()}),s.OEk(3,"\u9009\u62e9"),s.C$Y(),s.OEk(4)}2&R&&(s.E7m("placeholder",G.placeholder)("value",G.id),s.yG2(4),s.oRS("\n",G.tunnel.name,"\n"))},dependencies:[t.Ez,h.cv]})}return S})();var F=i(500),T=i(940),W=i(9432);const B=["form"],V=["chooseProduct"],p=["chooseVersion"],E=["chooseProject"],g=["chooseTunnel"];function A(S,y){if(1&S){const m=s.KQA();s.I0R(0,"button",8),s.qCj("click",function(){s.usT(m);const G=s.GaO();return s.CGJ(G.onSubmit())}),s.OEk(1,"\u4fdd\u5b58"),s.C$Y()}}function O(S,y){1&S&&s.wR5(0,"app-input-product",9),2&S&&s.E7m("formControl",y.control)}function w(S,y){if(1&S&&s.wR5(0,"app-input-version",10),2&S){const m=y.control;s.GaO();const R=s.Gew(2);s.E7m("formControl",m)("product_id",R.value.product_id)}}function K(S,y){1&S&&s.wR5(0,"app-input-project",9),2&S&&s.E7m("formControl",y.control)}function H(S,y){1&S&&s.wR5(0,"app-input-tunnel",9),2&S&&s.E7m("formControl",y.control)}let $=(()=>{class S{build(){this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u8bbe\u5907"},{key:"keywords",label:"\u5173\u952e\u5b57",type:"tags",default:[]},{key:"product_id",label:"\u4ea7\u54c1",type:"template",template:this.chooseProduct,change:()=>setTimeout(()=>this.loadProtocolStation())},{key:"product_version",label:"\u7248\u672c",type:"template",template:this.chooseVersion},{key:"project_id",label:"\u9879\u76ee",type:"template",template:this.chooseProject},{key:"tunnel_id",label:"\u901a\u9053",type:"template",template:this.chooseTunnel},{key:"station",label:"\u4ece\u7ad9",type:"object"},{key:"description",label:"\u8bf4\u660e",type:"textarea"}]}constructor(m,R,G,N){this.router=m,this.msg=R,this.rs=G,this.route=N,this.base="/admin",this.project_id="",this.tunnel_id="",this.id="",this.data={},this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u8bbe\u5907"}],this.values={}}ngOnInit(){this.base=(0,F.k7)(this.route),this.project_id||=(0,F.mG)(this.route,"project"),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load()),this.route.snapshot.paramMap.has("tunnel_id")&&(this.tunnel_id=this.route.snapshot.paramMap.get("tunnel_id"))}ngAfterViewInit(){setTimeout(()=>{this.build(),this.project_id&&(this.data.project_id=this.project_id,this.form.patchValue({project_id:this.project_id}),this.form.group.get("project_id")?.disable()),this.tunnel_id&&(this.data.tunnel_id=this.tunnel_id,this.form.patchValue({tunnel_id:this.tunnel_id}),this.form.group.get("tunnel_id")?.disable())},100)}load(){this.rs.get(`device/${this.id}`).subscribe(m=>{this.values=m.data,this.loadProtocolStation()})}loadProtocolStation(){console.log("loadProtocolStation",this.form.value),this.values=this.form.value;let m=this.form.value.product_id;m&&this.rs.get(`product/${m}`).subscribe(R=>{this.rs.get(`protocol/${R.data.protocol}/station`).subscribe(N=>{N.data&&(this.fields[7].children=N.data,this.form.ngOnInit())})})}onSubmit(){this.form.valid?this.rs.post(`device/${this.id||"create"}`,this.form.value).subscribe(R=>{this.router.navigateByUrl(`${this.base}/device/`+R.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(R){return new(R||S)(s.GI1(T.E5),s.GI1(W.yo),s.GI1(P.Cm),s.GI1(T.gV))};static#e=this.\u0275cmp=s.In1({type:S,selectors:[["app-device-edit"]],viewQuery:function(R,G){if(1&R&&(s.CC$(B,5),s.CC$(V,5),s.CC$(p,5),s.CC$(E,5),s.CC$(g,5)),2&R){let N;s.wto(N=s.Gqi())&&(G.form=N.first),s.wto(N=s.Gqi())&&(G.chooseProduct=N.first),s.wto(N=s.Gqi())&&(G.chooseVersion=N.first),s.wto(N=s.Gqi())&&(G.chooseProject=N.first),s.wto(N=s.Gqi())&&(G.chooseTunnel=N.first)}},standalone:!0,features:[s.UHJ],decls:13,vars:4,consts:[[3,"nzTitle","nzExtra"],[3,"fields","values"],["form",""],["extraTemplate",""],["chooseProduct",""],["chooseVersion",""],["chooseProject",""],["chooseTunnel",""],["nz-button","","nzType","primary",3,"click"],[3,"formControl"],[3,"formControl","product_id"]],template:function(R,G){if(1&R&&(s.I0R(0,"nz-card",0),s.wR5(1,"im-smart-editor",1,2),s.C$Y(),s.yuY(3,A,2,0,"ng-template",null,3,s.gJz)(5,O,1,1,"ng-template",null,4,s.gJz)(7,w,1,2,"ng-template",null,5,s.gJz)(9,K,1,1,"ng-template",null,6,s.gJz)(11,H,1,1,"ng-template",null,7,s.gJz)),2&R){const N=s.Gew(4);s.E7m("nzTitle","\u8bbe\u5907"+(G.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",N),s.yG2(),s.E7m("fields",G.fields)("values",G.values)}},dependencies:[I.MD,C.y,C.ue,C.sl,C.ug,t.Ez,c.Q9,P.qq,v.a,_.m,f,x]})}return S})()},9936:(X,U,i)=>{"use strict";i.d(U,{A:()=>s});var t=i(1368),I=i(1496),c=i(3128),P=i(500),v=i(4496),_=i(940);const C=()=>[];let s=(()=>{class h{constructor(e,f,a,M){this.route=e,this.rs=f,this.ref=a,this.data=M,this.base="/admin",this.project_id="",this.product_id="",this.tunnel_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>`${this.base}/device/create`}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:b=>`${this.base}/device/${b.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"product",sortable:!0,label:"\u4ea7\u54c1",keyword:!0,link:b=>`${this.base}/product/${b.product_id}`},{key:"product_version",sortable:!0,label:"\u7248\u672c"},{key:"project",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:b=>`${this.base}/project/${b.project_id}`},{key:"online",sortable:!0,label:"\u4e0a\u7ebf\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:b=>`${this.base}/device/${b.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:b=>{this.rs.get(`device/${b.id}/delete`).subscribe(Y=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:b=>this.ref.close(b)}],this.project_id=M?.project_id}ngOnInit(){this.base=(0,P.k7)(this.route),this.project_id||=(0,P.mG)(this.route,"project")}refresh(){this.search(this.query)}search(e){this.product_id&&(e.filter.product_id=this.product_id),this.project_id&&(e.filter.project_id=this.project_id),this.tunnel_id&&(e.filter.tunnel_id=this.tunnel_id),this.loading=!0,this.rs.post("device/search",e).subscribe(f=>{this.datum=f.data,this.total=f.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(f){return new(f||h)(v.GI1(_.gV),v.GI1(c.Cm),v.GI1(I.U7,8),v.GI1(I.aG,8))};static#e=this.\u0275cmp=v.In1({type:h,selectors:[["app-devices"]],inputs:{project_id:"project_id",product_id:"product_id",tunnel_id:"tunnel_id"},standalone:!0,features:[v.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(f,a){1&f&&(v.I0R(0,"im-smart-table",0),v.qCj("query",function(b){return a.search(b)}),v.C$Y()),2&f&&v.E7m("buttons",a.ref?v.q4q(6,C):a.buttons)("columns",a.ref?a.columnsSelect:a.columns)("operators",a.ref?a.operatorsSelect:a.operators)("datum",a.datum)("total",a.total)("loading",a.loading)},dependencies:[t.MD,c.YP]})}return h})()},6484:(X,U,i)=>{"use strict";i.d(U,{I:()=>C});var t=i(1368),I=i(3128),c=i(4496),P=i(940),v=i(1496);const _=()=>[];let C=(()=>{class s{constructor(d,e,f){this.route=d,this.rs=e,this.ref=f,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/gateway/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:a=>`/admin/gateway/${a.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"project",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:a=>`/admin/project/${a.project_id}`},{key:"online",sortable:!0,label:"\u4e0a\u7ebf\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:a=>`/admin/gateway/${a.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:a=>{this.rs.get(`gateway/${a.id}/delete`).subscribe(M=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:a=>this.ref.close(a)}]}ngOnInit(){}refresh(){this.search(this.query)}search(d){this.query=d,this.loading=!0,this.rs.post("gateway/search",d).subscribe(e=>{this.datum=e.data,this.total=e.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(e){return new(e||s)(c.GI1(P.gV),c.GI1(I.Cm),c.GI1(v.U7,8))};static#e=this.\u0275cmp=c.In1({type:s,selectors:[["app-gateways"]],standalone:!0,features:[c.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(e,f){1&e&&(c.I0R(0,"im-smart-table",0),c.qCj("query",function(M){return f.search(M)}),c.C$Y()),2&e&&c.E7m("buttons",f.ref?c.q4q(6,_):f.buttons)("columns",f.ref?f.columnsSelect:f.columns)("operators",f.ref?f.operatorsSelect:f.operators)("datum",f.datum)("total",f.total)("loading",f.loading)},dependencies:[t.MD,I.YP]})}return s})()},3036:(X,U,i)=>{"use strict";i.d(U,{e:()=>_});var t=i(1368),I=i(3128),c=i(4496),P=i(1496);const v=()=>[];let _=(()=>{class C{constructor(h,d){this.rs=h,this.ref=d,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/link/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:e=>`/admin/link/${e.id}`},{key:"server",sortable:!0,label:"\u670d\u52a1\u5668",keyword:!0,link:e=>`/admin/server/${e.server_id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"remote",sortable:!0,label:"\u8fdc\u7a0b\u5730\u5740",keyword:!0},{key:"status",label:"\u72b6\u6001"},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"server",label:"\u670d\u52a1\u5668",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0},{key:"remote",label:"\u8fdc\u7a0b\u5730\u5740",keyword:!0},{key:"status",label:"\u72b6\u6001"}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:e=>`/admin/link/${e.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:e=>{this.rs.get(`link/${e.id}/delete`).subscribe(f=>this.refresh())}},{icon:"close-circle",title:"\u505c\u6b62",action:e=>{this.rs.get(`link/${e.id}/close`).subscribe(f=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:e=>this.ref.close(e)}]}refresh(){this.search(this.query)}search(h){this.query=h,this.server_id&&(h.filter.server_id=this.server_id),this.loading=!0,this.rs.post("link/search",h).subscribe(d=>{this.datum=d.data,this.total=d.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(d){return new(d||C)(c.GI1(I.Cm),c.GI1(P.U7,8))};static#e=this.\u0275cmp=c.In1({type:C,selectors:[["app-links"]],inputs:{server_id:"server_id"},standalone:!0,features:[c.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(d,e){1&d&&(c.I0R(0,"im-smart-table",0),c.qCj("query",function(a){return e.search(a)}),c.C$Y()),2&d&&c.E7m("buttons",e.ref?c.q4q(6,v):e.buttons)("columns",e.ref?e.columnsSelect:e.columns)("operators",e.ref?e.operatorsSelect:e.operators)("datum",e.datum)("total",e.total)("loading",e.loading)},dependencies:[t.MD,I.YP]})}return C})()},6232:(X,U,i)=>{"use strict";i.d(U,{C:()=>_});var t=i(3128),I=i(1496),c=i(4496),P=i(940);const v=()=>[];let _=(()=>{class C{constructor(h,d,e,f){this.route=h,this.rs=d,this.ref=e,this.data=f,this.project_id="",this.product_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",action:()=>{let a=prompt("\u8bf7\u8f93\u5165\u7248\u672c\u53f7");a&&this.rs.post(`product/${this.product_id}/version/create`,{name:a}).subscribe(M=>this.refresh())}}],this.columnsSelect=[{key:"name",label:"\u540d\u79f0"},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columns=[{key:"name",label:"\u540d\u79f0",link:a=>`/admin/product/${a.product_id}/version/${a.name}`},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsProject=[{key:"name",label:"\u540d\u79f0",link:a=>`/project/${this.project_id}/product/${a.product_id}/version/${a.name}`},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",action:a=>{let M=prompt("\u8bf7\u8f93\u5165\u7248\u672c\u53f7",a.name);M&&this.rs.post(`product/${this.product_id}/version/${a.name}`,{name:M}).subscribe(b=>this.refresh())}},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:a=>{this.rs.get(`product/${this.product_id}/version/${a.name}/delete`).subscribe(M=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:a=>this.ref.close(a)}],this.product_id=f?.product_id}ngOnInit(){this.route.parent?.snapshot.paramMap.has("project")&&(this.project_id=this.route.parent?.snapshot.paramMap.get("project")),this.route.snapshot.paramMap.has("id")&&(this.product_id=this.route.snapshot.paramMap.get("id"))}refresh(){this.search(this.query)}search(h){this.query=h,this.loading=!0,this.rs.get("product/"+this.product_id+"/version/list",h).subscribe(d=>{this.datum=d.data,this.total=d.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(d){return new(d||C)(c.GI1(P.gV),c.GI1(t.Cm),c.GI1(I.U7,8),c.GI1(I.aG,8))};static#e=this.\u0275cmp=c.In1({type:C,selectors:[["app-product-version"]],inputs:{project_id:"project_id",product_id:"product_id"},standalone:!0,features:[c.UHJ],decls:1,vars:9,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(d,e){1&d&&(c.I0R(0,"im-smart-table",0),c.qCj("query",function(a){return e.search(a)}),c.C$Y()),2&d&&c.E7m("buttons",e.ref?c.q4q(6,v):e.project_id?c.q4q(7,v):e.buttons)("columns",e.ref?e.columnsSelect:e.project_id?e.columnsProject:e.columns)("operators",e.ref?e.operatorsSelect:e.project_id?c.q4q(8,v):e.operators)("datum",e.datum)("total",e.total)("loading",e.loading)},dependencies:[t.YP]})}return C})()},556:(X,U,i)=>{"use strict";i.d(U,{G:()=>_});var t=i(1368),I=i(3128),c=i(4496),P=i(1496);const v=()=>[];let _=(()=>{class C{constructor(h,d,e){this.rs=h,this.ms=d,this.ref=e,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/product/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:f=>`/admin/product/${f.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"version",sortable:!0,label:"\u7248\u672c",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:f=>`/admin/product/${f.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:f=>{this.rs.get(`product/${f.id}/delete`).subscribe(a=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:f=>{this.ref.close(f)}}]}refresh(){this.search(this.query)}search(h){this.query=h,this.loading=!0,this.rs.post("product/search",h).subscribe(d=>{this.datum=d.data,this.total=d.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(d){return new(d||C)(c.GI1(I.Cm),c.GI1(P.mU),c.GI1(P.U7,8))};static#e=this.\u0275cmp=c.In1({type:C,selectors:[["app-products"]],standalone:!0,features:[c.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(d,e){1&d&&(c.I0R(0,"im-smart-table",0),c.qCj("query",function(a){return e.search(a)}),c.C$Y()),2&d&&c.E7m("buttons",e.ref?c.q4q(6,v):e.buttons)("columns",e.ref?e.columnsSelect:e.columns)("operators",e.ref?e.operatorsSelect:e.operators)("datum",e.datum)("total",e.total)("loading",e.loading)},dependencies:[t.MD,I.YP],styles:[".toolbar[_ngcontent-%COMP%]{padding:10px 0}.pages[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:center}"]})}return C})()},7260:(X,U,i)=>{"use strict";i.d(U,{M:()=>V});var t=i(4408),I=i(460),c=i(1368),P=i(940),v=i(3436),_=i(5128),C=i(3128),s=i(740),h=i(7752),d=i(9936),e=i(1175),f=i(500),a=i(4496),M=i(9432);function b(p,E){if(1&p&&a.wR5(0,"app-spaces",8),2&p){const g=a.GaO();a.E7m("project_id",g.id)}}function Y(p,E){if(1&p&&a.wR5(0,"app-devices",8),2&p){const g=a.GaO();a.E7m("project_id",g.id)}}function k(p,E){if(1&p&&a.wR5(0,"app-project-user",8),2&p){const g=a.GaO();a.E7m("project_id",g.id)}}function j(p,E){}function D(p,E){if(1&p&&(a.I0R(0,"button",10),a.OEk(1,"\u7f16\u8f91"),a.C$Y()),2&p){const g=a.GaO(3);a.E7m("routerLink","/project/"+g.id+"/edit")}}function l(p,E){1&p&&(a.I0R(0,"nz-space"),a.yuY(1,D,2,1,"button",9),a.C$Y())}function x(p,E){if(1&p&&(a.I0R(0,"a",14),a.OEk(1,"\u6253\u5f00"),a.C$Y()),2&p){const g=a.GaO(3);a.E7m("routerLink","/project/"+g.id)}}function F(p,E){1&p&&(a.I0R(0,"button",15),a.OEk(1,"\u7f16\u8f91"),a.C$Y())}function T(p,E){if(1&p){const g=a.KQA();a.I0R(0,"button",16),a.qCj("nzOnConfirm",function(){a.usT(g);const O=a.GaO(3);return a.CGJ(O.delete())}),a.OEk(1,"\u5220\u9664 "),a.C$Y()}}function W(p,E){1&p&&(a.I0R(0,"nz-space"),a.yuY(1,x,2,1,"a",11)(2,F,2,0,"button",12)(3,T,2,0,"button",13),a.C$Y())}function B(p,E){if(1&p&&a.yuY(0,l,2,0,"nz-space")(1,W,4,0),2&p){const g=a.GaO();a.C0Y(0,g.project_id?0:1)}}let V=(()=>{class p{constructor(g,A,O,w){this.router=g,this.msg=A,this.rs=O,this.route=w,this.base="/admin",this.value="",this.data={},this.fields=[{label:"ID",key:"id"},{label:"\u540d\u79f0",key:"name"},{label:"\u7248\u672c",key:"version"},{label:"\u521b\u5efa\u65f6\u95f4",key:"created",type:"date"},{label:"\u8bf4\u660e",key:"description",span:2}]}ngOnInit(){this.base=(0,f.k7)(this.route),this.project_id||=(0,f.mG)(this.route,"project"),this.id=this.route.snapshot.paramMap.has("id")?this.route.snapshot.paramMap.get("id"):this.project_id,this.load()}load(){this.rs.get(`project/${this.id}`).subscribe(g=>{this.data=g.data})}delete(){this.rs.get(`project/${this.id}/delete`,{}).subscribe(g=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl("/admin/project")})}static#t=this.\u0275fac=function(A){return new(A||p)(a.GI1(P.E5),a.GI1(M.yo),a.GI1(C.Cm),a.GI1(P.gV))};static#e=this.\u0275cmp=a.In1({type:p,selectors:[["app-project-detail"]],standalone:!0,features:[a.UHJ],decls:13,vars:3,consts:[["nzTitle","\u9879\u76ee\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzTitle","\u9879\u76ee\u7a7a\u95f4"],["nz-tab",""],["nzTitle","\u9879\u76ee\u8bbe\u5907"],["nzTitle","\u9879\u76ee\u7528\u6237"],["nzTitle","\u62a5\u8b66\u65e5\u5fd7"],["extra",""],[3,"project_id"],["nz-button","",3,"routerLink",4,"nzSpaceItem"],["nz-button","",3,"routerLink"],["nz-button","","target","_blank",3,"routerLink",4,"nzSpaceItem"],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","target","_blank",3,"routerLink"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(A,O){if(1&A&&(a.I0R(0,"nz-card",0),a.wR5(1,"im-smart-info",1),a.I0R(2,"nz-tabset")(3,"nz-tab",2),a.yuY(4,b,1,1,"ng-template",3),a.C$Y(),a.I0R(5,"nz-tab",4),a.yuY(6,Y,1,1,"ng-template",3),a.C$Y(),a.I0R(7,"nz-tab",5),a.yuY(8,k,1,1,"ng-template",3),a.C$Y(),a.I0R(9,"nz-tab",6),a.yuY(10,j,0,0,"ng-template",3),a.C$Y()()(),a.yuY(11,B,2,1,"ng-template",null,7,a.gJz)),2&A){const w=a.Gew(12);a.E7m("nzExtra",w),a.yG2(),a.E7m("fields",O.fields)("value",O.data)}},dependencies:[c.MD,C.cr,_.Q9,t.Ud,I.Ez,t.UH,P.ER,v.GG,s.K6,s.g1,s.Yh,s._c,h.q,d.A,e.i]})}return p})()},9632:(X,U,i)=>{"use strict";i.d(U,{Q:()=>e});var t=i(460),I=i(1368),c=i(5128),P=i(3128),v=i(500),_=i(4496),C=i(940),s=i(9432);const h=["form"];function d(f,a){if(1&f){const M=_.KQA();_.I0R(0,"button",4),_.qCj("click",function(){_.usT(M);const Y=_.GaO();return _.CGJ(Y.onSubmit())}),_.OEk(1,"\u4fdd\u5b58"),_.C$Y()}}let e=(()=>{class f{constructor(M,b,Y,k){this.router=M,this.msg=b,this.rs=Y,this.route=k,this.base="/admin",this.id="",this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u9879\u76ee"},{key:"keywords",label:"\u5173\u952e\u5b57",type:"tags",default:[]},{key:"version",label:"\u7248\u672c",type:"text"},{key:"url",label:"\u94fe\u63a5",type:"text"},{key:"description",label:"\u8bf4\u660e",type:"textarea"}],this.values={}}ngOnInit(){this.base=(0,v.k7)(this.route),this.project_id||=(0,v.mG)(this.route,"project"),this.id=this.route.snapshot.paramMap.has("id")?this.route.snapshot.paramMap.get("id"):this.project_id,this.load()}load(){this.rs.get("project/"+this.id).subscribe(M=>{this.values=M.data})}onSubmit(){this.form.valid?this.rs.post(`project/${this.id||"create"}`,this.form.value).subscribe(b=>{this.router.navigateByUrl(this.project_id?`${this.base}/detail`:`${this.base}/project/`+b.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(b){return new(b||f)(_.GI1(C.E5),_.GI1(s.yo),_.GI1(P.Cm),_.GI1(C.gV))};static#e=this.\u0275cmp=_.In1({type:f,selectors:[["app-project-edit"]],viewQuery:function(b,Y){if(1&b&&_.CC$(h,5),2&b){let k;_.wto(k=_.Gqi())&&(Y.form=k.first)}},standalone:!0,features:[_.UHJ],decls:5,vars:4,consts:[[3,"nzTitle","nzExtra"],[3,"fields","values"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(b,Y){if(1&b&&(_.I0R(0,"nz-card",0),_.wR5(1,"im-smart-editor",1,2),_.C$Y(),_.yuY(3,d,2,0,"ng-template",null,3,_.gJz)),2&b){const k=_.Gew(4);_.E7m("nzTitle","\u9879\u76ee"+(Y.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",k),_.yG2(),_.E7m("fields",Y.fields)("values",Y.values)}},dependencies:[I.MD,t.Ez,c.Q9,P.qq]})}return f})()},1175:(X,U,i)=>{"use strict";i.d(U,{i:()=>d});var t=i(1496),I=i(1368),c=i(9688),P=i(3128),v=i(500),_=i(4496),C=i(940),s=i(9268);const h=()=>[];let d=(()=>{class e{constructor(a,M,b,Y,k,j){this.route=a,this.rs=M,this.msg=b,this.ms=Y,this.ref=k,this.data=j,this.base="/admin",this.project_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"link",label:"\u7ed1\u5b9a\u7528\u6237",action:()=>this.bind()}],this.columns=[{key:"user_id",sortable:!0,label:"ID",keyword:!0},{key:"user",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"disabled",sortable:!0,label:"\u72b6\u6001"},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"user_id",sortable:!0,label:"ID",keyword:!0},{key:"user",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"disabled",sortable:!0,label:"\u72b6\u6001"}],this.operators=[{icon:"disconnect",label:"\u89e3\u7ed1",confirm:"\u786e\u8ba4\u89e3\u7ed1\uff1f",action:D=>this.unbind(D.user_id)}],this.operatorsSelect=[{label:"\u9009\u62e9",action:D=>this.ref.close(D)}],this.project_id=j?.project_id}ngOnInit(){this.base=(0,v.k7)(this.route),this.project_id||=(0,v.mG)(this.route,"project")}refresh(){this.search(this.query)}search(a){this.query=a,this.project_id&&(a.filter.project_id=this.project_id),this.loading=!0,this.rs.get(`project/${this.project_id}/user/list`).subscribe(M=>{this.datum=M.data}).add(()=>this.loading=!1)}bind(){this.ms.create({nzTitle:"\u7ed1\u5b9a\u7528\u6237",nzContent:c.g}).afterClose.subscribe(a=>{a&&this.rs.get(`project/${this.project_id}/user/${a.id}/bind`,{}).subscribe(M=>{this.msg.success("\u63d0\u793a","\u7ed1\u5b9a\u6210\u529f"),this.refresh()})})}unbind(a){this.rs.get(`project/${this.project_id}/user/${a}/unbind`,{}).subscribe(M=>{this.msg.success("\u63d0\u793a","\u89e3\u7ed1\u6210\u529f"),this.refresh()})}static#t=this.\u0275fac=function(M){return new(M||e)(_.GI1(C.gV),_.GI1(P.Cm),_.GI1(s.GA),_.GI1(t.mU),_.GI1(t.U7,8),_.GI1(t.aG,8))};static#e=this.\u0275cmp=_.In1({type:e,selectors:[["app-project-user"]],inputs:{project_id:"project_id"},standalone:!0,features:[_.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(M,b){1&M&&(_.I0R(0,"im-smart-table",0),_.qCj("query",function(k){return b.search(k)}),_.C$Y()),2&M&&_.E7m("buttons",b.ref?_.q4q(6,h):b.buttons)("columns",b.ref?b.columnsSelect:b.columns)("operators",b.ref?b.operatorsSelect:b.operators)("datum",b.datum)("total",b.total)("loading",b.loading)},dependencies:[I.MD,P.YP]})}return e})()},7448:(X,U,i)=>{"use strict";i.d(U,{a:()=>_});var t=i(1368),I=i(3128),c=i(4496),P=i(1496);const v=()=>[];let _=(()=>{class C{constructor(h,d){this.rs=h,this.ref=d,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/project/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:e=>`/admin/project/${e.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"export",title:"\u6253\u5f00",link:e=>`/project/${e.id}`,external:!0},{icon:"edit",title:"\u7f16\u8f91",link:e=>`/admin/project/${e.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:e=>{this.rs.get(`project/${e.id}/delete`).subscribe(f=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:e=>this.ref.close(e)}]}refresh(){this.search(this.query)}search(h){this.query=h,this.loading=!0,this.rs.post("project/search",h).subscribe(d=>{this.datum=d.data,this.total=d.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(d){return new(d||C)(c.GI1(I.Cm),c.GI1(P.U7,8))};static#e=this.\u0275cmp=c.In1({type:C,selectors:[["app-projects"]],standalone:!0,features:[c.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(d,e){1&d&&(c.I0R(0,"im-smart-table",0),c.qCj("query",function(a){return e.search(a)}),c.C$Y()),2&d&&c.E7m("buttons",e.ref?c.q4q(6,v):e.buttons)("columns",e.ref?e.columnsSelect:e.columns)("operators",e.ref?e.operatorsSelect:e.operators)("datum",e.datum)("total",e.total)("loading",e.loading)},dependencies:[t.MD,I.YP]})}return C})()},1388:(X,U,i)=>{"use strict";i.d(U,{I:()=>_});var t=i(1368),I=i(3128),c=i(4496),P=i(1496);const v=()=>[];let _=(()=>{class C{constructor(h,d){this.rs=h,this.ref=d,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/serial/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:e=>`/admin/serial/${e.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"port_name",sortable:!0,label:"\u7aef\u53e3",keyword:!0},{key:"status",label:"\u72b6\u6001"},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0},{key:"port_name",label:"\u7aef\u53e3",keyword:!0},{key:"status",label:"\u72b6\u6001"}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:e=>`/admin/serial/${e.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:e=>{this.rs.get(`serial/${e.id}/delete`).subscribe(f=>this.refresh())}},{icon:"play-circle",title:"\u542f\u52a8",action:e=>{this.rs.get(`serial/${e.id}/open`).subscribe(f=>this.refresh())}},{icon:"close-circle",title:"\u505c\u6b62",action:e=>{this.rs.get(`serial/${e.id}/close`).subscribe(f=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:e=>this.ref.close(e)}]}refresh(){this.search(this.query)}search(h){this.query=h,this.loading=!0,this.rs.post("serial/search",h).subscribe(d=>{this.datum=d.data,this.total=d.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(d){return new(d||C)(c.GI1(I.Cm),c.GI1(P.U7,8))};static#e=this.\u0275cmp=c.In1({type:C,selectors:[["app-serials"]],standalone:!0,features:[c.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(d,e){1&d&&(c.I0R(0,"im-smart-table",0),c.qCj("query",function(a){return e.search(a)}),c.C$Y()),2&d&&c.E7m("buttons",e.ref?c.q4q(6,v):e.buttons)("columns",e.ref?e.columnsSelect:e.columns)("operators",e.ref?e.operatorsSelect:e.operators)("datum",e.datum)("total",e.total)("loading",e.loading)},dependencies:[t.MD,I.YP]})}return C})()},7812:(X,U,i)=>{"use strict";i.d(U,{E:()=>j});var t=i(4408),I=i(460),c=i(1368),P=i(940),v=i(3436),_=i(5128),C=i(3128),s=i(740),h=i(6579),d=i(500),e=i(4496),f=i(9432);function a(D,l){if(1&D&&e.wR5(0,"app-space-device",6),2&D){const x=e.GaO();e.E7m("space_id",x.id)("project_id",x.data.project_id)}}function M(D,l){}function b(D,l){1&D&&(e.I0R(0,"button",9),e.OEk(1,"\u7f16\u8f91"),e.C$Y())}function Y(D,l){if(1&D){const x=e.KQA();e.I0R(0,"button",10),e.qCj("nzOnConfirm",function(){e.usT(x);const T=e.GaO(2);return e.CGJ(T.delete())}),e.OEk(1,"\u5220\u9664"),e.C$Y()}}function k(D,l){1&D&&(e.I0R(0,"nz-space"),e.yuY(1,b,2,0,"button",7)(2,Y,2,0,"button",8),e.C$Y())}let j=(()=>{class D{constructor(x,F,T,W){this.router=x,this.msg=F,this.rs=T,this.route=W,this.base="/admin",this.value="",this.data={},this.spaces=[],this.fields=[{label:"ID",key:"id"},{label:"\u540d\u79f0",key:"name"},{label:"\u521b\u5efa\u65f6\u95f4",key:"created",type:"date"},{label:"\u8bf4\u660e",key:"description",span:2}]}ngOnInit(){this.base=(0,d.k7)(this.route),this.project_id||=(0,d.mG)(this.route,"project"),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.rs.get(`space/${this.id}`).subscribe(x=>{this.data=x.data})}delete(){this.rs.get(`space/${this.id}/delete`,{}).subscribe(x=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl(`${this.base}/space`)})}static#t=this.\u0275fac=function(F){return new(F||D)(e.GI1(P.E5),e.GI1(f.yo),e.GI1(C.Cm),e.GI1(P.gV))};static#e=this.\u0275cmp=e.In1({type:D,selectors:[["app-space-detail"]],standalone:!0,features:[e.UHJ],decls:9,vars:3,consts:[["nzTitle","\u7a7a\u95f4\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzTitle","\u7a7a\u95f4\u8bbe\u5907"],["nz-tab",""],["nzTitle","\u62a5\u8b66\u65e5\u5fd7"],["extra",""],[3,"space_id","project_id"],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(F,T){if(1&F&&(e.I0R(0,"nz-card",0),e.wR5(1,"im-smart-info",1),e.I0R(2,"nz-tabset")(3,"nz-tab",2),e.yuY(4,a,1,2,"ng-template",3),e.C$Y(),e.I0R(5,"nz-tab",4),e.yuY(6,M,0,0,"ng-template",3),e.C$Y()()(),e.yuY(7,k,3,0,"ng-template",null,5,e.gJz)),2&F){const W=e.Gew(8);e.E7m("nzExtra",W),e.yG2(),e.E7m("fields",T.fields)("value",T.data)}},dependencies:[c.MD,C.cr,_.Q9,t.Ud,I.Ez,t.UH,P.ER,v.GG,s.K6,s.g1,s.Yh,s._c,h.m]})}return D})()},6579:(X,U,i)=>{"use strict";i.d(U,{m:()=>d});var t=i(1496),I=i(1368),c=i(3128),P=i(9936),v=i(500),_=i(4496),C=i(940),s=i(9268);const h=()=>[];let d=(()=>{class e{constructor(a,M,b,Y,k,j){this.route=a,this.rs=M,this.msg=b,this.ms=Y,this.ref=k,this.data=j,this.base="/admin",this.space_id="",this.project_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"link",label:"\u7ed1\u5b9a\u8bbe\u5907",action:()=>this.bind()}],this.columns=[{key:"device_id",sortable:!0,label:"ID",keyword:!0,link:D=>`${this.base}/device/${D.device_id}`},{key:"device",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"device_id",sortable:!0,label:"ID",keyword:!0},{key:"device",sortable:!0,label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"disconnect",label:"\u89e3\u7ed1",confirm:"\u786e\u8ba4\u89e3\u7ed1\uff1f",action:D=>this.unbind(D.device_id)}],this.operatorsSelect=[{label:"\u9009\u62e9",action:D=>this.ref.close(D)}],this.space_id=j?.space_id,this.project_id=j?.project_id}ngOnInit(){this.base=(0,v.k7)(this.route),this.project_id||=(0,v.mG)(this.route,"project"),this.route.snapshot.paramMap.has("id")&&(this.space_id=this.route.snapshot.paramMap.get("id")),this.space_id&&!this.project_id&&this.rs.get("space/"+this.space_id).subscribe(a=>{this.project_id=a.data.project_id})}refresh(){this.search(this.query)}search(a){this.query=a,this.project_id&&(a.filter.project_id=this.project_id),this.loading=!0,this.rs.get(`space/${this.space_id}/device/list`).subscribe(M=>{this.datum=M.data}).add(()=>this.loading=!1)}bind(){this.ms.create({nzTitle:"\u7ed1\u5b9a\u8bbe\u5907",nzContent:P.A,nzData:{project_id:this.project_id}}).afterClose.subscribe(a=>{a&&this.rs.get(`space/${this.space_id}/device/${a.id}/bind`,{}).subscribe(M=>{this.msg.success("\u63d0\u793a","\u7ed1\u5b9a\u6210\u529f"),this.refresh()})})}unbind(a){this.rs.get(`space/${this.space_id}/device/${a}/unbind`,{}).subscribe(M=>{this.msg.success("\u63d0\u793a","\u89e3\u7ed1\u6210\u529f"),this.refresh()})}static#t=this.\u0275fac=function(M){return new(M||e)(_.GI1(C.gV),_.GI1(c.Cm),_.GI1(s.GA),_.GI1(t.mU),_.GI1(t.U7,8),_.GI1(t.aG,8))};static#e=this.\u0275cmp=_.In1({type:e,selectors:[["app-space-device"]],inputs:{space_id:"space_id",project_id:"project_id"},standalone:!0,features:[_.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(M,b){1&M&&(_.I0R(0,"im-smart-table",0),_.qCj("query",function(k){return b.search(k)}),_.C$Y()),2&M&&_.E7m("buttons",b.ref?_.q4q(6,h):b.buttons)("columns",b.ref?b.columnsSelect:b.columns)("operators",b.ref?b.operatorsSelect:b.operators)("datum",b.datum)("total",b.total)("loading",b.loading)},dependencies:[I.MD,c.YP]})}return e})()},3264:(X,U,i)=>{"use strict";i.d(U,{q:()=>Y});var t=i(460),I=i(1368),c=i(5128),P=i(3128),v=i(4987),_=i(4716),C=i(500),s=i(4496),h=i(940),d=i(1496),e=i(9432);const f=["form"],a=["chooseProject"];function M(k,j){if(1&k){const D=s.KQA();s.I0R(0,"button",5),s.qCj("click",function(){s.usT(D);const x=s.GaO();return s.CGJ(x.onSubmit())}),s.OEk(1,"\u4fdd\u5b58"),s.C$Y()}}function b(k,j){1&k&&s.wR5(0,"app-input-project",6),2&k&&s.E7m("formControl",j.control)}let Y=(()=>{class k{build(){this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u7a7a\u95f4"},{key:"project_id",label:"\u9879\u76ee",type:"template",template:this.chooseProject},{key:"description",label:"\u8bf4\u660e",type:"textarea"}]}constructor(D,l,x,F,T){this.router=D,this.ms=l,this.msg=x,this.rs=F,this.route=T,this.base="/admin",this.project_id="",this.id="",this.fields=[],this.values={}}ngOnInit(){this.base=(0,C.k7)(this.route),this.project_id||=(0,C.mG)(this.route,"project"),this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}ngAfterViewInit(){this.build(),this.project_id&&(this.form.patchValue({project_id:this.project_id}),this.form.group.get("project_id")?.disable())}load(){this.rs.get(`space/${this.id}`).subscribe(D=>{this.values=D.data})}onSubmit(){this.form.valid?this.rs.post(`space/${this.id||"create"}`,this.form.value).subscribe(l=>{this.router.navigateByUrl(`${this.base}/space/`+l.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(l){return new(l||k)(s.GI1(h.E5),s.GI1(d.mU),s.GI1(e.yo),s.GI1(P.Cm),s.GI1(h.gV))};static#e=this.\u0275cmp=s.In1({type:k,selectors:[["app-space-edit"]],viewQuery:function(l,x){if(1&l&&(s.CC$(f,5),s.CC$(a,5)),2&l){let F;s.wto(F=s.Gqi())&&(x.form=F.first),s.wto(F=s.Gqi())&&(x.chooseProject=F.first)}},standalone:!0,features:[s.UHJ],decls:7,vars:4,consts:[[3,"nzTitle","nzExtra"],[3,"fields","values"],["form",""],["extraTemplate",""],["chooseProject",""],["nz-button","","nzType","primary",3,"click"],[3,"formControl"]],template:function(l,x){if(1&l&&(s.I0R(0,"nz-card",0),s.wR5(1,"im-smart-editor",1,2),s.C$Y(),s.yuY(3,M,2,0,"ng-template",null,3,s.gJz)(5,b,1,1,"ng-template",null,4,s.gJz)),2&l){const F=s.Gew(4);s.E7m("nzTitle","\u7a7a\u95f4"+(x.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",F),s.yG2(),s.E7m("fields",x.fields)("values",x.values)}},dependencies:[I.MD,_.y,_.ue,_.sl,_.ug,t.Ez,c.Q9,P.qq,v.m]})}return k})()},7752:(X,U,i)=>{"use strict";i.d(U,{q:()=>s});var t=i(1496),I=i(1368),c=i(3128),P=i(500),v=i(4496),_=i(940);const C=()=>[];let s=(()=>{class h{constructor(e,f,a,M){this.route=e,this.rs=f,this.ref=a,this.data=M,this.base="/admin",this.project_id="",this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>`${this.base}/space/create`}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:b=>`${this.base}/space/${b.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"project",sortable:!0,label:"\u9879\u76ee",keyword:!0,link:b=>`${this.base}/project/${b.project_id}`},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:b=>`${this.base}/space/${b.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:b=>{this.rs.get(`space/${b.id}/delete`).subscribe(Y=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:b=>this.ref.close(b)}],this.project_id=M?.project_id}ngOnInit(){this.base=(0,P.k7)(this.route),this.project_id||=(0,P.mG)(this.route,"project")}refresh(){this.search(this.query)}search(e){this.query=e,this.project_id&&(e.filter.project_id=this.project_id),this.loading=!0,this.rs.post("space/search",e).subscribe(f=>{this.datum=f.data,this.total=f.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(f){return new(f||h)(v.GI1(_.gV),v.GI1(c.Cm),v.GI1(t.U7,8),v.GI1(t.aG,8))};static#e=this.\u0275cmp=v.In1({type:h,selectors:[["app-spaces"]],inputs:{project_id:"project_id"},standalone:!0,features:[v.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(f,a){1&f&&(v.I0R(0,"im-smart-table",0),v.qCj("query",function(b){return a.search(b)}),v.C$Y()),2&f&&v.E7m("buttons",a.ref?v.q4q(6,C):a.buttons)("columns",a.ref?a.columnsSelect:a.columns)("operators",a.ref?a.operatorsSelect:a.operators)("datum",a.datum)("total",a.total)("loading",a.loading)},dependencies:[I.MD,c.YP]})}return h})()},9688:(X,U,i)=>{"use strict";i.d(U,{g:()=>_});var t=i(1368),I=i(3128),c=i(4496),P=i(1496);const v=()=>[];let _=(()=>{class C{constructor(h,d){this.rs=h,this.ref=d,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/user/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0},{key:"name",sortable:!0,label:"\u59d3\u540d",keyword:!0},{key:"cellphone",sortable:!0,label:"\u624b\u673a",keyword:!0},{key:"email",sortable:!0,label:"\u90ae\u7bb1",keyword:!0},{key:"disabled",sortable:!0,label:"\u72b6\u6001",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.columnsSelect=[{key:"id",label:"ID",keyword:!0},{key:"name",label:"\u540d\u79f0",keyword:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:e=>`/admin/user/${e.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:e=>{this.rs.get(`user/${e.id}/delete`).subscribe(f=>this.refresh())}}],this.operatorsSelect=[{label:"\u9009\u62e9",action:e=>this.ref.close(e)}]}refresh(){this.search(this.query)}search(h){this.query=h,this.loading=!0,this.rs.post("user/search",h).subscribe(d=>{this.datum=d.data,this.total=d.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(d){return new(d||C)(c.GI1(I.Cm),c.GI1(P.U7,8))};static#e=this.\u0275cmp=c.In1({type:C,selectors:[["app-users"]],standalone:!0,features:[c.UHJ],decls:1,vars:7,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(d,e){1&d&&(c.I0R(0,"im-smart-table",0),c.qCj("query",function(a){return e.search(a)}),c.C$Y()),2&d&&c.E7m("buttons",e.ref?c.q4q(6,v):e.buttons)("columns",e.ref?e.columnsSelect:e.columns)("operators",e.ref?e.operatorsSelect:e.operators)("datum",e.datum)("total",e.total)("loading",e.loading)},dependencies:[t.MD,I.YP]})}return C})()},2032:(X,U,i)=>{"use strict";i.d(U,{U:()=>P});var t=i(7520),I=i(4496),c=i(3128);let P=(()=>{class v{constructor(C){this.rs=C,this.model="device",this.title="\u8bbe\u5907\u603b\u6570",this.project="",this.count=0}ngOnInit(){let C={};this.project&&(C.filter={project_id:this.project}),this.rs.post(this.model+"/count",C).subscribe(s=>{this.count=s.data})}static#t=this.\u0275fac=function(s){return new(s||v)(I.GI1(c.Cm))};static#e=this.\u0275cmp=I.In1({type:v,selectors:[["app-count"]],inputs:{model:"model",title:"title",project:"project"},standalone:!0,features:[I.UHJ],decls:1,vars:2,consts:[[3,"nzTitle","nzValue"]],template:function(s,h){1&s&&I.wR5(0,"nz-statistic",0),2&s&&I.E7m("nzTitle",h.title)("nzValue",h.count)},dependencies:[t._8]})}return v})()},7972:function(X){X.exports=function(){"use strict";var i=6e4,t=36e5,I="millisecond",c="second",P="minute",v="hour",_="day",C="week",s="month",h="quarter",d="year",e="date",f="Invalid Date",a=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(p){var E=["th","st","nd","rd"],g=p%100;return"["+p+(E[(g-20)%10]||E[g]||E[0])+"]"}},Y=function(p,E,g){var A=String(p);return!A||A.length>=E?p:""+Array(E+1-A.length).join(g)+p},k={s:Y,z:function(p){var E=-p.utcOffset(),g=Math.abs(E),A=Math.floor(g/60),O=g%60;return(E<=0?"+":"-")+Y(A,2,"0")+":"+Y(O,2,"0")},m:function p(E,g){if(E.date()<g.date())return-p(g,E);var A=12*(g.year()-E.year())+(g.month()-E.month()),O=E.clone().add(A,s),w=g-O<0,K=E.clone().add(A+(w?-1:1),s);return+(-(A+(g-O)/(w?O-K:K-O))||0)},a:function(p){return p<0?Math.ceil(p)||0:Math.floor(p)},p:function(p){return{M:s,y:d,w:C,d:_,D:e,h:v,m:P,s:c,ms:I,Q:h}[p]||String(p||"").toLowerCase().replace(/s$/,"")},u:function(p){return void 0===p}},j="en",D={};D[j]=b;var l="$isDayjsObject",x=function(p){return p instanceof B||!(!p||!p[l])},F=function p(E,g,A){var O;if(!E)return j;if("string"==typeof E){var w=E.toLowerCase();D[w]&&(O=w),g&&(D[w]=g,O=w);var K=E.split("-");if(!O&&K.length>1)return p(K[0])}else{var H=E.name;D[H]=E,O=H}return!A&&O&&(j=O),O||!A&&j},T=function(p,E){if(x(p))return p.clone();var g="object"==typeof E?E:{};return g.date=p,g.args=arguments,new B(g)},W=k;W.l=F,W.i=x,W.w=function(p,E){return T(p,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var B=function(){function p(g){this.$L=F(g.locale,null,!0),this.parse(g),this.$x=this.$x||g.x||{},this[l]=!0}var E=p.prototype;return E.parse=function(g){this.$d=function(A){var O=A.date,w=A.utc;if(null===O)return new Date(NaN);if(W.u(O))return new Date;if(O instanceof Date)return new Date(O);if("string"==typeof O&&!/Z$/i.test(O)){var K=O.match(a);if(K){var H=K[2]-1||0,$=(K[7]||"0").substring(0,3);return w?new Date(Date.UTC(K[1],H,K[3]||1,K[4]||0,K[5]||0,K[6]||0,$)):new Date(K[1],H,K[3]||1,K[4]||0,K[5]||0,K[6]||0,$)}}return new Date(O)}(g),this.init()},E.init=function(){var g=this.$d;this.$y=g.getFullYear(),this.$M=g.getMonth(),this.$D=g.getDate(),this.$W=g.getDay(),this.$H=g.getHours(),this.$m=g.getMinutes(),this.$s=g.getSeconds(),this.$ms=g.getMilliseconds()},E.$utils=function(){return W},E.isValid=function(){return this.$d.toString()!==f},E.isSame=function(g,A){var O=T(g);return this.startOf(A)<=O&&O<=this.endOf(A)},E.isAfter=function(g,A){return T(g)<this.startOf(A)},E.isBefore=function(g,A){return this.endOf(A)<T(g)},E.$g=function(g,A,O){return W.u(g)?this[A]:this.set(O,g)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(g,A){var O=this,w=!!W.u(A)||A,K=W.p(g),H=function(tt,q){var nt=W.w(O.$u?Date.UTC(O.$y,q,tt):new Date(O.$y,q,tt),O);return w?nt:nt.endOf(_)},$=function(tt,q){return W.w(O.toDate()[tt].apply(O.toDate("s"),(w?[0,0,0,0]:[23,59,59,999]).slice(q)),O)},S=this.$W,y=this.$M,m=this.$D,R="set"+(this.$u?"UTC":"");switch(K){case d:return w?H(1,0):H(31,11);case s:return w?H(1,y):H(0,y+1);case C:var G=this.$locale().weekStart||0,N=(S<G?S+7:S)-G;return H(w?m-N:m+(6-N),y);case _:case e:return $(R+"Hours",0);case v:return $(R+"Minutes",1);case P:return $(R+"Seconds",2);case c:return $(R+"Milliseconds",3);default:return this.clone()}},E.endOf=function(g){return this.startOf(g,!1)},E.$set=function(g,A){var O,w=W.p(g),K="set"+(this.$u?"UTC":""),H=(O={},O[_]=K+"Date",O[e]=K+"Date",O[s]=K+"Month",O[d]=K+"FullYear",O[v]=K+"Hours",O[P]=K+"Minutes",O[c]=K+"Seconds",O[I]=K+"Milliseconds",O)[w],$=w===_?this.$D+(A-this.$W):A;if(w===s||w===d){var S=this.clone().set(e,1);S.$d[H]($),S.init(),this.$d=S.set(e,Math.min(this.$D,S.daysInMonth())).$d}else H&&this.$d[H]($);return this.init(),this},E.set=function(g,A){return this.clone().$set(g,A)},E.get=function(g){return this[W.p(g)]()},E.add=function(g,A){var O,w=this;g=Number(g);var K=W.p(A),H=function(y){var m=T(w);return W.w(m.date(m.date()+Math.round(y*g)),w)};if(K===s)return this.set(s,this.$M+g);if(K===d)return this.set(d,this.$y+g);if(K===_)return H(1);if(K===C)return H(7);var $=(O={},O[P]=i,O[v]=t,O[c]=1e3,O)[K]||1,S=this.$d.getTime()+g*$;return W.w(S,this)},E.subtract=function(g,A){return this.add(-1*g,A)},E.format=function(g){var A=this,O=this.$locale();if(!this.isValid())return O.invalidDate||f;var w=g||"YYYY-MM-DDTHH:mm:ssZ",K=W.z(this),H=this.$H,$=this.$m,S=this.$M,y=O.weekdays,m=O.months,G=function(q,nt,at,lt){return q&&(q[nt]||q(A,w))||at[nt].slice(0,lt)},N=function(q){return W.s(H%12||12,q,"0")},tt=O.meridiem||function(q,nt,at){var lt=q<12?"AM":"PM";return at?lt.toLowerCase():lt};return w.replace(M,function(q,nt){return nt||function(at){switch(at){case"YY":return String(A.$y).slice(-2);case"YYYY":return W.s(A.$y,4,"0");case"M":return S+1;case"MM":return W.s(S+1,2,"0");case"MMM":return G(O.monthsShort,S,m,3);case"MMMM":return G(m,S);case"D":return A.$D;case"DD":return W.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return G(O.weekdaysMin,A.$W,y,2);case"ddd":return G(O.weekdaysShort,A.$W,y,3);case"dddd":return y[A.$W];case"H":return String(H);case"HH":return W.s(H,2,"0");case"h":return N(1);case"hh":return N(2);case"a":return tt(H,$,!0);case"A":return tt(H,$,!1);case"m":return String($);case"mm":return W.s($,2,"0");case"s":return String(A.$s);case"ss":return W.s(A.$s,2,"0");case"SSS":return W.s(A.$ms,3,"0");case"Z":return K}return null}(q)||K.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(g,A,O){var w,K=this,H=W.p(A),$=T(g),S=($.utcOffset()-this.utcOffset())*i,y=this-$,m=function(){return W.m(K,$)};switch(H){case d:w=m()/12;break;case s:w=m();break;case h:w=m()/3;break;case C:w=(y-S)/6048e5;break;case _:w=(y-S)/864e5;break;case v:w=y/t;break;case P:w=y/i;break;case c:w=y/1e3;break;default:w=y}return O?w:W.a(w)},E.daysInMonth=function(){return this.endOf(s).$D},E.$locale=function(){return D[this.$L]},E.locale=function(g,A){if(!g)return this.$L;var O=this.clone(),w=F(g,A,!0);return w&&(O.$L=w),O},E.clone=function(){return W.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},p}(),V=B.prototype;return T.prototype=V,[["$ms",I],["$s",c],["$m",P],["$H",v],["$W",_],["$M",s],["$y",d],["$D",e]].forEach(function(p){V[p[1]]=function(E){return this.$g(E,p[0],p[1])}}),T.extend=function(p,E){return p.$i||(p(E,B,T),p.$i=!0),T},T.locale=F,T.isDayjs=x,T.unix=function(p){return T(1e3*p)},T.en=D[j],T.Ls=D,T.p={},T}()},7520:(X,U,i)=>{"use strict";i.d(U,{_8:()=>D});var t=i(4496),I=i(5657),c=i(1368),P=i(3616),v=i(1912),_=i(1900);const C=T=>({$implicit:T});function s(T,W){if(1&T&&t.C_f(0,3),2&T){const B=t.GaO();t.E7m("ngTemplateOutlet",B.nzValueTemplate)("ngTemplateOutletContext",t.S45(2,C,B.nzValue))}}function h(T,W){if(1&T&&(t.I0R(0,"span",6),t.OEk(1),t.C$Y()),2&T){const B=t.GaO(2);t.yG2(),t.cNF(B.displayInt)}}function d(T,W){if(1&T&&(t.I0R(0,"span",7),t.OEk(1),t.C$Y()),2&T){const B=t.GaO(2);t.yG2(),t.cNF(B.displayDecimal)}}function e(T,W){if(1&T&&(t.SAx(0),t.yuY(1,h,2,1,"span",4)(2,d,2,1,"span",5),t.k70()),2&T){const B=t.GaO();t.yG2(),t.E7m("ngIf",B.displayInt),t.yG2(),t.E7m("ngIf",B.displayDecimal)}}function f(T,W){if(1&T&&(t.SAx(0),t.OEk(1),t.k70()),2&T){const B=t.GaO();t.yG2(),t.cNF(B.nzTitle)}}function a(T,W){if(1&T&&(t.SAx(0),t.OEk(1),t.k70()),2&T){const B=t.GaO(2);t.yG2(),t.cNF(B.nzPrefix)}}function M(T,W){if(1&T&&(t.I0R(0,"span",6),t.yuY(1,a,2,1,"ng-container",1),t.C$Y()),2&T){const B=t.GaO();t.yG2(),t.E7m("nzStringTemplateOutlet",B.nzPrefix)}}function b(T,W){if(1&T&&(t.SAx(0),t.OEk(1),t.k70()),2&T){const B=t.GaO(2);t.yG2(),t.cNF(B.nzSuffix)}}function Y(T,W){if(1&T&&(t.I0R(0,"span",7),t.yuY(1,b,2,1,"ng-container",1),t.C$Y()),2&T){const B=t.GaO();t.yG2(),t.E7m("nzStringTemplateOutlet",B.nzSuffix)}}let j=(()=>{class T{constructor(B){this.locale_id=B,this.displayInt="",this.displayDecimal=""}ngOnChanges(){this.formatNumber()}formatNumber(){const B="number"==typeof this.nzValue?".":(0,c.G)(this.locale_id,c.iU.Decimal),V=String(this.nzValue),[p,E]=V.split(B);this.displayInt=p,this.displayDecimal=E?`${B}${E}`:""}static#t=this.\u0275fac=function(V){return new(V||T)(t.GI1(t.KYU))};static#e=this.\u0275cmp=t.In1({type:T,selectors:[["nz-statistic-number"]],inputs:{nzValue:"nzValue",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatisticNumber"],standalone:!0,features:[t.SYr,t.UHJ],decls:3,vars:2,consts:[[1,"ant-statistic-content-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-statistic-content-value-int",4,"ngIf"],["class","ant-statistic-content-value-decimal",4,"ngIf"],[1,"ant-statistic-content-value-int"],[1,"ant-statistic-content-value-decimal"]],template:function(V,p){1&V&&(t.I0R(0,"span",0),t.yuY(1,s,1,4,"ng-container",1)(2,e,3,2,"ng-container",2),t.C$Y()),2&V&&(t.yG2(),t.E7m("ngIf",p.nzValueTemplate),t.yG2(),t.E7m("ngIf",!p.nzValueTemplate))},dependencies:[c.u_,c.XV],encapsulation:2,changeDetection:0})}return T})(),D=(()=>{class T{constructor(B,V){this.cdr=B,this.directionality=V,this.nzValueStyle={},this.dir="ltr",this.destroy$=new I.E}ngOnInit(){this.directionality.change?.pipe((0,P.a)(this.destroy$)).subscribe(B=>{this.dir=B,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(V){return new(V||T)(t.GI1(t.kD9),t.GI1(_.yG,8))};static#e=this.\u0275cmp=t.In1({type:T,selectors:[["nz-statistic"]],hostAttrs:[1,"ant-statistic"],hostVars:2,hostBindings:function(V,p){2&V&&t.eAK("ant-statistic-rtl","rtl"===p.dir)},inputs:{nzPrefix:"nzPrefix",nzSuffix:"nzSuffix",nzTitle:"nzTitle",nzValue:"nzValue",nzValueStyle:"nzValueStyle",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatistic"],standalone:!0,features:[t.UHJ],decls:6,vars:6,consts:[[1,"ant-statistic-title"],[4,"nzStringTemplateOutlet"],[1,"ant-statistic-content",3,"ngStyle"],["class","ant-statistic-content-prefix",4,"ngIf"],[3,"nzValue","nzValueTemplate"],["class","ant-statistic-content-suffix",4,"ngIf"],[1,"ant-statistic-content-prefix"],[1,"ant-statistic-content-suffix"]],template:function(V,p){1&V&&(t.I0R(0,"div",0),t.yuY(1,f,2,1,"ng-container",1),t.C$Y(),t.I0R(2,"div",2),t.yuY(3,M,2,1,"span",3),t.wR5(4,"nz-statistic-number",4),t.yuY(5,Y,2,1,"span",5),t.C$Y()),2&V&&(t.yG2(),t.E7m("nzStringTemplateOutlet",p.nzTitle),t.yG2(),t.E7m("ngStyle",p.nzValueStyle),t.yG2(),t.E7m("ngIf",p.nzPrefix),t.yG2(),t.E7m("nzValue",p.nzValue)("nzValueTemplate",p.nzValueTemplate),t.yG2(),t.E7m("ngIf",p.nzSuffix))},dependencies:[j,c.u_,v.u,v.C,c.Qt],encapsulation:2,changeDetection:0})}return T})()},740:(X,U,i)=>{"use strict";i.d(U,{K6:()=>Jt,Yh:()=>bt,_c:()=>gt,g1:()=>Ct});var t=i(4496),I=i(1912),c=i(6088),P=i(88),v=i(916),_=i(7712),C=i(7800),s=i(1368),h=i(800),d=i(6928),e=i(4096),f=i(1472),a=i(5657),M=i(2700),b=i(3412),Y=i(3616),k=i(7820),j=i(5568),D=i(5084),l=i(6684),x=i(7680),F=i(2004),T=i(1988),W=i(7772),B=i(2680),V=i(1900),p=i(1316),E=i(6208),g=i(940),A=i(8033),O=i(4384);function w(u,Q){if(1&u&&(t.SAx(0),t.wR5(1,"span",1),t.k70()),2&u){const n=Q.$implicit;t.yG2(),t.E7m("nzType",n)}}function K(u,Q){if(1&u&&(t.SAx(0),t.OEk(1),t.k70()),2&u){const n=t.GaO().$implicit;t.yG2(),t.oRS(" ",n.tab.label," ")}}const H=()=>({visible:!1});function $(u,Q){if(1&u){const n=t.KQA();t.I0R(0,"li",8),t.qCj("click",function(){const z=t.usT(n).$implicit,L=t.GaO(2);return t.CGJ(L.onSelect(z))})("contextmenu",function(r){const L=t.usT(n).$implicit,J=t.GaO(2);return t.CGJ(J.onContextmenu(L,r))}),t.yuY(1,K,2,1,"ng-container",9),t.C$Y()}if(2&u){const n=Q.$implicit;t.eAK("ant-tabs-dropdown-menu-item-disabled",n.disabled),t.E7m("nzSelected",n.active)("nzDisabled",n.disabled),t.yG2(),t.E7m("nzStringTemplateOutlet",n.tab.label)("nzStringTemplateOutletContext",t.q4q(6,H))}}function S(u,Q){if(1&u&&(t.I0R(0,"ul",6),t.yuY(1,$,2,7,"li",7),t.C$Y()),2&u){const n=t.GaO();t.yG2(),t.E7m("ngForOf",n.items)}}function y(u,Q){if(1&u){const n=t.KQA();t.I0R(0,"button",10),t.qCj("click",function(){t.usT(n);const r=t.GaO();return t.CGJ(r.addClicked.emit())}),t.C$Y()}if(2&u){const n=t.GaO();t.E7m("addIcon",n.addIcon)}}const m=()=>({minWidth:"46px"}),R=["navWarp"],G=["navList"];function N(u,Q){if(1&u){const n=t.KQA();t.I0R(0,"button",8),t.qCj("click",function(){t.usT(n);const r=t.GaO();return t.CGJ(r.addClicked.emit())}),t.C$Y()}if(2&u){const n=t.GaO();t.E7m("addIcon",n.addIcon),t.e48("tabindex",-1)}}function tt(u,Q){}function q(u,Q){if(1&u&&(t.I0R(0,"div",9),t.yuY(1,tt,0,0,"ng-template",10),t.C$Y()),2&u){const n=t.GaO();t.yG2(),t.E7m("ngTemplateOutlet",n.extraTemplate)}}const nt=["*"],at=["nz-tab-body",""];function lt(u,Q){}function St(u,Q){if(1&u&&(t.SAx(0),t.yuY(1,lt,0,0,"ng-template",1),t.k70()),2&u){const n=t.GaO();t.yG2(),t.E7m("ngTemplateOutlet",n.content)}}function Rt(u,Q){if(1&u&&(t.SAx(0),t.wR5(1,"span",1),t.k70()),2&u){const n=Q.$implicit;t.yG2(),t.E7m("nzType",n)}}const kt=["contentTemplate"];function Gt(u,Q){1&u&&t._Xx(0)}function $t(u,Q){1&u&&t._Xx(0,1)}const Bt=[[["","nz-tab-link",""]],"*"],Lt=["[nz-tab-link]","*"];function Ut(u,Q){if(1&u&&(t.SAx(0),t.OEk(1),t.k70()),2&u){const n=t.GaO().$implicit;t.yG2(),t.cNF(n.label)}}function Wt(u,Q){if(1&u){const n=t.KQA();t.I0R(0,"button",10),t.qCj("click",function(r){t.usT(n);const z=t.GaO().index,L=t.GaO(2);return t.CGJ(L.onClose(z,r))}),t.C$Y()}if(2&u){const n=t.GaO().$implicit;t.E7m("closeIcon",n.nzCloseIcon)}}const jt=()=>({visible:!0});function wt(u,Q){if(1&u){const n=t.KQA();t.I0R(0,"div",6),t.qCj("click",function(r){const z=t.usT(n),L=z.$implicit,J=z.index,Z=t.GaO(2);return t.CGJ(Z.clickNavItem(L,J,r))})("contextmenu",function(r){const L=t.usT(n).$implicit,J=t.GaO(2);return t.CGJ(J.contextmenuNavItem(L,r))}),t.I0R(1,"button",7),t.yuY(2,Ut,2,1,"ng-container",8)(3,Wt,1,1,"button",9),t.C$Y()()}if(2&u){const n=Q.$implicit,o=Q.index,r=t.GaO(2);t.m4B("margin-right","horizontal"===r.position?r.nzTabBarGutter:null,"px")("margin-bottom","vertical"===r.position?r.nzTabBarGutter:null,"px"),t.eAK("ant-tabs-tab-active",r.nzSelectedIndex===o)("ant-tabs-tab-disabled",n.nzDisabled),t.yG2(),t.E7m("id",r.getTabContentId(o))("disabled",n.nzDisabled)("tab",n)("active",r.nzSelectedIndex===o),t.e48("tabIndex",r.getTabIndex(n,o))("aria-disabled",n.nzDisabled)("aria-selected",r.nzSelectedIndex===o&&!r.nzHideAll)("aria-controls",r.getTabContentId(o)),t.yG2(),t.E7m("nzStringTemplateOutlet",n.label)("nzStringTemplateOutletContext",t.q4q(19,jt)),t.yG2(),t.E7m("ngIf",n.nzClosable&&r.closable&&!n.nzDisabled)}}function Kt(u,Q){if(1&u){const n=t.KQA();t.I0R(0,"nz-tabs-nav",4),t.qCj("tabScroll",function(r){t.usT(n);const z=t.GaO();return t.CGJ(z.nzTabListScroll.emit(r))})("selectFocusedIndex",function(r){t.usT(n);const z=t.GaO();return t.CGJ(z.setSelectedIndex(r))})("addClicked",function(){t.usT(n);const r=t.GaO();return t.CGJ(r.onAdd())}),t.yuY(1,wt,4,20,"div",5),t.C$Y()}if(2&u){const n=t.GaO();t.E7m("ngStyle",n.nzTabBarStyle)("selectedIndex",n.nzSelectedIndex||0)("inkBarAnimated",n.inkBarAnimated)("addable",n.addable)("addIcon",n.nzAddIcon)("hideBar",n.nzHideAll)("position",n.position)("extraTemplate",n.nzTabBarExtraContent),t.yG2(),t.E7m("ngForOf",n.tabs)}}function Yt(u,Q){if(1&u&&t.wR5(0,"div",11),2&u){const n=Q.$implicit,o=Q.index,r=t.GaO();t.E7m("id",r.getTabContentId(o))("active",r.nzSelectedIndex===o&&!r.nzHideAll)("content",n.content)("forceRender",n.nzForceRender)("tabPaneAnimated",r.tabPaneAnimated),t.e48("aria-labelledby",r.getTabContentId(o))}}let dt=(()=>{class u{constructor(n){this.elementRef=n,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(t.GMv))};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},standalone:!0,features:[t.UHJ],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(o,r){1&o&&t.yuY(0,w,2,1,"ng-container",0),2&o&&t.E7m("nzStringTemplateOutlet",r.addIcon)},dependencies:[I.u,I.C,c.Wy,c.If],encapsulation:2})}return u})(),mt=(()=>{class u{get _animated(){return"NoopAnimations"!==this.animationMode&&this.animated}constructor(n,o,r){this.elementRef=n,this.ngZone=o,this.animationMode=r,this.position="horizontal",this.animated=!0}alignToElement(n){this.ngZone.runOutsideAngular(()=>{(0,P.g)(()=>this.setStyles(n))})}setStyles(n){const o=this.elementRef.nativeElement;"horizontal"===this.position?(o.style.top="",o.style.height="",o.style.left=this.getLeftPosition(n),o.style.width=this.getElementWidth(n)):(o.style.left="",o.style.width="",o.style.top=this.getTopPosition(n),o.style.height=this.getElementHeight(n))}getLeftPosition(n){return n?`${n.offsetLeft||0}px`:"0"}getElementWidth(n){return n?`${n.offsetWidth||0}px`:"0"}getTopPosition(n){return n?`${n.offsetTop||0}px`:"0"}getElementHeight(n){return n?`${n.offsetHeight||0}px`:"0"}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(t.GMv),t.GI1(t.WW2),t.GI1(t.qwP,8))};static#e=this.\u0275dir=t.Sc5({type:u,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(o,r){2&o&&t.eAK("ant-tabs-ink-bar-animated",r._animated)},inputs:{position:"position",animated:"animated"},standalone:!0})}return u})(),pt=(()=>{class u{constructor(n){this.elementRef=n,this.disabled=!1,this.active=!1,this.el=n.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(t.GMv))};static#e=this.\u0275dir=t.Sc5({type:u,selectors:[["","nzTabNavItem",""]],inputs:{disabled:"disabled",tab:"tab",active:"active"},standalone:!0})}return u})(),ut=(()=>{class u{constructor(n,o){this.cdr=n,this.elementRef=o,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new t._w7,this.selected=new t._w7,this.closeAnimationWaitTimeoutId=-1,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(n){n.disabled||(n.tab.nzClick.emit(),this.selected.emit(n))}onContextmenu(n,o){n.disabled||n.tab.nzContextmenu.emit(o)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(n){n||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(t.kD9),t.GI1(t.GMv))};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(o,r){2&o&&t.eAK("ant-tabs-nav-operations-hidden",0===r.items.length)},inputs:{items:"items",addable:"addable",addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],standalone:!0,features:[t.UHJ],decls:7,vars:6,consts:[["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement","nzVisibleChange","mouseenter"],["dropdownTrigger","nzDropdown"],["nz-icon","","nzType","ellipsis"],["menu","nzDropdownMenu"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"nzSelected","nzDisabled","click","contextmenu"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"addIcon","click"]],template:function(o,r){if(1&o&&(t.I0R(0,"button",0,1),t.qCj("nzVisibleChange",function(L){return r.menuVisChange(L)})("mouseenter",function(){return r.showItems()}),t.wR5(2,"span",2),t.C$Y(),t.I0R(3,"nz-dropdown-menu",null,3),t.yuY(5,S,2,1,"ul",4),t.C$Y(),t.yuY(6,y,1,1,"button",5)),2&o){const z=t.Gew(4);t.E7m("nzDropdownMenu",z)("nzOverlayStyle",t.q4q(5,m))("nzMatchWidthElement",null),t.yG2(5),t.E7m("ngIf",r.menuOpened),t.yG2(),t.E7m("ngIf",r.addable)}},dependencies:[c.Wy,c.If,s.u_,s.ay,I.u,I.C,dt,F.Ks,T.ox,T.tN,T.OM,F.cN],encapsulation:2,changeDetection:0})}return u})();const vt=.995**20;let yt=(()=>{class u{constructor(n,o){this.ngZone=n,this.elementRef=o,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new t._w7,this.tabScroll=new t._w7,this.onTouchEnd=r=>{if(!this.touchPosition)return;const z=this.lastOffset,L=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,z){const J=z.x/L,Z=z.y/L,it=Math.abs(J),ot=Math.abs(Z);if(Math.max(it,ot)<.1)return;let st=J,rt=Z;this.motion=window.setInterval(()=>{Math.abs(st)<.01&&Math.abs(rt)<.01?window.clearInterval(this.motion):(st*=vt,rt*=vt,this.onOffset(20*st,20*rt,r))},20)}},this.onTouchMove=r=>{if(!this.touchPosition)return;r.preventDefault();const{screenX:z,screenY:L}=r.touches[0],J=z-this.touchPosition.x,Z=L-this.touchPosition.y;this.onOffset(J,Z,r);const it=Date.now();this.lastTimeDiff=it-this.lastTimestamp,this.lastTimestamp=it,this.lastOffset={x:J,y:Z},this.touchPosition={x:z,y:L}},this.onTouchStart=r=>{const{screenX:z,screenY:L}=r.touches[0];this.touchPosition={x:z,y:L},window.clearInterval(this.motion)},this.onWheel=r=>{const{deltaX:z,deltaY:L}=r;let J;const Z=Math.abs(z),it=Math.abs(L);Z===it?J="x"===this.lastWheelDirection?z:L:Z>it?(J=z,this.lastWheelDirection="x"):(J=L,this.lastWheelDirection="y");const ot=Date.now(),st=Math.abs(J);(ot-this.lastWheelTimestamp>100||st-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-J,-J,r),(r.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=ot,this.lastMixedWheel=st}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{const n=this.elementRef.nativeElement,o=(0,h.w)(n,"wheel"),r=(0,h.w)(n,"touchstart"),z=(0,h.w)(n,"touchmove"),L=(0,h.w)(n,"touchend"),J=new d.wH;return J.add(this.subscribeWrap("wheel",o,this.onWheel)),J.add(this.subscribeWrap("touchstart",r,this.onTouchStart)),J.add(this.subscribeWrap("touchmove",z,this.onTouchMove)),J.add(this.subscribeWrap("touchend",L,this.onTouchEnd)),()=>{J.unsubscribe()}})}subscribeWrap(n,o,r){return o.subscribe(z=>{this.tabScroll.emit({type:n,event:z}),z.defaultPrevented||r(z)})}onOffset(n,o,r){this.ngZone.run(()=>{this.offsetChange.emit({x:n,y:o,event:r})})}ngOnDestroy(){this.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(t.WW2),t.GI1(t.GMv))};static#e=this.\u0275dir=t.Sc5({type:u,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"},standalone:!0})}return u})();const Nt=typeof requestAnimationFrame<"u"?e.A:f.u;let _t=(()=>{class u{get selectedIndex(){return this._selectedIndex}set selectedIndex(n){const o=(0,_.wZ)(n);this._selectedIndex!==o&&(this._selectedIndex=n,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(n))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(n){!this.isValidIndex(n)||this.focusIndex===n||!this.keyManager||this.keyManager.setActiveItem(n)}get showAddButton(){return 0===this.hiddenItems.length&&this.addable}constructor(n,o,r,z,L){this.cdr=n,this.ngZone=o,this.viewportRuler=r,this.nzResizeObserver=z,this.dir=L,this.indexFocused=new t._w7,this.selectFocusedIndex=new t._w7,this.addClicked=new t._w7,this.tabScroll=new t._w7,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new a.E,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1,this.lockAnimationTimeoutId=-1,this.cssTransformTimeWaitingId=-1}ngAfterViewInit(){const n=this.dir?this.dir.change.asObservable():(0,M.of)(null),o=this.viewportRuler.change(150),r=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new v.IH(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),(0,P.g)(r),(0,b.U)(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe((0,Y.a)(this.destroy$),(0,k.P)(16,Nt)).subscribe(()=>{r()}),(0,b.U)(n,o,this.items.changes).pipe((0,Y.a)(this.destroy$)).subscribe(()=>{Promise.resolve().then(r),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe((0,Y.a)(this.destroy$)).subscribe(z=>{this.indexFocused.emit(z),this.setTabFocus(z),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(n){const o=this.items.toArray().findIndex(r=>r===n);-1!==o&&(this.keyManager.updateActiveItem(o),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(n)))}onOffsetChange(n){if("horizontal"===this.position){if(-1===this.lockAnimationTimeoutId&&(this.transformX>=0&&n.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&n.x<0))return;n.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+n.x),this.setTransform(this.transformX,0)}else{if(-1===this.lockAnimationTimeoutId&&(this.transformY>=0&&n.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&n.y<0))return;n.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+n.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(n){const o=this.navWarpRef.nativeElement.contains(n.target);if(!(0,C.Yp)(n)&&o)switch(n.keyCode){case C.Mx:case C.qI:case C.a4:case C.Oq:this.lockAnimation(),this.keyManager.onKeydown(n);break;case C.wJ:case C.Gi:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(n)}}isValidIndex(n){if(!this.items)return!0;const o=this.items?this.items.toArray()[n]:null;return!!o&&!o.disabled}scrollToTab(n){if(!this.items.find(r=>r===n))return;const o=this.items.toArray();if("horizontal"===this.position){let r=this.transformX;if("rtl"===this.getLayoutDirection()){const z=o[0].left+o[0].width-n.left-n.width;z<this.transformX?r=z:z+n.width>this.transformX+this.wrapperWidth&&(r=z+n.width-this.wrapperWidth)}else n.left<-this.transformX?r=-n.left:n.left+n.width>-this.transformX+this.wrapperWidth&&(r=-(n.left+n.width-this.wrapperWidth));this.transformX=r,this.transformY=0,this.setTransform(r,0)}else{let r=this.transformY;n.top<-this.transformY?r=-n.top:n.top+n.height>-this.transformY+this.wrapperHeight&&(r=-(n.top+n.height-this.wrapperHeight)),this.transformY=r,this.transformX=0,this.setTransform(0,r)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},150)}lockAnimation(){-1===this.lockAnimationTimeoutId&&this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=-1},150)})}setTransform(n,o){this.navListRef.nativeElement.style.transform=`translate(${n}px, ${o}px)`}clampTransformX(n){const o=this.wrapperWidth-this.scrollListWidth;return"rtl"===this.getLayoutDirection()?Math.max(Math.min(o,n),0):Math.min(Math.max(o,n),0)}clampTransformY(n){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,n),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){const n=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,o=n?n.elementRef.nativeElement:null;o&&this.inkBar.alignToElement(o.parentElement)}setPingStatus(){const n={top:!1,right:!1,bottom:!1,left:!1},o=this.navWarpRef.nativeElement;"horizontal"===this.position?"rtl"===this.getLayoutDirection()?(n.right=this.transformX>0,n.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(n.left=this.transformX<0,n.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(n.top=this.transformY<0,n.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(n).forEach(r=>{const z=`ant-tabs-nav-wrap-ping-${r}`;n[r]?o.classList.add(z):o.classList.remove(z)})}setVisibleRange(){let n,o,r,z,L,J;const Z=this.items.toArray(),it={width:0,height:0,left:0,top:0,right:0},ot=et=>{let ct;return ct="right"===o?Z[0].left+Z[0].width-Z[et].left-Z[et].width:(Z[et]||it)[o],ct};"horizontal"===this.position?(n="width",z=this.wrapperWidth,L=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),J=this.addButtonWidth,r=Math.abs(this.transformX),"rtl"===this.getLayoutDirection()?(o="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,o="left")):(n="height",z=this.wrapperHeight,L=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),J=this.addButtonHeight,o="top",r=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let st=z;if(L+J>z&&(st=z-J),!Z.length)return this.hiddenItems=[],void this.cdr.markForCheck();const rt=Z.length;let Pt=rt;for(let et=0;et<rt;et+=1)if(ot(et)+(Z[et]||it)[n]>r+st){Pt=et-1;break}let At=0;for(let et=rt-1;et>=0;et-=1)if(ot(et)<r){At=et+1;break}const Xt=Z.slice(0,At),Qt=Z.slice(Pt+1);this.hiddenItems=[...Xt,...Qt],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}setTabFocus(n){}ngOnChanges(n){const{position:o}=n;o&&!o.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(t.kD9),t.GI1(t.WW2),t.GI1(W.S8),t.GI1(B.go),t.GI1(V.yG,8))};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["nz-tabs-nav"]],contentQueries:function(o,r,z){if(1&o&&t.szK(z,pt,5),2&o){let L;t.wto(L=t.Gqi())&&(r.items=L)}},viewQuery:function(o,r){if(1&o&&(t.CC$(R,7),t.CC$(G,7),t.CC$(ut,7),t.CC$(dt,5),t.CC$(mt,7)),2&o){let z;t.wto(z=t.Gqi())&&(r.navWarpRef=z.first),t.wto(z=t.Gqi())&&(r.navListRef=z.first),t.wto(z=t.Gqi())&&(r.operationRef=z.first),t.wto(z=t.Gqi())&&(r.addBtnRef=z.first),t.wto(z=t.Gqi())&&(r.inkBar=z.first)}},hostAttrs:[1,"ant-tabs-nav"],hostBindings:function(o,r){1&o&&t.qCj("keydown",function(L){return r.handleKeydown(L)})},inputs:{position:"position",addable:"addable",hideBar:"hideBar",addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],standalone:!0,features:[t.SYr,t.UHJ],ngContentSelectors:nt,decls:9,vars:16,consts:[[1,"ant-tabs-nav-wrap"],["navWarp",""],["nzTabScrollList","","role","tablist",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["navList",""],["role","tab","nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addIcon","addable","items","addClicked","selected"],["class","ant-tabs-extra-content",4,"ngIf"],["role","tab","nz-tab-add-button","",3,"addIcon","click"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(o,r){1&o&&(t.kPM(),t.I0R(0,"div",0,1)(2,"div",2,3),t.qCj("offsetChange",function(L){return r.onOffsetChange(L)})("tabScroll",function(L){return r.tabScroll.emit(L)}),t._Xx(4),t.yuY(5,N,1,2,"button",4),t.wR5(6,"div",5),t.C$Y()(),t.I0R(7,"nz-tab-nav-operation",6),t.qCj("addClicked",function(){return r.addClicked.emit()})("selected",function(L){return r.onSelectedFromMenu(L)}),t.C$Y(),t.yuY(8,q,2,1,"div",7)),2&o&&(t.eAK("ant-tabs-nav-wrap-ping-left",r.pingLeft)("ant-tabs-nav-wrap-ping-right",r.pingRight)("ant-tabs-nav-wrap-ping-top",r.pingTop)("ant-tabs-nav-wrap-ping-bottom",r.pingBottom),t.yG2(5),t.E7m("ngIf",r.showAddButton),t.yG2(),t.E7m("hidden",r.hideBar)("position",r.position)("animated",r.inkBarAnimated),t.yG2(),t.E7m("addIcon",r.addIcon)("addable",r.addable)("items",r.hiddenItems),t.yG2(),t.E7m("ngIf",r.extraTemplate))},dependencies:[yt,s.u_,dt,mt,ut,s.XV],encapsulation:2,changeDetection:0})}return u})(),It=(()=>{class u{constructor(){this.content=null,this.active=!1,this.tabPaneAnimated=!0,this.forceRender=!1}static#t=this.\u0275fac=function(o){return new(o||u)};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:12,hostBindings:function(o,r){2&o&&(t.e48("tabindex",r.active?0:-1)("aria-hidden",!r.active),t.m4B("visibility",r.tabPaneAnimated?r.active?null:"hidden":null)("height",r.tabPaneAnimated?r.active?null:0:null)("overflow-y",r.tabPaneAnimated?r.active?null:"none":null)("display",r.tabPaneAnimated||r.active?null:"none"),t.eAK("ant-tabs-tabpane-active",r.active))},inputs:{content:"content",active:"active",tabPaneAnimated:"tabPaneAnimated",forceRender:"forceRender"},exportAs:["nzTabBody"],standalone:!0,features:[t.UHJ],attrs:at,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(o,r){1&o&&t.yuY(0,St,2,1,"ng-container",0),2&o&&t.E7m("ngIf",r.active||r.forceRender)},dependencies:[s.u_,s.XV],encapsulation:2,changeDetection:0})}return u})(),ft=(()=>{class u{constructor(){this.closeIcon="close"}static#t=this.\u0275fac=function(o){return new(o||u)};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},standalone:!0,features:[t.UHJ],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(o,r){1&o&&t.yuY(0,Rt,2,1,"ng-container",0),2&o&&t.E7m("nzStringTemplateOutlet",r.closeIcon)},dependencies:[I.u,I.C,c.Wy,c.If],encapsulation:2})}return u})(),Dt=(()=>{class u{constructor(n){this.templateRef=n}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(t.Yw2,1))};static#e=this.\u0275dir=t.Sc5({type:u,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"],standalone:!0})}return u})(),Ot=(()=>{class u{constructor(n,o){this.elementRef=n,this.routerLink=o}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(t.GMv),t.GI1(g.ER,10))};static#e=this.\u0275dir=t.Sc5({type:u,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"],standalone:!0})}return u})(),gt=(()=>{class u{static#t=this.\u0275fac=function(o){return new(o||u)};static#e=this.\u0275dir=t.Sc5({type:u,selectors:[["","nz-tab",""]],exportAs:["nzTab"],standalone:!0})}return u})();const Mt=new t.UbH("NZ_TAB_SET");let bt=(()=>{class u{get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}constructor(n){this.closestTabSet=n,this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new t._w7,this.nzDeselect=new t._w7,this.nzClick=new t._w7,this.nzContextmenu=new t._w7,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.stateChanges=new a.E}ngOnChanges(n){const{nzTitle:o,nzDisabled:r,nzForceRender:z}=n;(o||r||z)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(Mt))};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["nz-tab"]],contentQueries:function(o,r,z){if(1&o&&(t.szK(z,Dt,5),t.szK(z,gt,5,t.Yw2),t.szK(z,Ot,5)),2&o){let L;t.wto(L=t.Gqi())&&(r.nzTabLinkTemplateDirective=L.first),t.wto(L=t.Gqi())&&(r.template=L.first),t.wto(L=t.Gqi())&&(r.linkDirective=L.first)}},viewQuery:function(o,r){if(1&o&&t.CC$(kt,7),2&o){let z;t.wto(z=t.Gqi())&&(r.contentTemplate=z.first)}},inputs:{nzTitle:"nzTitle",nzClosable:"nzClosable",nzCloseIcon:"nzCloseIcon",nzDisabled:"nzDisabled",nzForceRender:"nzForceRender"},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],standalone:!0,features:[t.SYr,t.UHJ],ngContentSelectors:Lt,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(o,r){1&o&&(t.kPM(Bt),t.yuY(0,Gt,1,0,"ng-template",null,0,t.gJz)(2,$t,1,0,"ng-template",null,1,t.gJz))},encapsulation:2,changeDetection:0})}return(0,p.UN)([(0,E.U7)()],u.prototype,"nzClosable",void 0),(0,p.UN)([(0,E.U7)()],u.prototype,"nzDisabled",void 0),(0,p.UN)([(0,E.U7)()],u.prototype,"nzForceRender",void 0),u})();class Ft{}let Vt=0,Ct=(()=>{class u{get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(n){this.indexToSelect=(0,_.wZ)(n,null)}get position(){return-1===["top","bottom"].indexOf(this.nzTabPosition)?"vertical":"horizontal"}get addable(){return"editable-card"===this.nzType&&!this.nzHideAdd}get closable(){return"editable-card"===this.nzType}get line(){return"line"===this.nzType}get inkBarAnimated(){return this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return"horizontal"===this.position&&this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.tabPane)}constructor(n,o,r,z,L){this.nzConfigService=n,this.ngZone=o,this.cdr=r,this.directionality=z,this.router=L,this._nzModuleName="tabs",this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new t._w7(!0),this.nzSelectedIndexChange=new t._w7,this.nzTabListScroll=new t._w7,this.nzClose=new t._w7,this.nzAdd=new t._w7,this.allTabs=new t.VhX,this.tabs=new t.VhX,this.dir="ltr",this.destroy$=new a.E,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=d.wH.EMPTY,this.tabsSubscription=d.wH.EMPTY,this.canDeactivateSubscription=d.wH.EMPTY,this.tabSetId=Vt++}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,Y.a)(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){const o=this.tabs.toArray();for(let r=0;r<o.length;r++)if(o[r].isActive){this.indexToSelect=this.selectedIndex=r;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){const n=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==n){const o=null==this.selectedIndex;o||this.nzSelectChange.emit(this.createChangeEvent(n)),Promise.resolve().then(()=>{this.tabs.forEach((r,z)=>r.isActive=z===n),o||this.nzSelectedIndexChange.emit(n)})}this.tabs.forEach((o,r)=>{o.position=r-n,null!=this.selectedIndex&&0===o.position&&!o.origin&&(o.origin=n-this.selectedIndex)}),this.selectedIndex!==n&&(this.selectedIndex=n,this.cdr.markForCheck())}onClose(n,o){o.preventDefault(),o.stopPropagation(),this.nzClose.emit({index:n})}onAdd(){this.nzAdd.emit()}clampTabIndex(n){return Math.min(this.tabs.length-1,Math.max(n||0,0))}createChangeEvent(n){const o=new Ft;return o.index=n,this.tabs&&this.tabs.length&&(o.tab=this.tabs.toArray()[n],this.tabs.forEach((r,z)=>{z!==n&&r.nzDeselect.emit()}),o.tab.nzSelect.emit()),o}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=(0,b.U)(...this.tabs.map(n=>n.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe((0,j.W)(this.allTabs)).subscribe(n=>{this.tabs.reset(n.filter(o=>o.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(n,o){return"function"==typeof this.nzCanDeactivate?(0,E.CG)(this.nzCanDeactivate(n,o)).pipe((0,D.K)(),(0,Y.a)(this.destroy$)):(0,M.of)(!0)}clickNavItem(n,o,r){n.nzDisabled||(n.nzClick.emit(),this.isRouterLinkClickEvent(o,r)||this.setSelectedIndex(o))}isRouterLinkClickEvent(n,o){const r=o.target;return!!this.nzLinkRouter&&!!this.tabs.toArray()[n]?.linkDirective?.elementRef.nativeElement.contains(r)}contextmenuNavItem(n,o){n.nzDisabled||n.nzContextmenu.emit(o)}setSelectedIndex(n){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,n).subscribe(o=>{o&&(this.nzSelectedIndex=n,this.tabNavBarRef.focusIndex=n,this.cdr.markForCheck())})}getTabIndex(n,o){return n.nzDisabled?null:this.selectedIndex===o?0:-1}getTabContentId(n){return`nz-tabs-${this.tabSetId}-tab-${n}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${O.of} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe((0,Y.a)(this.destroy$),(0,l.I)(n=>n instanceof g.MT),(0,j.W)(!0),(0,x.o)(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router.navigated){const n=this.findShouldActiveTabIndex();n!==this.selectedIndex&&this.setSelectedIndex(n),this.nzHideAll=-1===n}}findShouldActiveTabIndex(){const n=this.tabs.toArray(),o=this.isLinkActive(this.router);return n.findIndex(r=>{const z=r.linkDirective;return!!z&&o(z.routerLink)})}isLinkActive(n){return o=>!!o&&n.isActive(o.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}getTabContentMarginValue(){return 100*-(this.nzSelectedIndex||0)}getTabContentMarginLeft(){return this.tabPaneAnimated&&"rtl"!==this.dir?`${this.getTabContentMarginValue()}%`:""}getTabContentMarginRight(){return this.tabPaneAnimated&&"rtl"===this.dir?`${this.getTabContentMarginValue()}%`:""}static#t=this.\u0275fac=function(o){return new(o||u)(t.GI1(A.gl),t.GI1(t.WW2),t.GI1(t.kD9),t.GI1(V.yG,8),t.GI1(g.E5,8))};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["nz-tabset"]],contentQueries:function(o,r,z){if(1&o&&t.szK(z,bt,5),2&o){let L;t.wto(L=t.Gqi())&&(r.allTabs=L)}},viewQuery:function(o,r){if(1&o&&t.CC$(_t,5),2&o){let z;t.wto(z=t.Gqi())&&(r.tabNavBarRef=z.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(o,r){2&o&&t.eAK("ant-tabs-card","card"===r.nzType||"editable-card"===r.nzType)("ant-tabs-editable","editable-card"===r.nzType)("ant-tabs-editable-card","editable-card"===r.nzType)("ant-tabs-centered",r.nzCentered)("ant-tabs-rtl","rtl"===r.dir)("ant-tabs-top","top"===r.nzTabPosition)("ant-tabs-bottom","bottom"===r.nzTabPosition)("ant-tabs-left","left"===r.nzTabPosition)("ant-tabs-right","right"===r.nzTabPosition)("ant-tabs-default","default"===r.nzSize)("ant-tabs-small","small"===r.nzSize)("ant-tabs-large","large"===r.nzSize)},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:"nzHideAdd",nzCentered:"nzCentered",nzHideAll:"nzHideAll",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact"},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],standalone:!0,features:[t.M5G([{provide:Mt,useExisting:u}]),t.UHJ],decls:4,vars:16,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["role","tabpanel","nz-tab-body","",3,"id","active","content","forceRender","tabPaneAnimated",4,"ngFor","ngForOf"],[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["type","button","role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"id","disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["type","button","nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["type","button","nz-tab-close-button","",3,"closeIcon","click"],["role","tabpanel","nz-tab-body","",3,"id","active","content","forceRender","tabPaneAnimated"]],template:function(o,r){1&o&&(t.yuY(0,Kt,2,9,"nz-tabs-nav",0),t.I0R(1,"div",1)(2,"div",2),t.yuY(3,Yt,1,6,"div",3),t.C$Y()()),2&o&&(t.E7m("ngIf",r.tabs.length||r.addable),t.yG2(2),t.m4B("margin-left",r.getTabContentMarginLeft())("margin-right",r.getTabContentMarginRight()),t.eAK("ant-tabs-content-top","top"===r.nzTabPosition)("ant-tabs-content-bottom","bottom"===r.nzTabPosition)("ant-tabs-content-left","left"===r.nzTabPosition)("ant-tabs-content-right","right"===r.nzTabPosition)("ant-tabs-content-animated",r.tabPaneAnimated),t.yG2(),t.E7m("ngForOf",r.tabs))},dependencies:[_t,s.u_,s.Qt,s.ay,pt,v.Ux,v.Si,I.u,I.C,ft,It],encapsulation:2})}return(0,p.UN)([(0,A.Mb)()],u.prototype,"nzType",void 0),(0,p.UN)([(0,A.Mb)()],u.prototype,"nzSize",void 0),(0,p.UN)([(0,A.Mb)()],u.prototype,"nzAnimated",void 0),(0,p.UN)([(0,A.Mb)()],u.prototype,"nzTabBarGutter",void 0),(0,p.UN)([(0,E.U7)()],u.prototype,"nzHideAdd",void 0),(0,p.UN)([(0,E.U7)()],u.prototype,"nzCentered",void 0),(0,p.UN)([(0,E.U7)()],u.prototype,"nzHideAll",void 0),(0,p.UN)([(0,E.U7)()],u.prototype,"nzLinkRouter",void 0),(0,p.UN)([(0,E.U7)()],u.prototype,"nzLinkExact",void 0),u})(),Jt=(()=>{class u{static#t=this.\u0275fac=function(o){return new(o||u)};static#e=this.\u0275mod=t.a4G({type:u});static#n=this.\u0275inj=t.s3X({imports:[Ct,_t,ut,dt,ft]})}return u})()}}]);