"use strict";(self.webpackChunkwebui=self.webpackChunkwebui||[]).push([[128],{3128:(fo,xt,c)=>{c.r(xt),c.d(xt,{AdminModule:()=>go});var h=c(6814),g=c(1567),St=c(8033),Pe=c(3542),Ae=c(4697),Ze=c(8211),L=c(2920),y=c(2962),t=c(9212);const Ie=()=>[16,16];let Fe=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-dash"]],standalone:!0,features:[t.jDz],decls:19,vars:2,consts:[[3,"nzGutter"],["nzSpan","8"],["model","gateway","title","\u7f51\u5173\u603b\u6570"],["model","device","title","\u8bbe\u5907\u603b\u6570"],["model","product","title","\u4ea7\u54c1\u603b\u6570"],["model","project","title","\u9879\u76ee\u603b\u6570"],["model","space","title","\u7a7a\u95f4\u603b\u6570"],["model","user","title","\u7528\u6237\u603b\u6570"]],template:function(i,s){1&i&&(t.TgZ(0,"nz-row",0)(1,"nz-col",1)(2,"nz-card"),t._UZ(3,"app-count",2),t.qZA()(),t.TgZ(4,"nz-col",1)(5,"nz-card"),t._UZ(6,"app-count",3),t.qZA()(),t.TgZ(7,"nz-col",1)(8,"nz-card"),t._UZ(9,"app-count",4),t.qZA()(),t.TgZ(10,"nz-col",1)(11,"nz-card"),t._UZ(12,"app-count",5),t.qZA()(),t.TgZ(13,"nz-col",1)(14,"nz-card"),t._UZ(15,"app-count",6),t.qZA()(),t.TgZ(16,"nz-col",1)(17,"nz-card"),t._UZ(18,"app-count",7),t.qZA()()()),2&i&&t.Q6J("nzGutter",t.DdM(1,Ie))},dependencies:[Ze.S,L.SK,L.t3,y.bd]})}return n})();var Re=c(8605),C=c(2840),E=c(1943),Me=c(8828),v=c(3460),f=c(4430);const Oe=["form"],Ne=n=>({product:n});function Le(n,o){if(1&n&&t._UZ(0,"app-plugin-pages",5),2&n){const e=t.oxw();t.Q6J("object",e.values)("params",t.VKq(2,Ne,e.id))}}function He(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let wt=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u4ea7\u54c1"},{key:"keywords",label:"\u5173\u952e\u5b57",type:"tags",default:[]},{key:"icon",label:"\u56fe\u6807",type:"text"},{key:"version",label:"\u7248\u672c",type:"text"},{key:"url",label:"\u94fe\u63a5",type:"text"},{key:"description",label:"\u8bf4\u660e",type:"textarea"}],this.values={}}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.rs.get("product/"+this.id).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post(`product/${this.id||"create"}`,this.form.Value()).subscribe(i=>{this.router.navigateByUrl("/admin/product/"+i.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-edit"]],viewQuery:function(i,s){if(1&i&&t.Gf(Oe,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:6,vars:5,consts:[[3,"nzTitle","nzExtra"],[3,"fields","value"],["form",""],["target","product-edit",3,"object","params",4,"ngIf"],["extraTemplate",""],["target","product-edit",3,"object","params"],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.YNc(3,Le,1,4,"app-plugin-pages",3),t.qZA(),t.YNc(4,He,2,0,"ng-template",null,4,t.W1O)),2&i){const r=t.MAs(5);t.Q6J("nzTitle","\u4ea7\u54c1"+(s.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values),t.xp6(2),t.Q6J("ngIf",s.id)}},dependencies:[h.ez,h.O5,C.ix,y.bd,E.m,Me.z]})}return n})();var Ue=c(9445),X=c(4354),kt=c(4817),Je=c(9891),Ye=c(1620),Et=c(6370),Be=c(8101),Qe=c(9866),Pt=c(2620),qe=c(5565),Ge=c(6716),At=c(4508),$e=c(4877),Zt=c(2787),A=c(551),It=c(2987),F=c(9035),K=c(3106);function Ve(n,o){if(1&n&&t._UZ(0,"img",10),2&n){const e=t.oxw().$implicit;t.Q6J("src",e.icon,t.LSH)}}function je(n,o){1&n&&t._UZ(0,"i",11)}function Xe(n,o){if(1&n&&t._UZ(0,"i",12),2&n){const e=t.oxw().$implicit;t.Q6J("routerLink",e.id+"/edit")}}function Ke(n,o){if(1&n){const e=t.EpF();t._UZ(0,"span",13),t.TgZ(1,"nz-dropdown-menu",null,14)(3,"ul",15)(4,"li",16),t.NdJ("nzOnConfirm",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.delete(s.id))}),t._UZ(5,"span",17),t._uU(6," \u5220\u9664 "),t.qZA()()()}if(2&n){const e=t.MAs(2);t.Q6J("nzDropdownMenu",e)}}const We=(n,o,e)=>[n,o,e];function ti(n,o){if(1&n&&(t.TgZ(0,"nz-col",3)(1,"nz-card",4),t._UZ(2,"nz-card-meta",5),t.qZA(),t.YNc(3,Ve,1,1,"ng-template",null,6,t.W1O)(5,je,1,0,"ng-template",null,7,t.W1O)(7,Xe,1,1,"ng-template",null,8,t.W1O)(9,Ke,7,1,"ng-template",null,9,t.W1O),t.qZA()),2&n){const e=o.$implicit,i=t.MAs(4),s=t.MAs(6),r=t.MAs(8),a=t.MAs(10);t.Q6J("nzXs",12)("nzSm",8)("nzMd",6)("nzLg",4)("nzXl",3)("nzXXl",2),t.xp6(1),t.Q6J("nzCover",i)("nzActions",t.kEZ(10,We,s,r,a)),t.xp6(1),t.Q6J("nzTitle",e.name)("nzDescription",e.description)}}const ei=()=>[4,4];let ii=(()=>{class n{constructor(e,i,s,r){this.ms=e,this.router=i,this.rs=s,this.msg=r,this.total=0,this.pageIndex=1,this.pageSize=10,this.query={limit:20,skip:0},this.value="",this.plugins=[{id:"modbus",name:"Modbus",description:"Modbus\u534f\u8bae\u63d2\u4ef6",icon:"/assets/app.png"},{id:"influxdb",name:"Influxdb",description:"Influxdb\u65f6\u5e8f\u6570\u636e\u5e93",icon:"/assets/app.png"},{id:"scada",name:"Scada",description:"Web\u7ec4\u6001",icon:"/assets/app.png"},{id:"sms",name:"SMS",description:"\u77ed\u4fe1\u63a8\u9001",icon:"/assets/app.png"},{id:"call",name:"Call",description:"\u7535\u8bdd\u62a5\u8b66",icon:"/assets/app.png"},{id:"web-studio",name:"Web Studio",description:"\u4f4e\u4ee3\u7801\u5f00\u53d1\u5e73\u53f0",icon:"/assets/app.png"},{id:"goview",name:"GoView",description:"\u5927\u6570\u636e\u5c4f\u53ef\u89c6\u5316",icon:"/assets/app.png"}]}ngOnInit(){this.load()}load(){this.rs.post("plugin/search",this.query).subscribe(e=>{e.data.filter((i,s)=>{e.data[s]={...i,icon:"/assets/app.png"}}),this.plugins=e.data,this.total=e.total},e=>{console.log("err:",e)})}delete(e){this.rs.get(`plugin/${e}/delete`,{}).subscribe(i=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.load()},i=>{console.log("err:",i)}),this.load()}refresh(){this.pageIndex=1,this.load()}search(e){console.log(e),this.query.keyword={name:e},this.query.skip=0,this.load()}handleEdit(){this.router.navigateByUrl("admin/plugin/create")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(K.Sf),t.Y36(g.F0),t.Y36(f.s),t.Y36(v.dD))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-plugin"]],standalone:!0,features:[t.jDz],decls:3,vars:3,consts:[[1,"content"],[3,"nzGutter"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl",4,"ngFor","ngForOf"],[3,"nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],["nzHoverable","",3,"nzCover","nzActions"],[3,"nzTitle","nzDescription"],["coverTemplate",""],["actionSetting",""],["actionEdit",""],["actionEllipsis",""],["alt","icon",3,"src"],["nz-icon","","nzType","setting"],["nz-icon","","nzType","edit",3,"routerLink"],["nz-icon","","nzType","ellipsis","nz-dropdown","","nzTrigger","click",3,"nzDropdownMenu"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","","nz-popconfirm","","nzPopconfirmTrigger","click","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"],["nz-icon","","nzType","delete"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"nz-row",1),t.YNc(2,ti,11,14,"nz-col",2),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("nzGutter",t.DdM(2,ei)),t.xp6(1),t.Q6J("ngForOf",s.plugins))},dependencies:[h.sg,y.bd,y.l7,L.t3,Zt.cm,Zt.RR,A.Ls,It.wO,It.u9,F.JW,L.SK,g.rH],styles:[".top[_ngcontent-%COMP%]{margin:10px 0 20px;display:flex;align-items:center}"]})}return n})();var R=c(7582),_=c(8645),x=c(9773),Ft=c(7398),Z=c(3064),ni=c(1608),W=c(8324),si=c(8802),Y=c(9388);function oi(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"span",9),t.BQk()),2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("nzType",e||i.getBackIcon())}}function ri(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onBack())}),t.TgZ(1,"div",7),t.YNc(2,oi,2,1,"ng-container",8),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("nzStringTemplateOutlet",e.nzBackIcon)}}function ai(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzTitle)}}function li(n,o){if(1&n&&(t.TgZ(0,"span",10),t.YNc(1,ai,2,1,"ng-container",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzTitle)}}function ci(n,o){1&n&&t.Hsn(0,6,["*ngIf","!nzTitle"])}function di(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzSubtitle)}}function pi(n,o){if(1&n&&(t.TgZ(0,"span",11),t.YNc(1,di,2,1,"ng-container",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzSubtitle)}}function hi(n,o){1&n&&t.Hsn(0,7,["*ngIf","!nzSubtitle"])}const ui=[[["nz-breadcrumb","nz-page-header-breadcrumb",""]],[["nz-avatar","nz-page-header-avatar",""]],[["nz-page-header-tags"],["","nz-page-header-tags",""]],[["nz-page-header-extra"],["","nz-page-header-extra",""]],[["nz-page-header-content"],["","nz-page-header-content",""]],[["nz-page-header-footer"],["","nz-page-header-footer",""]],[["nz-page-header-title"],["","nz-page-header-title",""]],[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]]],mi=["nz-breadcrumb[nz-page-header-breadcrumb]","nz-avatar[nz-page-header-avatar]","nz-page-header-tags, [nz-page-header-tags]","nz-page-header-extra, [nz-page-header-extra]","nz-page-header-content, [nz-page-header-content]","nz-page-header-footer, [nz-page-header-footer]","nz-page-header-title, [nz-page-header-title]","nz-page-header-subtitle, [nz-page-header-subtitle]"];let Rt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["nz-page-header-title"],["","nz-page-header-title",""]],hostAttrs:[1,"ant-page-header-heading-title"],exportAs:["nzPageHeaderTitle"],standalone:!0})}return n})(),Mt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["nz-page-header-extra"],["","nz-page-header-extra",""]],hostAttrs:[1,"ant-page-header-heading-extra"],exportAs:["nzPageHeaderExtra"],standalone:!0})}return n})(),Ot=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["nz-page-header-footer"],["","nz-page-header-footer",""]],hostAttrs:[1,"ant-page-header-footer"],exportAs:["nzPageHeaderFooter"],standalone:!0})}return n})(),Nt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["nz-breadcrumb","nz-page-header-breadcrumb",""]],exportAs:["nzPageHeaderBreadcrumb"],standalone:!0})}return n})(),zi=(()=>{class n{constructor(e,i,s,r,a,l){this.location=e,this.nzConfigService=i,this.elementRef=s,this.nzResizeObserver=r,this.cdr=a,this.directionality=l,this._nzModuleName="pageHeader",this.nzBackIcon=null,this.nzGhost=!0,this.nzBack=new t.vpe,this.compact=!1,this.destroy$=new _.x,this.dir="ltr"}ngOnInit(){this.directionality.change?.pipe((0,x.R)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,Ft.U)(([e])=>e.contentRect.width),(0,x.R)(this.destroy$)).subscribe(e=>{this.compact=e<768,this.cdr.markForCheck()})}onBack(){if(this.nzBack.observers.length)this.nzBack.emit();else{if(!this.location)throw new Error(`${ni.Bq} you should import 'RouterModule' or register 'Location' if you want to use 'nzBack' default event!`);this.location.back()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getBackIcon(){return"rtl"===this.dir?"arrow-right":"arrow-left"}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h.Ye,8),t.Y36(Z.jY),t.Y36(t.SBq),t.Y36(si.D3),t.Y36(t.sBO),t.Y36(Y.Is,8))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["nz-page-header"]],contentQueries:function(i,s,r){if(1&i&&(t.Suo(r,Ot,5),t.Suo(r,Nt,5)),2&i){let a;t.iGM(a=t.CRH())&&(s.nzPageHeaderFooter=a.first),t.iGM(a=t.CRH())&&(s.nzPageHeaderBreadcrumb=a.first)}},hostAttrs:[1,"ant-page-header"],hostVars:10,hostBindings:function(i,s){2&i&&t.ekj("has-footer",s.nzPageHeaderFooter)("ant-page-header-ghost",s.nzGhost)("has-breadcrumb",s.nzPageHeaderBreadcrumb)("ant-page-header-compact",s.compact)("ant-page-header-rtl","rtl"===s.dir)},inputs:{nzBackIcon:"nzBackIcon",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzGhost:"nzGhost"},outputs:{nzBack:"nzBack"},exportAs:["nzPageHeader"],standalone:!0,features:[t.jDz],ngContentSelectors:mi,decls:13,vars:5,consts:[[1,"ant-page-header-heading"],[1,"ant-page-header-heading-left"],["class","ant-page-header-back",3,"click",4,"ngIf"],["class","ant-page-header-heading-title",4,"ngIf"],[4,"ngIf"],["class","ant-page-header-heading-sub-title",4,"ngIf"],[1,"ant-page-header-back",3,"click"],["role","button","tabindex","0",1,"ant-page-header-back-button"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"],[1,"ant-page-header-heading-title"],[1,"ant-page-header-heading-sub-title"]],template:function(i,s){1&i&&(t.F$t(ui),t.Hsn(0),t.TgZ(1,"div",0)(2,"div",1),t.YNc(3,ri,3,1,"div",2),t.Hsn(4,1),t.YNc(5,li,2,1,"span",3)(6,ci,1,0,"ng-content",4)(7,pi,2,1,"span",5)(8,hi,1,0,"ng-content",4),t.Hsn(9,2),t.qZA(),t.Hsn(10,3),t.qZA(),t.Hsn(11,4),t.Hsn(12,5)),2&i&&(t.xp6(3),t.Q6J("ngIf",null!==s.nzBackIcon),t.xp6(2),t.Q6J("ngIf",s.nzTitle),t.xp6(1),t.Q6J("ngIf",!s.nzTitle),t.xp6(1),t.Q6J("ngIf",s.nzSubtitle),t.xp6(1),t.Q6J("ngIf",!s.nzSubtitle))},dependencies:[h.O5,W.T,W.f,A.PV,A.Ls],encapsulation:2,changeDetection:0})}return(0,R.gn)([(0,Z.oS)()],n.prototype,"nzGhost",void 0),n})();var S=c(2574),H=c(3599),u=c(95),P=c(824),tt=c(1394),Lt=c(9691);function yi(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}const Ci=()=>[",","\uff0c"];let Ht=(()=>{class n{constructor(e,i,s,r,a){this.fb=e,this.router=i,this.msg=s,this.rs=r,this.route=a,this.buildFromGroup()}buildFromGroup(e){this.formGroup=this.fb.group({id:[this.id,[]],name:[(e=e||{}).name||"",[]],description:[e.description||"",[]],icon:[e.icon||"",[]],version:[e.version||"",[]],url:[e.url||"",[]],keywords:[e.keywords||[],[]]}),console.log(this.formGroup.value)}ngOnInit(){if(this.route.snapshot.paramMap.has("id"))return this.id=this.route.snapshot.paramMap.get("id"),void this.load();this.buildFromGroup()}load(){this.rs.get(`plugin/${this.id}`,{}).subscribe(e=>{this.buildFromGroup(e.data)},e=>{console.log("err:",e)})}onSubmit(){this.formGroup.valid?this.rs.post(this.id?`plugin/${this.id}`:"plugin/create",this.formGroup.value).subscribe(i=>{this.router.navigateByUrl("admin/plugin"),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):Object.values(this.formGroup.controls).forEach(e=>{e.invalid&&(e.markAsDirty(),e.updateValueAndValidity({onlySelf:!0}))})}onIconChange(e){}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(u.qu),t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-plugin-edit"]],standalone:!0,features:[t.jDz],decls:46,vars:33,consts:[["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-form","",3,"formGroup"],["nzRequired","","nzFor","id",3,"nzSm","nzXs"],["nzErrorTip","",3,"nzSm","nzXs"],["nz-input","","formControlName","id"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],["nz-input","","formControlName","name"],["nzMode","tags","nzPlaceHolder","\u5173\u952e\u5b57\uff0c\u9017\u53f7\u5206\u9694","formControlName","keywords",3,"nzTokenSeparators"],["nzFor","version",3,"nzSm","nzXs"],["nz-input","","formControlName","version"],["nzFor","description",3,"nzSm","nzXs"],[3,"nzMaxCharacterCount"],["rows","4","nz-input","","formControlName","description"],[3,"nzSm","nzXs"],["nzAction","/",3,"nzChange"],["nz-button",""],["nz-icon","","nzType","upload"],["nz-input","","formControlName","url"],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){1&i&&(t.TgZ(0,"nz-page-header")(1,"nz-page-header-title"),t._uU(2),t.qZA(),t.TgZ(3,"nz-page-header-extra")(4,"nz-space"),t.YNc(5,yi,2,0,"button",0),t.qZA()()(),t.TgZ(6,"form",1)(7,"nz-form-item")(8,"nz-form-label",2),t._uU(9,"Id"),t.qZA(),t.TgZ(10,"nz-form-control",3),t._UZ(11,"input",4),t.qZA()(),t.TgZ(12,"nz-form-item")(13,"nz-form-label",5),t._uU(14,"\u540d\u79f0"),t.qZA(),t.TgZ(15,"nz-form-control",3),t._UZ(16,"input",6),t.qZA()(),t.TgZ(17,"nz-form-item")(18,"nz-form-label",5),t._uU(19,"\u5173\u952e\u5b57"),t.qZA(),t.TgZ(20,"nz-form-control",3),t._UZ(21,"nz-select",7),t.qZA()(),t.TgZ(22,"nz-form-item")(23,"nz-form-label",8),t._uU(24,"\u7248\u672c"),t.qZA(),t.TgZ(25,"nz-form-control",3),t._UZ(26,"input",9),t.qZA()(),t.TgZ(27,"nz-form-item")(28,"nz-form-label",10),t._uU(29,"\u8bf4\u660e"),t.qZA(),t.TgZ(30,"nz-form-control",3)(31,"nz-textarea-count",11),t._UZ(32,"textarea",12),t.qZA()()(),t.TgZ(33,"nz-form-item")(34,"nz-form-label",13),t._uU(35,"\u5c01\u9762 "),t.qZA(),t.TgZ(36,"nz-form-control",13)(37,"nz-upload",14),t.NdJ("nzChange",function(a){return s.onIconChange(a)}),t.TgZ(38,"button",15),t._UZ(39,"span",16),t._uU(40," \u70b9\u51fb\u4e0a\u4f20 "),t.qZA()()()(),t.TgZ(41,"nz-form-item")(42,"nz-form-label",8),t._uU(43,"URL"),t.qZA(),t.TgZ(44,"nz-form-control",3),t._UZ(45,"input",17),t.qZA()()()),2&i&&(t.xp6(2),t.hij("\u63d2\u4ef6",s.id?"\u7f16\u8f91":"\u521b\u5efa",""),t.xp6(4),t.Q6J("formGroup",s.formGroup),t.xp6(2),t.Q6J("nzSm",6)("nzXs",24),t.xp6(2),t.Q6J("nzSm",14)("nzXs",24),t.xp6(3),t.Q6J("nzSm",6)("nzXs",24),t.xp6(2),t.Q6J("nzSm",14)("nzXs",24),t.xp6(3),t.Q6J("nzSm",6)("nzXs",24),t.xp6(2),t.Q6J("nzSm",14)("nzXs",24),t.xp6(1),t.Q6J("nzTokenSeparators",t.DdM(32,Ci)),t.xp6(2),t.Q6J("nzSm",6)("nzXs",24),t.xp6(2),t.Q6J("nzSm",14)("nzXs",24),t.xp6(3),t.Q6J("nzSm",6)("nzXs",24),t.xp6(2),t.Q6J("nzSm",14)("nzXs",24),t.xp6(1),t.Q6J("nzMaxCharacterCount",200),t.xp6(3),t.Q6J("nzSm",6)("nzXs",24),t.xp6(2),t.Q6J("nzSm",14)("nzXs",24),t.xp6(6),t.Q6J("nzSm",6)("nzXs",24),t.xp6(2),t.Q6J("nzSm",14)("nzXs",24))},dependencies:[C.ix,zi,Mt,Rt,S.NU,S.$1,u.u5,u._Y,u.Fj,u.JJ,u.JL,u.UX,u.sg,u.u,H.U5,L.t3,L.SK,H.Lr,H.Nx,H.iK,H.Fd,P.Zp,P.w,tt.FY,A.Ls,Lt.Vq]})}return n})(),Ti=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-plugin-detail"]],standalone:!0,features:[t.jDz],decls:2,vars:0,template:function(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"plugin-detail works!"),t.qZA())}})}return n})();var Di=c(7340);const xi=["form"];function Si(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let Ut=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0},{key:"email",label:"\u90ae\u7bb1",type:"text"},{key:"cellphone",label:"\u624b\u673a\u53f7",type:"text"},{key:"disabled",label:"\u7981\u7528",type:"switch"},{key:"admin",label:"\u7ba1\u7406\u5458",type:"switch"}],this.values={}}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.rs.get("user/"+this.id).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post(`user/${this.id||"create"}`,this.form.Value()).subscribe(i=>{this.router.navigateByUrl("/admin/user/"+i.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-edit"]],viewQuery:function(i,s){if(1&i&&t.Gf(xi,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:5,vars:4,consts:[[3,"nzTitle","nzExtra"],[3,"fields","value"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.qZA(),t.YNc(3,Si,2,0,"ng-template",null,3,t.W1O)),2&i){const r=t.MAs(4);t.Q6J("nzTitle","\u7528\u6237"+(s.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values)}},dependencies:[h.ez,C.ix,y.bd,E.m]})}return n})(),wi=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-detail"]],standalone:!0,features:[t.jDz],decls:2,vars:0,template:function(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"user-detail works!"),t.qZA())}})}return n})();const ki=["form"];function Ei(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let Pi=(()=>{class n{constructor(e,i){this.msg=e,this.rs=i,this.fields=[{key:"port",label:"\u7aef\u53e3",type:"number",required:!0,default:8080,min:1,max:65535},{key:"debug",label:"\u8c03\u8bd5\u6a21\u5f0f",type:"switch"},{key:"cors",label:"\u8de8\u57df\u8bf7\u6c42",type:"switch"},{key:"gzip",label:"\u538b\u7f29\u6a21\u5f0f",type:"switch"},{key:"https",label:"HTTPS",type:"select",options:[{label:"\u7981\u7528",value:""},{label:"TLS",value:"TLS"},{label:"LetsEncrypt",value:"LetsEncrypt"}]},{key:"cert",label:"\u8bc1\u4e66cert",type:"file"},{key:"key",label:"\u8bc1\u4e66key",type:"file"},{key:"email",label:"E-Mail",type:"text"},{key:"hosts",label:"\u57df\u540d",type:"tags",default:[]}],this.values={}}ngOnInit(){this.rs.get("setting/web",{}).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post("setting/web",this.form.Value()).subscribe(i=>{this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(v.dD),t.Y36(f.s))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-web"]],viewQuery:function(i,s){if(1&i&&t.Gf(ki,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:5,vars:3,consts:[["nzTitle","\u8bbe\u7f6e Web\u670d\u52a1",3,"nzExtra"],[3,"fields","value"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.qZA(),t.YNc(3,Ei,2,0,"ng-template",null,3,t.W1O)),2&i){const r=t.MAs(4);t.Q6J("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values)}},dependencies:[h.ez,C.ix,y.bd,E.m]})}return n})();var b=c(2053);const Ai=["form"];function Zi(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"a",6),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.writeExample(r.url))}),t._uU(7,"\u5199\u5165"),t.qZA()()()}if(2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.label),t.xp6(2),t.Oqu(e.url)}}function Ii(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let Fi=(()=>{class n{constructor(e,i){this.msg=e,this.rs=i,this.urls=[{label:"SQLite",type:"sqlite",url:"master.db"},{label:"MySQL",type:"mysql",url:"root:123456@tcp(127.0.0.1)/master?charset=utf8"},{label:"Postgres SQL",type:"postgres",url:"postgres://root:123456@127.0.0.1/master?sslmode=verify-full"},{label:"MS SQL Server",type:"sqlserver",url:"sqlserver://sa:123456@127.0.0.1?database=master&connection+timeout=30"},{label:"Oracle",type:"godror",url:'user="root" password="123456" connectString="127.0.0.1:1521/master"'}],this.fields=[{key:"type",label:"\u6570\u636e\u5e93\u7c7b\u578b",type:"select",options:[{label:"SQLite\uff08\u5185\u7f6e\uff09",value:"sqlite"},{label:"MySQL",value:"mysql"},{label:"Postgres SQL",value:"postgres"},{label:"MS SQL Server",value:"sqlserver"},{label:"Oracle",value:"godror"}]},{key:"url",label:"\u8fde\u63a5\u5b57\u7b26\u4e32",type:"text"},{key:"debug",label:"\u8c03\u8bd5\u6a21\u5f0f",type:"switch"}],this.values={}}ngOnInit(){this.rs.get("setting/database",{}).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post("setting/database",this.form.Value()).subscribe(i=>{this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}writeExample(e){this.form.patchValues({url:e})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(v.dD),t.Y36(f.s))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-database"]],viewQuery:function(i,s){if(1&i&&t.Gf(Ai,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:15,vars:5,consts:[["nzTitle","\u8bbe\u7f6e \u6570\u636e\u5e93",3,"nzExtra"],[3,"fields","value"],["form",""],[3,"nzNoResult"],[4,"ngFor","ngForOf"],["extraTemplate",""],[3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.TgZ(3,"nz-table",3)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"\u7c7b\u578b"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"\u793a\u4f8b"),t.qZA(),t._UZ(10,"th"),t.qZA()(),t.TgZ(11,"tbody"),t.YNc(12,Zi,8,2,"tr",4),t.qZA()()(),t.YNc(13,Ii,2,0,"ng-template",null,5,t.W1O)),2&i){const r=t.MAs(14);t.Q6J("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values),t.xp6(2),t.Q6J("nzNoResult"," "),t.xp6(9),t.Q6J("ngForOf",s.urls)}},dependencies:[h.ez,h.sg,C.ix,y.bd,E.m,b.N8,b.HQ,b.Uo,b._C,b.Om,b.p0,b.$Z]})}return n})();const Ri=["form"];function Mi(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let Oi=(()=>{class n{constructor(e,i){this.msg=e,this.rs=i,this.fields=[{key:"enable",label:"\u542f\u7528",type:"switch",default:!0},{key:"port",label:"\u7aef\u53e3",type:"number",default:1843}],this.values={}}ngOnInit(){this.rs.get("setting/broker",{}).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post("setting/broker",this.form.Value()).subscribe(i=>{this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(v.dD),t.Y36(f.s))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-broker"]],viewQuery:function(i,s){if(1&i&&t.Gf(Ri,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:5,vars:3,consts:[["nzTitle","\u8bbe\u7f6e MQTT\u603b\u7ebf",3,"nzExtra"],[3,"fields","value"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.qZA(),t.YNc(3,Mi,2,0,"ng-template",null,3,t.W1O)),2&i){const r=t.MAs(4);t.Q6J("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values)}},dependencies:[h.ez,C.ix,y.bd,E.m]})}return n})();const Ni=["form"];function Li(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let Hi=(()=>{class n{constructor(e,i){this.msg=e,this.rs=i,this.fields=[{key:"url",label:"\u5730\u5740",type:"text",required:!0,default:""},{key:"username",label:"\u7528\u6237\u540d",type:"text"},{key:"password",label:"\u5bc6\u7801",type:"text"},{key:"client_id",label:"\u5ba2\u6237\u7aefID",type:"text"}],this.values={}}ngOnInit(){this.rs.get("setting/mqtt",{}).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post("setting/mqtt",this.form.Value()).subscribe(i=>{this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(v.dD),t.Y36(f.s))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-mqtt"]],viewQuery:function(i,s){if(1&i&&t.Gf(Ni,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:5,vars:3,consts:[["nzTitle","\u8bbe\u7f6e MQTT\u8fde\u63a5",3,"nzExtra"],[3,"fields","value"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.qZA(),t.YNc(3,Li,2,0,"ng-template",null,3,t.W1O)),2&i){const r=t.MAs(4);t.Q6J("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values)}},dependencies:[h.ez,C.ix,y.bd,E.m]})}return n})();const Ui=["form"];function Ji(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let Yi=(()=>{class n{constructor(e,i){this.msg=e,this.rs=i,this.fields=[{key:"caller",label:"\u663e\u793a\u51fd\u6570\u8c03\u7528",type:"switch"},{key:"text",label:"\u4f7f\u7528\u6587\u672c\u683c\u5f0f",type:"switch"},{key:"level",label:"\u7b49\u7ea7",type:"select",default:"info",options:[{label:"\u8ddf\u8e2a trace",value:"trace"},{label:"\u8c03\u8bd5 debug",value:"debug"},{label:"\u4fe1\u606f info",value:"info"},{label:"\u8b66\u544a warn",value:"warn"},{label:"\u9519\u8bef error",value:"error"},{label:"\u4e25\u91cd fatal",value:"fatal"}]},{key:"type",label:"\u8f93\u51fa\u65b9\u5f0f",type:"select",default:"stdout",options:[{label:"\u6587\u4ef6",value:"file"},{label:"\u591a\u6587\u4ef6",value:"files"},{label:"\u6807\u51c6\u8f93\u51fa",value:"stdout"}]},{key:"filename",label:"\u65e5\u5fd7\u6587\u4ef6",type:"text",default:"log.txt"},{key:"compress",label:"\u65e5\u5fd7\u6587\u4ef6\u538b\u7f29",type:"switch"},{key:"max_size",label:"\u6700\u5927\u5c3a\u5bf8 MB",type:"number",default:10,min:1},{key:"max_backups",label:"\u4fdd\u7559\u6570\u91cf\uff08\u6eda\u52a8\u5220\u9664\uff09",type:"number",default:100,min:1},{key:"max_age",label:"\u6700\u5927\u4fdd\u7559\u5929\u6570",type:"number",default:30,min:1}],this.values={}}ngOnInit(){this.rs.get("setting/log",{}).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post("setting/log",this.form.Value()).subscribe(i=>{this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(v.dD),t.Y36(f.s))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-log"]],viewQuery:function(i,s){if(1&i&&t.Gf(Ui,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:5,vars:3,consts:[["nzTitle","\u8bbe\u7f6e \u7cfb\u7edf\u65e5\u5fd7",3,"nzExtra"],[3,"fields","value"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.qZA(),t.YNc(3,Ji,2,0,"ng-template",null,3,t.W1O)),2&i){const r=t.MAs(4);t.Q6J("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values)}},dependencies:[h.ez,C.ix,y.bd,E.m]})}return n})(),Bi=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-backup"]],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(i,s){}})}return n})(),Qi=(()=>{class n{constructor(){this.currentName="",this.name=""}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-rename"]],inputs:{currentName:"currentName"},standalone:!0,features:[t.jDz],decls:11,vars:2,consts:[["type","text","nz-input","",3,"ngModel","ngModelChange"]],template:function(i,s){1&i&&(t.TgZ(0,"table")(1,"tr")(2,"td"),t._uU(3,"\u5f53\u524d\u540d\u79f0\uff1a"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()(),t.TgZ(6,"tr")(7,"td"),t._uU(8,"\u91cd\u547d\u540d\uff1a"),t.qZA(),t.TgZ(9,"td")(10,"input",0),t.NdJ("ngModelChange",function(a){return s.name=a}),t.qZA()()()()),2&i&&(t.xp6(5),t.Oqu(s.currentName),t.xp6(5),t.Q6J("ngModel",s.name))},dependencies:[P.o7,P.Zp,u.u5,u.Fj,u.JJ,u.On]})}return n})(),qi=(()=>{class n{set inputValue(e){this.name=e||""}constructor(e){this.msg=e,this.isSuccess=!1,this.load=new t.vpe,this.isSuccess=!1}handleUpload(e){if("error"!==e.type){if(e.file&&e.file.response){const i=e.file.response;i.error?this.msg.error(`${i.error}`):this.msg.success("\u4e0a\u4f20\u6210\u529f!")}}else this.msg.error("\u4e0a\u4f20\u5931\u8d25")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(v.dD))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload"]],inputs:{inputValue:"inputValue"},outputs:{load:"load"},standalone:!0,features:[t.jDz],decls:14,vars:2,consts:[["type","text","nz-input","",3,"ngModel","ngModelChange"],["nzAction","api/attach/upload/",3,"nzShowUploadList","nzChange"],["nz-button",""],["nz-icon","","nzType","upload"]],template:function(i,s){1&i&&(t.TgZ(0,"table")(1,"tr")(2,"td"),t._uU(3,"\u4e0a\u4f20\u8def\u5f84\uff1a"),t.qZA(),t.TgZ(4,"td")(5,"input",0),t.NdJ("ngModelChange",function(a){return s.name=a}),t.qZA()()(),t.TgZ(6,"tr")(7,"td"),t._uU(8,"\u4e0a\u4f20\u6587\u4ef6\uff1a"),t.qZA(),t.TgZ(9,"td")(10,"nz-upload",1),t.NdJ("nzChange",function(a){return s.handleUpload(a)}),t.TgZ(11,"button",2),t._UZ(12,"i",3),t._uU(13," \u4e0a\u4f20 "),t.qZA()()()()()),2&i&&(t.xp6(5),t.Q6J("ngModel",s.name),t.xp6(5),t.Q6J("nzShowUploadList",!1))},dependencies:[u.u5,u.Fj,u.JJ,u.On,tt.cS,tt.FY,P.o7,P.Zp],styles:["table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0}"]})}return n})();var B=c(7754);function Gi(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzText)}}function $i(n,o){if(1&n&&(t.TgZ(0,"span",1),t.YNc(1,Gi,2,1,"ng-container",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzText)}}let Jt=(()=>{class n{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(i,s){2&i&&t.ekj("ant-divider-horizontal","horizontal"===s.nzType)("ant-divider-vertical","vertical"===s.nzType)("ant-divider-with-text",s.nzText)("ant-divider-plain",s.nzPlain)("ant-divider-with-text-left",s.nzText&&"left"===s.nzOrientation)("ant-divider-with-text-right",s.nzText&&"right"===s.nzOrientation)("ant-divider-with-text-center",s.nzText&&"center"===s.nzOrientation)("ant-divider-dashed",s.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","ant-divider-inner-text",4,"ngIf"],[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(i,s){1&i&&t.YNc(0,$i,2,1,"span",0),2&i&&t.Q6J("ngIf",s.nzText)},dependencies:[h.O5,W.T,W.f],encapsulation:2,changeDetection:0})}return(0,R.gn)([(0,B.yF)()],n.prototype,"nzDashed",void 0),(0,R.gn)([(0,B.yF)()],n.prototype,"nzPlain",void 0),n})(),Vi=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[Jt]})}return n})();var Yt=c(6494),ji=c(2669),et=c(2438),Bt=c(2181),Q=c(8180),Qt=c(205),I=c(2831),T=c(2495),qt=c(6034),q=c(7394),Xi=c(6321),Ki=c(4825),tn=c(927),Gt=c(5592),dt=c(3019),pt=c(7921),en=c(9397),nn=c(4664);function ht(n,o,e){for(let i in o)if(o.hasOwnProperty(i)){const s=o[i];s?n.setProperty(i,s,e?.has(i)?"important":""):n.removeProperty(i)}return n}function U(n,o){const e=o?"":"none";ht(n.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function $t(n,o,e){ht(n.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},e)}function it(n,o){return o&&"none"!=o?n+" "+o:n}function Vt(n){const o=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*o}function ut(n,o){return n.getPropertyValue(o).split(",").map(i=>i.trim())}function mt(n){const o=n.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function gt(n,o,e){const{top:i,bottom:s,left:r,right:a}=n;return e>=i&&e<=s&&o>=r&&o<=a}function G(n,o,e){n.top+=o,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function jt(n,o,e,i){const{top:s,right:r,bottom:a,left:l,width:d,height:p}=n,m=d*o,z=p*o;return i>s-z&&i<a+z&&e>l-m&&e<r+m}class Xt{constructor(o){this._document=o,this.positions=new Map}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),o.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:mt(e)})})}handleScroll(o){const e=(0,I.sA)(o),i=this.positions.get(e);if(!i)return null;const s=i.scrollPosition;let r,a;if(e===this._document){const p=this.getViewportScrollPosition();r=p.top,a=p.left}else r=e.scrollTop,a=e.scrollLeft;const l=s.top-r,d=s.left-a;return this.positions.forEach((p,m)=>{p.clientRect&&e!==m&&e.contains(m)&&G(p.clientRect,l,d)}),s.top=r,s.left=a,{top:l,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Kt(n){const o=n.cloneNode(!0),e=o.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();o.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?ee(n,o):("input"===i||"select"===i||"textarea"===i)&&te(n,o),Wt("canvas",n,o,ee),Wt("input, textarea, select",n,o,te),o}function Wt(n,o,e,i){const s=o.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let a=0;a<s.length;a++)i(s[a],r[a])}}let on=0;function te(n,o){"file"!==o.type&&(o.value=n.value),"radio"===o.type&&o.name&&(o.name=`mat-clone-${o.name}-${on++}`)}function ee(n,o){const e=o.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const ie=(0,I.i$)({passive:!0}),nt=(0,I.i$)({passive:!1}),_t=new Set(["position"]);class an{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(o){o!==this._disabled&&(this._disabled=o,this._toggleNativeDragInteractions(),this._handles.forEach(e=>U(e,o)))}constructor(o,e,i,s,r,a){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _.x,this._pointerMoveSubscription=q.w0.EMPTY,this._pointerUpSubscription=q.w0.EMPTY,this._scrollSubscription=q.w0.EMPTY,this._resizeSubscription=q.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _.x,this.started=new _.x,this.released=new _.x,this.ended=new _.x,this.entered=new _.x,this.exited=new _.x,this.dropped=new _.x,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const d=this._getTargetHandle(l);d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const d=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(d.x-this._pickupPositionOnPage.x)+Math.abs(d.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const O=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),N=this._dropContainer;if(!O)return void this._endDragSequence(l);(!N||!N.isDragging()&&!N.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const p=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(p),this._dropContainer)this._updateActiveDropContainer(p,d);else{const m=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,z=this._activeTransform;z.x=p.x-m.x+this._passiveTransform.x,z.y=p.y-m.y+this._passiveTransform.y,this._applyRootElementTransform(z.x,z.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:p,event:l,distance:this._getDragDistance(p),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const d=this._getTargetHandle(l);d&&!this._disabledHandles.has(d)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(o).withParent(e.parentDragRef||null),this._parentPositions=new Xt(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(i=>(0,T.fI)(i)),this._handles.forEach(i=>U(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){const e=(0,T.fI)(o);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,nt),e.addEventListener("touchstart",this._pointerDown,ie),e.addEventListener("dragstart",this._nativeDragStart,nt)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?(0,T.fI)(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),U(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),U(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){const o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){const o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:o}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){$(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),$t(i,!1,_t),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,l).appendChild(this._preview),this.started.next({source:this,event:o}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:o}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(o,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=$(e),r=!s&&0!==e.button,a=this._rootElement,l=(0,I.sA)(e),d=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),p=s?(0,qt.yG)(e):(0,qt.X6)(e);if(l&&l.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||d||p)return;if(this._handles.length){const w=a.style;this._rootElementTapHighlight=w.webkitTapHighlightColor||"",w.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(w=>this._updateOnScroll(w)),this._boundaryElement&&(this._boundaryRect=mt(this._boundaryElement));const m=this._previewTemplate;this._pickupPositionInElement=m&&m.template&&!m.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,o,e);const z=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:z.x,y:z.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(o){$t(this._rootElement,!0,_t),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(o),r=this._getDragDistance(s),a=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s,event:o}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s,event:o}),e.drop(this,i,this._initialIndex,this._initialContainer,a,r,s,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,o,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,o,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,o,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(o,e):this._applyPreviewTransform(o-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const o=this._previewTemplate,e=this.previewClass,i=o?o.template:null;let s;if(i&&o){const r=o.matchSize?this._initialClientRect:null,a=o.viewContainer.createEmbeddedView(i,o.context);a.detectChanges(),s=se(a,this._document),this._previewRef=a,o.matchSize?oe(s,r):s.style.transform=st(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else s=Kt(this._rootElement),oe(s,this._initialClientRect),this._initialTransform&&(s.style.transform=this._initialTransform);return ht(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},_t),U(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const o=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);const e=function sn(n){const o=getComputedStyle(n),e=ut(o,"transition-property"),i=e.find(l=>"transform"===l||"all"===l);if(!i)return 0;const s=e.indexOf(i),r=ut(o,"transition-duration"),a=ut(o,"transition-delay");return Vt(r[s])+Vt(a[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=a=>{(!a||(0,I.sA)(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const o=this._placeholderTemplate,e=o?o.template:null;let i;return e?(this._placeholderRef=o.viewContainer.createEmbeddedView(e,o.context),this._placeholderRef.detectChanges(),i=se(this._placeholderRef,this._document)):i=Kt(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(o,e,i){const s=e===this._rootElement?null:e,r=s?s.getBoundingClientRect():o,a=$(i)?i.targetTouches[0]:i,l=this._getViewportScrollPosition();return{x:r.left-o.left+(a.pageX-r.left-l.left),y:r.top-o.top+(a.pageY-r.top-l.top)}}_getPointerPositionOnPage(o){const e=this._getViewportScrollPosition(),i=$(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=s,l.y=r,l.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(o){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(o,this,this._initialClientRect,this._pickupPositionInElement):o;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:r,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:d,height:p}=this._getPreviewRect(),m=l.top+a,z=l.bottom-(p-a);i=ne(i,l.left+r,l.right-(d-r)),s=ne(s,m,z)}return{x:i,y:s}}_updatePointerDirectionDelta(o){const{x:e,y:i}=o,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),l=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),l>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,U(this._rootElement,o))}_removeRootElementListeners(o){o.removeEventListener("mousedown",this._pointerDown,nt),o.removeEventListener("touchstart",this._pointerDown,ie),o.removeEventListener("dragstart",this._nativeDragStart,nt)}_applyRootElementTransform(o,e){const i=st(o,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=it(i,this._initialTransform)}_applyPreviewTransform(o,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,s=st(o,e);this._preview.style.transform=it(s,i)}_getDragDistance(o){const e=this._pickupPositionOnPage;return e?{x:o.x-e.x,y:o.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:e}=this._passiveTransform;if(0===o&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===i.width&&0===i.height)return;const r=s.left-i.left,a=i.right-s.right,l=s.top-i.top,d=i.bottom-s.bottom;s.width>i.width?(r>0&&(o+=r),a>0&&(o-=a)):o=0,s.height>i.height?(l>0&&(e+=l),d>0&&(e-=d)):e=0,(o!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:o})}_getDragStartDelay(o){const e=this.dragStartDelay;return"number"==typeof e?e:$(o)?e.touch:e?e.mouse:0}_updateOnScroll(o){const e=this._parentPositions.handleScroll(o);if(e){const i=(0,I.sA)(o);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&G(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,I.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,e){const i=this._previewContainer||"global";if("parent"===i)return o;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return(0,T.fI)(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(o){return this._handles.find(e=>o.target&&(o.target===e||e.contains(o.target)))}}function st(n,o){return`translate3d(${Math.round(n)}px, ${Math.round(o)}px, 0)`}function ne(n,o,e){return Math.max(o,Math.min(e,n))}function $(n){return"t"===n.type[0]}function se(n,o){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===o.ELEMENT_NODE)return e[0];const i=o.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function oe(n,o){n.style.width=`${o.width}px`,n.style.height=`${o.height}px`,n.style.transform=st(o.left,o.top)}function re(n,o,e){const i=V(o,n.length-1),s=V(e,n.length-1);if(i===s)return;const r=n[i],a=s<i?-1:1;for(let l=i;l!==s;l+=a)n[l]=n[l+a];n[s]=r}function V(n,o){return Math.max(0,Math.min(o,n))}class ln{constructor(o,e){this._element=o,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(o){this.withItems(o)}sort(o,e,i,s){const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(o,e,i,s);if(-1===a&&r.length>0)return null;const l="horizontal"===this.orientation,d=r.findIndex(k=>k.drag===o),p=r[a],z=p.clientRect,w=d>a?1:-1,O=this._getItemOffsetPx(r[d].clientRect,z,w),N=this._getSiblingOffsetPx(d,r,w),J=r.slice();return re(r,d,a),r.forEach((k,_o)=>{if(J[_o]===k)return;const ke=k.drag===o,Dt=ke?O:N,Ee=ke?o.getPlaceholderElement():k.drag.getRootElement();k.offset+=Dt,l?(Ee.style.transform=it(`translate3d(${Math.round(k.offset)}px, 0, 0)`,k.initialTransform),G(k.clientRect,0,Dt)):(Ee.style.transform=it(`translate3d(0, ${Math.round(k.offset)}px, 0)`,k.initialTransform),G(k.clientRect,Dt,0))}),this._previousSwap.overlaps=gt(z,e,i),this._previousSwap.drag=p.drag,this._previousSwap.delta=l?s.x:s.y,{previousIndex:d,currentIndex:a}}enter(o,e,i,s){const r=null==s||s<0?this._getItemIndexFromPointerPosition(o,e,i):s,a=this._activeDraggables,l=a.indexOf(o),d=o.getPlaceholderElement();let p=a[r];if(p===o&&(p=a[r+1]),!p&&(null==r||-1===r||r<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(p=a[0]),l>-1&&a.splice(l,1),p&&!this._dragDropRegistry.isDragging(p)){const m=p.getRootElement();m.parentElement.insertBefore(d,m),a.splice(r,0,o)}else(0,T.fI)(this._element).appendChild(d),a.push(o);d.style.transform="",this._cacheItemPositions()}withItems(o){this._activeDraggables=o.slice(),this._cacheItemPositions()}withSortPredicate(o){this._sortPredicate=o}reset(){this._activeDraggables.forEach(o=>{const e=o.getRootElement();if(e){const i=this._itemPositions.find(s=>s.drag===o)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(o){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===o)}updateOnScroll(o,e){this._itemPositions.forEach(({clientRect:i})=>{G(i,o,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const o="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:mt(i)}}).sort((e,i)=>o?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(o,e,i){const s="horizontal"===this.orientation;let r=s?e.left-o.left:e.top-o.top;return-1===i&&(r+=s?e.width-o.width:e.height-o.height),r}_getSiblingOffsetPx(o,e,i){const s="horizontal"===this.orientation,r=e[o].clientRect,a=e[o+-1*i];let l=r[s?"width":"height"]*i;if(a){const d=s?"left":"top",p=s?"right":"bottom";-1===i?l-=a.clientRect[d]-r[p]:l+=r[d]-a.clientRect[p]}return l}_shouldEnterAsFirstChild(o,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return s?o>=a.right:e>=a.bottom}{const a=i[0].clientRect;return s?o<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(o,e,i,s){const r="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:d})=>l!==o&&((!s||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(r?s.x:s.y)!==this._previousSwap.delta)&&(r?e>=Math.floor(d.left)&&e<Math.floor(d.right):i>=Math.floor(d.top)&&i<Math.floor(d.bottom))));return-1!==a&&this._sortPredicate(a,o)?a:-1}}class cn{constructor(o,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _.x,this.entered=new _.x,this.exited=new _.x,this.dropped=new _.x,this.sorted=new _.x,this.receivingStarted=new _.x,this.receivingStopped=new _.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=q.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new _.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Wi(n=0,o=Xi.z){return n<0&&(n=0),(0,Ki.H)(n,n,o)}(0,tn.Z).pipe((0,x.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=(0,T.fI)(o),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Xt(i),this._sortStrategy=new ln(this.element,e),this._sortStrategy.withSortPredicate((a,l)=>this.sortPredicate(a,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,e,i,s){this._draggingStarted(),null==s&&this.sortingDisabled&&(s=this._draggables.indexOf(o)),this._sortStrategy.enter(o,e,i,s),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,e,i,s,r,a,l,d={}){this._reset(),this.dropped.next({item:o,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:l,event:d})}withItems(o){const e=this._draggables;return this._draggables=o,o.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===o.indexOf(s))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(o){return this._sortStrategy.direction=o,this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){return this._sortStrategy.orientation=o,this}withScrollableParents(o){const e=(0,T.fI)(this.element);return this._scrollableElements=-1===o.indexOf(e)?[e,...o]:o.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?this._sortStrategy.getItemIndex(o):this._draggables.indexOf(o)}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,e,i,s){if(this.sortingDisabled||!this._clientRect||!jt(this._clientRect,.05,e,i))return;const r=this._sortStrategy.sort(o,e,i,s);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:o})}_startScrollingIfNecessary(o,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||i||jt(a.clientRect,.05,o,e)&&([s,r]=function dn(n,o,e,i){const s=ce(o,i),r=de(o,e);let a=0,l=0;if(s){const d=n.scrollTop;1===s?d>0&&(a=1):n.scrollHeight-d>n.clientHeight&&(a=2)}if(r){const d=n.scrollLeft;1===r?d>0&&(l=1):n.scrollWidth-d>n.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,o,e),(s||r)&&(i=l))}),!s&&!r){const{width:a,height:l}=this._viewportRuler.getViewportSize(),d={width:a,height:l,top:0,right:a,bottom:l,left:0};s=ce(d,e),r=de(d,o),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const o=(0,T.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const o=(0,T.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(o).clientRect}_reset(){this._isDragging=!1;const o=(0,T.fI)(this.element).style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(o,e){return null!=this._clientRect&&gt(this._clientRect,o,e)}_getSiblingContainerFromPosition(o,e,i){return this._siblings.find(s=>s._canReceive(o,e,i))}_canReceive(o,e,i){if(!this._clientRect||!gt(this._clientRect,e,i)||!this.enterPredicate(o,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=(0,T.fI)(this.element);return s===r||r.contains(s)}_startReceiving(o,e){const i=this._activeSiblings;!i.has(o)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(o),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:o,receiver:this,items:e}))}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:o,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(o);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const o=(0,I.kV)((0,T.fI)(this.element));this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const o=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,o))}}function ce(n,o){const{top:e,bottom:i,height:s}=n,r=.05*s;return o>=e-r&&o<=e+r?1:o>=i-r&&o<=i+r?2:0}function de(n,o){const{left:e,right:i,width:s}=n,r=.05*s;return o>=e-r&&o<=e+r?1:o>=i-r&&o<=i+r?2:0}const ot=(0,I.i$)({passive:!1,capture:!0});let pn=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new _.x,this.pointerUp=new _.x,this.scroll=new _.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ot)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ot)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ot}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:ot}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Gt.y(s=>this._ngZone.runOutsideAngular(()=>{const a=l=>{this._activeDragInstances.length&&s.next(l)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),(0,dt.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(t.R0b),t.LFG(h.K0))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hn={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let pe=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=hn){return new an(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new cn(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(h.K0),t.LFG(t.R0b),t.LFG(Qt.rL),t.LFG(pn))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ft=new t.OlP("CDK_DRAG_PARENT"),bt=new t.OlP("CdkDragHandle");let vt=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}constructor(e,i){this.element=e,this._stateChanges=new _.x,this._disabled=!1,this._parentDrag=i}ngOnDestroy(){this._stateChanges.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(t.SBq),t.Y36(ft,12))};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled",t.VuI]},standalone:!0,features:[t._Bn([{provide:bt,useExisting:n}]),t.Xq5]})}return n})();const he=new t.OlP("CdkDragPlaceholder"),ue=new t.OlP("CdkDragPreview"),me=new t.OlP("CDK_DRAG_CONFIG"),ge=new t.OlP("CdkDropList");let zt=(()=>{class n{static#t=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,i,s,r,a,l,d,p,m,z,w){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=a,this._dir=d,this._changeDetectorRef=m,this._selfHandle=z,this._parentDrag=w,this._destroyed=new _.x,this.started=new t.vpe,this.released=new t.vpe,this.ended=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.dropped=new t.vpe,this.moved=new Gt.y(O=>{const N=this._dragRef.moved.pipe((0,Ft.U)(J=>({source:this,pointerPosition:J.pointerPosition,event:J.event,delta:J.delta,distance:J.distance}))).subscribe(O);return()=>{N.unsubscribe()}}),this._dragRef=p.createDrag(e,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),l&&this._assignDefaults(l),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Q.q)(1),(0,x.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,T.fI)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:(0,T.su)(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe((0,Q.q)(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(s=>s.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:a,boundaryElement:l,draggingDisabled:d,rootElementSelector:p,previewContainer:m}=e;this.disabled=d??!1,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),a&&(this.previewClass=a),l&&(this.boundaryElement=l),p&&(this.rootElementSelector=p),m&&(this.previewContainer=m)}_setupHandlesListener(){this._handles.changes.pipe((0,pt.O)(this._handles),(0,en.b)(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,nn.w)(e=>(0,dt.T)(...e.map(i=>i._stateChanges.pipe((0,pt.O)(i))))),(0,x.R)(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}static#e=this.\u0275fac=function(i){return new(i||n)(t.Y36(t.SBq),t.Y36(ge,12),t.Y36(h.K0),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(me,8),t.Y36(Y.Is,8),t.Y36(pe),t.Y36(t.sBO),t.Y36(bt,10),t.Y36(ft,12))};static#i=this.\u0275dir=t.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(i,s,r){if(1&i&&(t.Suo(r,ue,5),t.Suo(r,he,5),t.Suo(r,bt,5)),2&i){let a;t.iGM(a=t.CRH())&&(s._previewTemplate=a.first),t.iGM(a=t.CRH())&&(s._placeholderTemplate=a.first),t.iGM(a=t.CRH())&&(s._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,s){2&i&&t.ekj("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled",t.VuI],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[t._Bn([{provide:ft,useExisting:n}]),t.Xq5,t.TTD]})}return n})();const yt=new t.OlP("CdkDropListGroup");let fn=0,_e=(()=>{class n{static#t=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,i,s,r,a,l,d){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=a,this._group=l,this._destroyed=new _.x,this.connectedTo=[],this.id="cdk-drop-list-"+fn++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.vpe,this.entered=new t.vpe,this.exited=new t.vpe,this.sorted=new t.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,d&&this._assignDefaults(d),this._dropListRef.enterPredicate=(p,m)=>this.enterPredicate(p.data,m.data),this._dropListRef.sortPredicate=(p,m,z)=>this.sortPredicate(p,m.data,z.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),l&&l._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe((0,pt.O)(this._dir.value),(0,x.R)(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=(0,T.Eq)(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(a=>a.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=(0,T.su)(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),(0,dt.T)(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:a,listOrientation:l}=e;this.disabled=s??!1,this.sortingDisabled=r??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static#e=this.\u0275fac=function(i){return new(i||n)(t.Y36(t.SBq),t.Y36(pe),t.Y36(t.sBO),t.Y36(Qt.mF),t.Y36(Y.Is,8),t.Y36(yt,12),t.Y36(me,8))};static#i=this.\u0275dir=t.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,s){2&i&&(t.uIk("id",s.id),t.ekj("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled",t.VuI],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled",t.VuI],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled",t.VuI],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[t._Bn([{provide:yt,useValue:void 0},{provide:ge,useExisting:n}]),t.Xq5]})}return n})();var bn=c(4194),fe=c(9087),rt=c(3651),vn=c(6593),zn=c(8484),M=c(6028);const yn=["imgRef"],Cn=["imagePreviewWrapper"];function Tn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"li",10),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.onClick())}),t._UZ(1,"span",11),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw();t.ekj("ant-image-preview-operations-operation-disabled",i.zoomOutDisabled&&"zoomOut"===e.type),t.xp6(1),t.Q6J("nzType",e.icon)}}function Dn(n,o){if(1&n&&t._UZ(0,"img",13,14),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Udp("width",e.width)("height",e.height)("transform",i.previewImageTransform),t.uIk("src",i.sanitizerResourceUrl(e.src),t.LSH)("srcset",e.srcset)("alt",e.alt)}}function xn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Dn,2,9,"img",12),t.BQk()),2&n){const e=o.index,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.index===e)}}function Sn(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",15),t.NdJ("click",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.onSwitchLeft(s))}),t._UZ(2,"span",16),t.qZA(),t.TgZ(3,"div",17),t.NdJ("click",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.onSwitchRight(s))}),t._UZ(4,"span",18),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.ekj("ant-image-preview-switch-left-disabled",e.index<=0),t.xp6(2),t.ekj("ant-image-preview-switch-right-disabled",e.index>=e.images.length-1)}}const wn=["*"];function ve(n,o,e){const i=n+o,s=(o-e)/2;let r=null;return o>e?(n>0&&(r=s),n<0&&i<e&&(r=-s)):(n<0||i>e)&&(r=n<0?s:-s),r}class Ct{constructor(){this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzMaskClosable=!0,this.nzCloseOnNavigation=!0}}const lt={x:0,y:0};let ze=(()=>{class n{get animationDisabled(){return this.config.nzNoAnimation??!1}get maskClosable(){const e=this.nzConfigService.getConfigForComponent("image")||{};return this.config.nzMaskClosable??e.nzMaskClosable??!0}constructor(e,i,s,r,a,l,d,p){this.ngZone=e,this.host=i,this.cdr=s,this.nzConfigService=r,this.config=a,this.overlayRef=l,this.destroy$=d,this.sanitizer=p,this._defaultNzZoom=1,this._defaultNzScaleStep=.5,this._defaultNzRotate=0,this.images=[],this.index=0,this.isDragging=!1,this.visible=!0,this.animationState="enter",this.animationStateChanged=new t.vpe,this.scaleStepMap=new Map,this.previewImageTransform="",this.previewImageWrapperTransform="",this.operations=[{icon:"close",onClick:()=>{this.onClose()},type:"close"},{icon:"zoom-in",onClick:()=>{this.onZoomIn()},type:"zoomIn"},{icon:"zoom-out",onClick:()=>{this.onZoomOut()},type:"zoomOut"},{icon:"rotate-right",onClick:()=>{this.onRotateRight()},type:"rotateRight"},{icon:"rotate-left",onClick:()=>{this.onRotateLeft()},type:"rotateLeft"}],this.zoomOutDisabled=!1,this.position={...lt},this.containerClick=new t.vpe,this.closeClick=new t.vpe,this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.updateZoomOutDisabled(),this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform()}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,et.R)(this.host.nativeElement,"click").pipe((0,x.R)(this.destroy$)).subscribe(e=>{e.target===e.currentTarget&&this.maskClosable&&this.containerClick.observers.length&&this.ngZone.run(()=>this.containerClick.emit())}),(0,et.R)(this.imagePreviewWrapper.nativeElement,"mousedown").pipe((0,x.R)(this.destroy$)).subscribe(()=>{this.isDragging=!0})})}setImages(e,i){i&&(this.scaleStepMap=i),this.images=e,this.cdr.markForCheck()}switchTo(e){this.index=e,this.cdr.markForCheck()}next(){this.index<this.images.length-1&&(this.reset(),this.index++,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.cdr.markForCheck())}prev(){this.index>0&&(this.reset(),this.index--,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.cdr.markForCheck())}markForCheck(){this.cdr.markForCheck()}onClose(){this.closeClick.emit()}onZoomIn(){const e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom+=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.position={...lt}}onZoomOut(){if(this.zoom>1){const e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom-=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.position={...lt}}}onRotateRight(){this.rotate+=90,this.updatePreviewImageTransform()}onRotateLeft(){this.rotate-=90,this.updatePreviewImageTransform()}onSwitchLeft(e){e.preventDefault(),e.stopPropagation(),this.prev()}onSwitchRight(e){e.preventDefault(),e.stopPropagation(),this.next()}onAnimationStart(e){"enter"===e.toState?this.setEnterAnimationClass():"leave"===e.toState&&this.setLeaveAnimationClass(),this.animationStateChanged.emit(e)}onAnimationDone(e){"enter"===e.toState?this.setEnterAnimationClass():"leave"===e.toState&&this.setLeaveAnimationClass(),this.animationStateChanged.emit(e)}startLeaveAnimation(){this.animationState="leave",this.cdr.markForCheck()}onDragReleased(){this.isDragging=!1;const e=this.imageRef.nativeElement.offsetWidth*this.zoom,i=this.imageRef.nativeElement.offsetHeight*this.zoom,{left:s,top:r}=function Pn(n){const o=n.getBoundingClientRect(),e=document.documentElement;return{left:o.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||document.body.clientLeft||0),top:o.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||document.body.clientTop||0)}}(this.imageRef.nativeElement),{width:a,height:l}=function An(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}(),d=this.rotate%180!=0,m=function En(n){let o={};return n.width<=n.clientWidth&&n.height<=n.clientHeight&&(o={x:0,y:0}),(n.width>n.clientWidth||n.height>n.clientHeight)&&(o={x:ve(n.left,n.width,n.clientWidth),y:ve(n.top,n.height,n.clientHeight)}),o}({width:d?i:e,height:d?e:i,left:s,top:r,clientWidth:a,clientHeight:l});((0,B.DX)(m.x)||(0,B.DX)(m.y))&&(this.position={...this.position,...m})}sanitizerResourceUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}updatePreviewImageTransform(){this.previewImageTransform=`scale3d(${this.zoom}, ${this.zoom}, 1) rotate(${this.rotate}deg)`}updatePreviewImageWrapperTransform(){this.previewImageWrapperTransform=`translate3d(${this.position.x}px, ${this.position.y}px, 0)`}updateZoomOutDisabled(){this.zoomOutDisabled=this.zoom<=1}setEnterAnimationClass(){if(this.animationDisabled)return;const e=this.overlayRef.backdropElement;e&&(e.classList.add("ant-fade-enter"),e.classList.add("ant-fade-enter-active"))}setLeaveAnimationClass(){if(this.animationDisabled)return;const e=this.overlayRef.backdropElement;e&&(e.classList.add("ant-fade-leave"),e.classList.add("ant-fade-leave-active"))}reset(){this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.position={...lt}}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Z.jY),t.Y36(Ct),t.Y36(rt.Iu),t.Y36(fe.kn),t.Y36(vn.H7))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["nz-image-preview"]],viewQuery:function(i,s){if(1&i&&(t.Gf(yn,5),t.Gf(Cn,7)),2&i){let r;t.iGM(r=t.CRH())&&(s.imageRef=r.first),t.iGM(r=t.CRH())&&(s.imagePreviewWrapper=r.first)}},hostAttrs:["tabindex","-1","role","document",1,"ant-image-preview-wrap"],hostVars:6,hostBindings:function(i,s){1&i&&t.WFA("@fadeMotion.start",function(a){return s.onAnimationStart(a)})("@fadeMotion.done",function(a){return s.onAnimationDone(a)}),2&i&&(t.d8E("@.disabled",s.config.nzNoAnimation)("@fadeMotion",s.animationState),t.Udp("z-index",s.config.nzZIndex),t.ekj("ant-image-preview-moving",s.isDragging))},exportAs:["nzImagePreview"],standalone:!0,features:[t._Bn([fe.kn]),t.jDz],decls:11,vars:6,consts:[[1,"ant-image-preview"],["tabindex","0","aria-hidden","true",2,"width","0","height","0","overflow","hidden","outline","none"],[1,"ant-image-preview-content"],[1,"ant-image-preview-body"],[1,"ant-image-preview-operations"],["class","ant-image-preview-operations-operation",3,"ant-image-preview-operations-operation-disabled","click",4,"ngFor","ngForOf"],["cdkDrag","",1,"ant-image-preview-img-wrapper",3,"cdkDragFreeDragPosition","cdkDragReleased"],["imagePreviewWrapper",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ant-image-preview-operations-operation",3,"click"],["nz-icon","","nzTheme","outline",1,"ant-image-preview-operations-icon",3,"nzType"],["cdkDragHandle","","class","ant-image-preview-img",3,"width","height","transform",4,"ngIf"],["cdkDragHandle","",1,"ant-image-preview-img"],["imgRef",""],[1,"ant-image-preview-switch-left",3,"click"],["nz-icon","","nzType","left","nzTheme","outline"],[1,"ant-image-preview-switch-right",3,"click"],["nz-icon","","nzType","right","nzTheme","outline"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"ul",4),t.YNc(5,Tn,2,3,"li",5),t.qZA(),t.TgZ(6,"div",6,7),t.NdJ("cdkDragReleased",function(){return s.onDragReleased()}),t.YNc(8,xn,2,1,"ng-container",8),t.qZA(),t.YNc(9,Sn,5,4,"ng-container",9),t.qZA()(),t._UZ(10,"div",1),t.qZA()),2&i&&(t.xp6(5),t.Q6J("ngForOf",s.operations),t.xp6(1),t.Udp("transform",s.previewImageWrapperTransform),t.Q6J("cdkDragFreeDragPosition",s.position),t.xp6(2),t.Q6J("ngForOf",s.images),t.xp6(1),t.Q6J("ngIf",s.images.length>1))},dependencies:[h.sg,A.PV,A.Ls,vt,zt,h.O5],encapsulation:2,data:{animation:[bn.MC]},changeDetection:0})}return n})();class Fn{constructor(o,e,i){this.previewInstance=o,this.config=e,this.overlayRef=i,this.destroy$=new _.x,i.keydownEvents().pipe((0,Bt.h)(s=>this.config.nzKeyboard&&(s.keyCode===M.hY||s.keyCode===M.oh||s.keyCode===M.SV)&&!(0,M.Vb)(s))).subscribe(s=>{s.preventDefault(),s.keyCode===M.hY&&this.close(),s.keyCode===M.oh&&this.prev(),s.keyCode===M.SV&&this.next()}),i.detachments().subscribe(()=>{this.overlayRef.dispose()}),o.containerClick.pipe((0,Q.q)(1),(0,x.R)(this.destroy$)).subscribe(()=>{this.close()}),o.closeClick.pipe((0,Q.q)(1),(0,x.R)(this.destroy$)).subscribe(()=>{this.close()}),o.animationStateChanged.pipe((0,Bt.h)(s=>"done"===s.phaseName&&"leave"===s.toState),(0,Q.q)(1)).subscribe(()=>{this.dispose()})}switchTo(o){this.previewInstance.switchTo(o)}next(){this.previewInstance.next()}prev(){this.previewInstance.prev()}close(){this.previewInstance.startLeaveAnimation()}dispose(){this.destroy$.next(),this.overlayRef.dispose()}}let ye=(()=>{class n{constructor(e,i,s,r){this.overlay=e,this.injector=i,this.nzConfigService=s,this.directionality=r}preview(e,i,s){return this.display(e,i,s)}display(e,i,s){const r={...new Ct,...i??{}},a=this.createOverlay(r),l=this.attachPreviewComponent(a,r);l.setImages(e,s);const d=new Fn(l,r,a);return l.previewRef=d,d}attachPreviewComponent(e,i){const s=t.zs3.create({parent:this.injector,providers:[{provide:rt.Iu,useValue:e},{provide:Ct,useValue:i}]}),r=new zn.C5(ze,null,s);return e.attach(r).instance}createOverlay(e){const i=this.nzConfigService.getConfigForComponent("image")||{},s=new rt.X_({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:e.nzCloseOnNavigation??i.nzCloseOnNavigation??!0,backdropClass:"ant-image-preview-mask",direction:e.nzDirection||i.nzDirection||this.directionality.value});return this.overlay.create(s)}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(rt.aV),t.LFG(t.zs3),t.LFG(Z.jY),t.LFG(Y.Is,8))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})(),Rn=(()=>{class n{constructor(){this.nzScaleStep=null,this.images=[]}addImage(e){this.images.push(e)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["nz-image-group"]],inputs:{nzScaleStep:"nzScaleStep"},exportAs:["nzImageGroup"],standalone:!0,features:[t.jDz],ngContentSelectors:wn,decls:1,vars:0,template:function(i,s){1&i&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0})}return n})(),On=(()=>{class n{get previewable(){return!this.nzDisablePreview&&"error"!==this.status}constructor(e,i,s,r,a,l,d){this.document=e,this.nzConfigService=i,this.elementRef=s,this.nzImageService=r,this.cdr=a,this.parentGroup=l,this.directionality=d,this._nzModuleName="image",this.nzSrc="",this.nzSrcset="",this.nzDisablePreview=!1,this.nzFallback=null,this.nzPlaceholder=null,this.nzScaleStep=null,this.status="normal",this.backLoadDestroy$=new _.x,this.destroy$=new _.x}ngOnInit(){this.backLoad(),this.parentGroup&&this.parentGroup.addImage(this),this.directionality&&(this.directionality.change?.pipe((0,x.R)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPreview(){if(this.previewable)if(this.parentGroup){const e=this.parentGroup.images.filter(l=>l.previewable),i=e.map(l=>({src:l.nzSrc,srcset:l.nzSrcset})),s=e.findIndex(l=>this===l),r=new Map;e.forEach(l=>{r.set(l.nzSrc??l.nzSrcset,l.nzScaleStep??this.parentGroup.nzScaleStep??this.nzScaleStep??.5)}),this.nzImageService.preview(i,{nzDirection:this.dir},r).switchTo(s)}else this.nzImageService.preview([{src:this.nzSrc,srcset:this.nzSrcset}],{nzDirection:this.dir,nzScaleStep:this.nzScaleStep??.5})}getElement(){return this.elementRef}ngOnChanges(e){const{nzSrc:i}=e;i&&(this.getElement().nativeElement.src=i.currentValue,this.backLoad())}backLoad(){this.backLoadImage=this.document.createElement("img"),this.backLoadImage.src=this.nzSrc,this.backLoadImage.srcset=this.nzSrcset,this.status="loading",this.backLoadDestroy$.next(),this.backLoadDestroy$.complete(),this.backLoadDestroy$=new _.x,this.backLoadImage.complete?(this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset):(this.nzPlaceholder?(this.getElement().nativeElement.src=this.nzPlaceholder,this.getElement().nativeElement.srcset=""):(this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset),(0,et.R)(this.backLoadImage,"load").pipe((0,x.R)(this.backLoadDestroy$),(0,x.R)(this.destroy$)).subscribe(()=>{this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset}),(0,et.R)(this.backLoadImage,"error").pipe((0,x.R)(this.backLoadDestroy$),(0,x.R)(this.destroy$)).subscribe(()=>{this.status="error",this.nzFallback&&(this.getElement().nativeElement.src=this.nzFallback,this.getElement().nativeElement.srcset="")}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h.K0),t.Y36(Z.jY),t.Y36(t.SBq),t.Y36(ye),t.Y36(t.sBO),t.Y36(Rn,8),t.Y36(Y.Is,8))};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["img","nz-image",""]],hostBindings:function(i,s){1&i&&t.NdJ("click",function(){return s.onPreview()})},inputs:{nzSrc:"nzSrc",nzSrcset:"nzSrcset",nzDisablePreview:"nzDisablePreview",nzFallback:"nzFallback",nzPlaceholder:"nzPlaceholder",nzScaleStep:"nzScaleStep"},exportAs:["nzImage"],standalone:!0,features:[t.TTD]})}return(0,R.gn)([(0,B.yF)(),(0,Z.oS)()],n.prototype,"nzDisablePreview",void 0),(0,R.gn)([(0,Z.oS)()],n.prototype,"nzFallback",void 0),(0,R.gn)([(0,Z.oS)()],n.prototype,"nzPlaceholder",void 0),(0,R.gn)([(0,Z.oS)()],n.prototype,"nzScaleStep",void 0),n})(),Nn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({providers:[ye],imports:[ze]})}return n})();var Ln=c(855),Hn=c(1958);function Un(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"nz-input-group",12)(1,"input",13),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.queryName=s)}),t.qZA()()}if(2&n){const e=t.oxw(),i=t.MAs(3);t.Q6J("nzAddOnAfter",i),t.xp6(1),t.Q6J("ngModel",e.queryName)}}function Jn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.search())}),t._uU(1,"\u8df3\u8f6c"),t.qZA()}}function Yn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.handleUpload())}),t._UZ(1,"i",16),t._uU(2,"\u4e0a\u4f20 "),t.qZA()}}function Bn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.load())}),t._UZ(1,"i",17),t._uU(2," \u5237\u65b0 "),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("nzSpin",e.loading)}}function Qn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.handlePre())}),t._UZ(1,"span",20),t._uU(2," \u8fd4\u56de\u4e0a\u4e00\u7ea7\u76ee\u5f55 "),t.qZA()}}function qn(n,o){1&n&&(t.ynx(0),t.YNc(1,Qn,3,0,"button",18),t.BQk())}function Gn(n,o){1&n&&t._uU(0),2&n&&t.hij("\u603b\u5171 ",o.$implicit," \u6761")}function $n(n,o){1&n&&t._UZ(0,"img",29)}function Vn(n,o){if(1&n&&t._UZ(0,"img",34),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.Q6J("nzSrc",i.handleSrc(e.name))}}function jn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"video",35),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.handleOpenLink(s.name))}),t.qZA()}if(2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.Q6J("src",i.handleSrc(e.name),t.LSH)}}function Xn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"img",35),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.handleOpenLink(s.name))}),t.qZA()}if(2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.Q6J("src","/assets/attach_icon/"+i.getMatched(e.mime)+".svg",t.LSH)}}function Kn(n,o){if(1&n&&(t.TgZ(0,"div",30),t.YNc(1,Vn,1,1,"img",31)(2,jn,1,1,"video",32)(3,Xn,1,1,"img",33),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("ngSwitch",i.getMatched(e.mime)),t.xp6(1),t.Q6J("ngSwitchCase","image"),t.xp6(1),t.Q6J("ngSwitchCase","video")}}function Wn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"span")(1,"a",36),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.handleRedictTo(s.name))}),t._uU(2),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.name)}}function ts(n,o){if(1&n&&t._uU(0),2&n){const e=t.oxw().$implicit;t.Oqu(e.name)}}function es(n,o){if(1&n){const e=t.EpF();t._UZ(0,"nz-divider",26),t.TgZ(1,"a",27),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.handleCopy(s.name))}),t._uU(2," \u590d\u5236\u94fe\u63a5 "),t.qZA(),t._UZ(3,"nz-divider",26),t.TgZ(4,"a",27),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.handleDownLoad(s.name))}),t._uU(5," \u4e0b\u8f7d "),t.qZA()}}function is(n,o){if(1&n){const e=t.EpF();t._UZ(0,"nz-divider",26),t.TgZ(1,"a",27),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.handleSelect(s.name))}),t._uU(2," \u9009\u62e9"),t.qZA()}}function ns(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t.YNc(2,$n,1,0,"img",21)(3,Kn,4,3,"ng-template",null,22,t.W1O),t.qZA(),t.TgZ(5,"td"),t.YNc(6,Wn,3,1,"span",23)(7,ts,1,1,"ng-template",null,24,t.W1O),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td")(15,"a",25),t.NdJ("nzOnConfirm",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.delete(r.name))})("nzOnCancel",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.cancel())}),t._uU(16," \u5220\u9664 "),t.qZA(),t._UZ(17,"nz-divider",26),t.TgZ(18,"a",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.handleRename(r.name))}),t._uU(19," \u91cd\u547d\u540d "),t.qZA(),t.YNc(20,es,6,0,"ng-template",28)(21,is,3,0,"ng-template",28),t.qZA()()}if(2&n){const e=o.$implicit,i=t.MAs(4),s=t.MAs(8),r=t.oxw();t.xp6(2),t.Q6J("ngIf",e.folder)("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",e.folder)("ngIfElse",s),t.xp6(4),t.Oqu(e.mime||"\u6587\u4ef6\u5939"),t.xp6(2),t.Oqu(t.lcZ(13,8,e.time)),t.xp6(8),t.Q6J("ngIf",!e.folder),t.xp6(1),t.Q6J("ngIf",!e.folder&&r.fromIframe)}}let ss=(()=>{class n{constructor(e,i,s,r){this.rs=e,this.modal=i,this.msg=s,this.viewContainerRef=r,this.loading=!1,this.inputValue="",this.queryName="",this.datum=[],this.total=1,this.pageSize=20,this.pageIndex=1,this.query={},this.fromIframe=!0,this.load()}load(){this.loading=!0,this.rs.get("attach/list",{}).subscribe(e=>{const{data:i,total:s}=e;this.datum=i||[],this.total=s||0}).add(()=>{this.loading=!1})}delete(e,i){this.rs.get(`attach/remove/${this.queryName}/${e}`).subscribe(s=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.load()})}cancel(){}search(){this.query.keyword={},this.query.skip=0,this.datum=[],this.inputValue=this.queryName,this.load()}handleRedictTo(e){this.queryName=this.queryName?`${this.queryName}/${e}`:e,this.search()}handleUpload(){this.modal.create({nzTitle:"\u4e0a\u4f20\u6587\u4ef6",nzContent:qi,nzViewContainerRef:this.viewContainerRef,nzData:{inputValue:this.queryName},nzFooter:null,nzOnCancel:({isSuccess:e})=>{e&&this.load()}})}handleRename(e){const i=this.modal.create({nzTitle:"\u91cd\u547d\u540d",nzContent:Qi,nzData:{currentName:e},nzViewContainerRef:this.viewContainerRef,nzFooter:[{label:"\u53d6\u6d88",onClick:()=>i.destroy()},{label:"\u4fdd\u5b58",type:"primary",onClick:()=>{const s=i.getContentComponent();this.rs.post(`attach/rename/${this.queryName?this.queryName+"/":""}${e}`,{name:s.name}).subscribe(r=>{this.msg.success("\u4fdd\u5b58\u6210\u529f"),i.destroy(),this.load()})}}]})}handleSrc(e){return`/attach/${this.inputValue?`${this.inputValue}/`:""}${e}`}handleOpenLink(e){window.open(this.handleSrc(e))}getMatched(e){const i=e.match(/image|video|word|powerpoint|excel|text|zip|pdf|html|flash|exe|xml|psd/g);return i?i[0]:"unknown"}handleCopy(e){const i=this.handleSrc(e);this.msg.success("\u590d\u5236\u6210\u529f");const s=document.createElement("input");s.value=i,s.setAttribute("readonly",""),document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}handlePre(){const e=this.queryName.split("/");e.pop(),this.queryName=e.join("/"),this.search()}handleDownLoad(e){const i=document.createElement("a"),s=new MouseEvent("click");i.download=e,i.href=this.handleSrc(e),i.dispatchEvent(s)}handleSelect(e){const i=this.handleSrc(e);console.log("\u{1f680} ~ file: attachment.component.ts:145 ~ AttachmentComponent ~ handleSelect ~ url:",i),window.top?.postMessage(i)}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(f.s),t.Y36(K.Sf),t.Y36(v.dD),t.Y36(t.s_b))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-attach"]],standalone:!0,features:[t.jDz],decls:25,vars:9,consts:[["nzSearch","",3,"nzAddOnAfter",4,"nzSpaceItem"],["suffixButton",""],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],[4,"ngIf"],["totalTemplate",""],["nzShowPagination","","nzShowSizeChanger","",3,"nzData","nzLoading","nzTotal","nzShowTotal","nzPageSize","nzPageIndex"],["basicTable",""],["nzColumnKey","pre"],["nzColumnKey","name"],["nzColumnKey","mime"],["nzColumnKey","time",3,"nzSortFn"],[4,"ngFor","ngForOf"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","","placeholder","\u5f53\u524d\u6240\u5904\u6587\u4ef6\u5939",3,"ngModel","ngModelChange"],["nz-button","","nzType","primary","nzSearch","",3,"click"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["nz-icon","","nzType","reload",3,"nzSpin"],["nz-button","",3,"click",4,"nzSpaceItem"],["nz-button","",3,"click"],["nz-icon","","nzType","rollback","nzTheme","outline"],["width","40px","src","/assets/fold.svg","alt","logo",4,"ngIf","ngIfElse"],["tpw",""],[4,"ngIf","ngIfElse"],["tpl",""],["nz-popconfirm","","nzPopconfirmTitle","\u786e\u5b9a\u5220\u9664?","nzPopconfirmPlacement","topLeft",3,"nzOnConfirm","nzOnCancel"],["nzType","vertical"],[3,"click"],[3,"ngIf"],["width","40px","src","/assets/fold.svg","alt","logo"],[3,"ngSwitch"],["nz-image","","width","50px",3,"nzSrc",4,"ngSwitchCase"],["width","50px",3,"src","click",4,"ngSwitchCase"],["width","50px",3,"src","click",4,"ngSwitchDefault"],["nz-image","","width","50px",3,"nzSrc"],["width","50px",3,"src","click"],["href","javascript:;",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-space"),t.YNc(1,Un,2,2,"nz-input-group",0)(2,Jn,2,0,"ng-template",null,1,t.W1O)(4,Yn,3,0,"button",2)(5,Bn,3,1,"button",2)(6,qn,2,0,"ng-container",3),t.qZA(),t.YNc(7,Gn,1,1,"ng-template",null,4,t.W1O),t.TgZ(9,"nz-table",5,6)(11,"thead")(12,"tr")(13,"th",7),t._uU(14,"\u9884\u89c8"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"\u540d\u79f0"),t.qZA(),t.TgZ(17,"th",9),t._uU(18,"\u7c7b\u578b"),t.qZA(),t.TgZ(19,"th",10),t._uU(20,"\u65e5\u671f"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"\u64cd\u4f5c"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,ns,22,10,"tr",11),t.qZA()()),2&i){const r=t.MAs(8),a=t.MAs(10);t.xp6(6),t.Q6J("ngIf",s.inputValue),t.xp6(3),t.Q6J("nzData",s.datum)("nzLoading",s.loading)("nzTotal",s.total)("nzShowTotal",r)("nzPageSize",s.pageSize)("nzPageIndex",s.pageIndex),t.xp6(10),t.Q6J("nzSortFn",!0),t.xp6(5),t.Q6J("ngForOf",a.data)}},dependencies:[Nn,On,F._p,F.JW,K.Qp,C.sL,C.ix,Ln.w,Hn.dQ,h.ez,h.sg,h.O5,h.RF,h.n9,h.ED,h.uU,A.PV,A.Ls,ji.j,b.HQ,b.N8,b.qD,b.Uo,b._C,b.Om,b.p0,b.$Z,tt.cS,Vi,Jt,u.u5,u.Fj,u.JJ,u.On,Yt.m,P.o7,P.Zp,P.gB,S.zf,S.NU,S.$1]})}return n})();var os=c(2683),rs=c(6942),as=c(3898),ls=c(4215),j=c(5387),D=c(9382),cs=c(8373),Ce=c(5067);function ds(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.Add())}),t._UZ(1,"i",8),t._uU(2," \u6dfb\u52a0 "),t.qZA()}}function ps(n,o){if(1&n&&t.YNc(0,ds,3,0,"button",6),2&n){const e=t.oxw();t.Q6J("ngIf",e.showAdd)}}function hs(n,o){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.label)}}function us(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"nz-input-number",20),t.NdJ("nzBlur",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.change())}),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("formControlName",e.key)("nzPlaceHolder",e.placeholder)}}function ms(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"nz-select",21),t.NdJ("change",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.change())}),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("formControlName",e.key)("nzPlaceHolder",e.placeholder)("nzOptions",e.options)}}function gs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"nz-switch",22),t.NdJ("change",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.change())}),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("formControlName",e.key)}}function _s(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"nz-color-picker",23),t.NdJ("change",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.change())}),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("formControlName",e.key)}}function fs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",24),t.NdJ("blur",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.change())}),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("placeholder",e.placeholder||"")("formControlName",e.key)}}function bs(n,o){if(1&n&&(t.TgZ(0,"td"),t.ynx(1,14),t.YNc(2,us,1,2,"nz-input-number",15)(3,ms,1,3,"nz-select",16)(4,gs,1,1,"nz-switch",17)(5,_s,1,1,"nz-color-picker",18)(6,fs,1,2,"input",19),t.BQk(),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngSwitch",e.type),t.xp6(1),t.Q6J("ngSwitchCase","number"),t.xp6(1),t.Q6J("ngSwitchCase","select"),t.xp6(1),t.Q6J("ngSwitchCase","switch"),t.xp6(1),t.Q6J("ngSwitchCase","color")}}function vs(n,o){1&n&&(t.TgZ(0,"a",25),t._UZ(1,"i",26),t.qZA())}function zs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"a",27),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,r=t.oxw();return t.KtG(r.copy(s))}),t._UZ(1,"i",28),t.qZA()}}function ys(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"a",29),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().index,r=t.oxw();return t.KtG(r.del(s))}),t._UZ(1,"i",30),t.qZA()}}function Cs(n,o){if(1&n&&(t.TgZ(0,"tr",9),t.YNc(1,bs,7,5,"td",3),t.TgZ(2,"td",10)(3,"nz-space"),t.YNc(4,vs,2,0,"a",11)(5,zs,2,0,"a",12)(6,ys,2,0,"a",13),t.qZA()()()),2&n){const e=o.index,i=t.oxw();t.Q6J("formGroupName",e),t.xp6(1),t.Q6J("ngForOf",i._columns)}}const Ts=["*"];let Ds=(()=>{class n{set columns(e){const i={};e.forEach(s=>{i[s.key]=s.default}),this.row=i,this._columns=e}constructor(e,i){this.msg=e,this.fb=i,this.row={},this._columns=[],this.title="",this.showAdd=!0,this.onChanged=()=>{},this.onTouched=()=>{}}ngOnInit(){this.formArray=this.fb.array([]),this.group=this.fb.group({array:this.formArray})}writeValue(e){const i=JSON.parse(JSON.stringify(this.row));e&&e.length&&e.forEach(s=>{const r=this.fb.group(Object.assign(i,s));this.formArray.push(r)})}registerOnChange(e){this.onChanged=e}registerOnTouched(e){this.onTouched=e}change(){const e=this.formArray.controls.map(i=>i.value);this.onChanged(e)}copy(e){this.formArray.insert(e,this.fb.group(this.formArray.controls[e].value)),this.msg.success("\u590d\u5236\u6210\u529f"),this.change()}del(e){this.formArray.removeAt(e),this.change()}drop(e){re(this.formArray.controls,e.previousIndex,e.currentIndex),this.change()}Add(){this.formArray.push(this.fb.group(this.row))}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(v.dD),t.Y36(u.qu))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["im-smart-table-edit"]],inputs:{title:"title",showAdd:"showAdd",columns:"columns"},standalone:!0,features:[t._Bn([{provide:u.JU,useExisting:(0,t.Gpc)(()=>n),multi:!0}]),t.jDz],ngContentSelectors:Ts,decls:12,vars:5,consts:[["extra",""],[3,"nzTitle","nzExtra"],["nzSize","small","nzTemplateMode","",3,"formGroup"],[4,"ngFor","ngForOf"],["cdkDropList","","formArrayName","array",3,"cdkDropListDropped"],["cdkDrag","",3,"formGroupName",4,"ngFor","ngForOf"],["type","button","nz-button","","nzType","primary",3,"click",4,"ngIf"],["type","button","nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["cdkDrag","",3,"formGroupName"],[1,"operators"],["title","\u6392\u5e8f","style","cursor:move;","cdkDragHandle","",4,"nzSpaceItem"],["title","\u590d\u5236",3,"click",4,"nzSpaceItem"],["title","\u5220\u9664",3,"click",4,"nzSpaceItem"],[3,"ngSwitch"],[3,"formControlName","nzPlaceHolder","nzBlur",4,"ngSwitchCase"],[3,"formControlName","nzPlaceHolder","nzOptions","change",4,"ngSwitchCase"],[3,"formControlName","change",4,"ngSwitchCase"],["nzShowText","",3,"formControlName","change",4,"ngSwitchCase"],["nz-input","",3,"placeholder","formControlName","blur",4,"ngSwitchDefault"],[3,"formControlName","nzPlaceHolder","nzBlur"],[3,"formControlName","nzPlaceHolder","nzOptions","change"],[3,"formControlName","change"],["nzShowText","",3,"formControlName","change"],["nz-input","",3,"placeholder","formControlName","blur"],["title","\u6392\u5e8f","cdkDragHandle","",2,"cursor","move"],["nz-icon","","nzType","drag"],["title","\u590d\u5236",3,"click"],["nz-icon","","nzType","copy"],["title","\u5220\u9664",3,"click"],["nz-icon","","nzType","delete"]],template:function(i,s){if(1&i&&(t.F$t(),t.YNc(0,ps,1,1,"ng-template",null,0,t.W1O),t.Hsn(2),t.TgZ(3,"nz-card",1)(4,"nz-table",2)(5,"thead")(6,"tr"),t.YNc(7,hs,2,1,"th",3),t.TgZ(8,"th"),t._uU(9,"\u64cd\u4f5c"),t.qZA()()(),t.TgZ(10,"tbody",4),t.NdJ("cdkDropListDropped",function(a){return s.drop(a)}),t.YNc(11,Cs,7,2,"tr",5),t.qZA()()()),2&i){const r=t.MAs(1);t.xp6(3),t.Q6J("nzTitle",s.title)("nzExtra",r),t.xp6(1),t.Q6J("formGroup",s.group),t.xp6(3),t.Q6J("ngForOf",s._columns),t.xp6(4),t.Q6J("ngForOf",s.formArray.controls)}},dependencies:[h.ez,h.sg,h.O5,h.RF,h.n9,h.ED,C.ix,A.Ls,b.HQ,b.N8,b.Uo,b._C,b.Om,b.p0,b.$Z,_e,u.u5,u.Fj,u.JJ,u.JL,u.UX,u.sg,u.u,u.x0,u.CE,Lt.Vq,cs._V,S.NU,S.$1,vt,zt,Yt.i,P.Zp,Ce.Zf,Ce.bi,y.bd]})}return n})();var xs=c(2078);let Ss=(()=>{class n{constructor(e,i,s){this.fb=e,this.rs=i,this.ms=s,this.properties=[],this.items=[{label:"\u53d8\u91cf",key:"name"},{label:"\u663e\u793a\u540d\u79f0",key:"label"},{label:"\u7c7b\u578b",key:"type",type:"select",default:"int",options:[{label:"\u6574\u6570",value:"int"},{label:"\u6d6e\u70b9\u6570",value:"float"},{label:"\u5e03\u5c14\u578b",value:"bool"},{label:"\u5b57\u7b26\u4e32",value:"text"}]},{label:"\u5355\u4f4d",key:"unit"},{label:"\u6a21\u5f0f",key:"mode",type:"select",default:"r",options:[{label:"\u53ea\u8bfb",value:"r"},{label:"\u8bfb\u5199",value:"rw"}]}],this.build()}ngOnInit(){this.rs.get(`product/${this.product_id}/version/${this.version}/config/property`).subscribe(e=>{this.properties=e.data,this.build()})}build(){this.group=this.fb.group({properties:[this.properties||[],[]]})}onSubmit(){this.rs.post(`product/${this.product_id}/version/${this.version}/config/property`,this.group.value.properties).subscribe(i=>{this.ms.success("\u63d0\u793a","\u4fdd\u5b58\u6210\u529f")})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(u.qu),t.Y36(f.s),t.Y36(xs.zb))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-version-property-edit"]],inputs:{product_id:"product_id",version:"version"},standalone:!0,features:[t.jDz],decls:4,vars:2,consts:[["nz-form","",3,"formGroup"],["title","\u5c5e\u6027","formControlName","properties",3,"columns"],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){1&i&&(t.TgZ(0,"form",0)(1,"im-smart-table-edit",1)(2,"button",2),t.NdJ("click",function(){return s.onSubmit()}),t._uU(3,"\u4fdd\u5b58"),t.qZA()()()),2&i&&(t.Q6J("formGroup",s.group),t.xp6(1),t.Q6J("columns",s.items))},dependencies:[u.u5,u._Y,u.JJ,u.JL,C.ix,H.Lr,b.HQ,u.UX,u.sg,u.u,Ds]})}return n})(),ws=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-version-event-edit"]],inputs:{product_id:"product_id",version:"version"},standalone:!0,features:[t.jDz],decls:2,vars:0,template:function(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"product-edit-event works!"),t.qZA())}})}return n})(),ks=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-version-action-edit"]],inputs:{product_id:"product_id",version:"version"},standalone:!0,features:[t.jDz],decls:2,vars:0,template:function(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1,"product-edit-action works!"),t.qZA())}})}return n})();function Es(n,o){if(1&n&&t._UZ(0,"app-version-property-edit",7),2&n){const e=t.oxw();t.Q6J("product_id",e.id)("version",e.version)}}function Ps(n,o){if(1&n&&t._UZ(0,"app-version-event-edit",7),2&n){const e=t.oxw();t.Q6J("product_id",e.id)("version",e.version)}}function As(n,o){if(1&n&&t._UZ(0,"app-version-action-edit",7),2&n){const e=t.oxw();t.Q6J("product_id",e.id)("version",e.version)}}function Zs(n,o){if(1&n&&t._UZ(0,"app-web-view",9),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("url",e.url+"?product="+i.id)}}function Is(n,o){1&n&&(t.TgZ(0,"nz-tab",8),t.YNc(1,Zs,1,1,"ng-template",3),t.qZA()),2&n&&t.Q6J("nzTitle",o.$implicit.name)}let Fs=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.value="",this.data={},this.fields=[{label:"ID",key:"id"},{label:"\u540d\u79f0",key:"name"},{label:"\u5173\u952e\u5b57",key:"keywords",type:"tags"},{label:"\u521b\u5efa\u65f6\u95f4",key:"created",type:"date"},{label:"\u8bf4\u660e",key:"description",span:2}],this.plugins=[]}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load()),this.route.snapshot.paramMap.has("version")&&(this.version=this.route.snapshot.paramMap.get("version"))}load(){this.rs.get(`product/${this.id}`,{}).subscribe(e=>{this.data=e.data})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-version-edit"]],standalone:!0,features:[t.jDz],decls:10,vars:3,consts:[["nzTitle","\u4ea7\u54c1\u7248\u672c\u7f16\u8f91"],[3,"fields","value"],["nzTitle","\u4ea7\u54c1\u5c5e\u6027"],["nz-tab",""],["nzTitle","\u4ea7\u54c1\u4e8b\u4ef6","nzDisabled",""],["nzTitle","\u4ea7\u54c1\u52a8\u4f5c","nzDisabled",""],[3,"nzTitle",4,"ngFor","ngForOf"],[3,"product_id","version"],[3,"nzTitle"],[3,"url"]],template:function(i,s){1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-info",1),t.TgZ(2,"nz-tabset")(3,"nz-tab",2),t.YNc(4,Es,1,2,"ng-template",3),t.qZA(),t.TgZ(5,"nz-tab",4),t.YNc(6,Ps,1,2,"ng-template",3),t.qZA(),t.TgZ(7,"nz-tab",5),t.YNc(8,As,1,2,"ng-template",3),t.qZA(),t.YNc(9,Is,2,1,"nz-tab",6),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("fields",s.fields)("value",s.data),t.xp6(8),t.Q6J("ngForOf",s.plugins))},dependencies:[h.ez,h.sg,j.E,y.bd,D.we,D.xH,D.xw,D.cj,St.c,Ss,ws,ks]})}return n})();var ct=c(8517);let Rs=(()=>{class n{constructor(e){this.rs=e,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/server/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:i=>`/admin/server/${i.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"port",sortable:!0,label:"\u7aef\u53e3",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:i=>`/admin/server/${i.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:i=>{this.rs.get(`server/${i.id}/delete`).subscribe(s=>this.refresh())}}]}refresh(){this.search(this.query)}search(e){this.query=e,this.loading=!0,this.rs.post("server/search",e).subscribe(i=>{this.datum=i.data,this.total=i.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(f.s))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-server"]],standalone:!0,features:[t.jDz],decls:1,vars:6,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(i,s){1&i&&(t.TgZ(0,"im-smart-table",0),t.NdJ("query",function(a){return s.search(a)}),t.qZA()),2&i&&t.Q6J("buttons",s.buttons)("columns",s.columns)("operators",s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[h.ez,ct.L]})}return n})();const Ms=["form"];function Os(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let Te=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u670d\u52a1\u7aef"},{key:"port",label:"\u7aef\u53e3",type:"number",min:1,max:65535},{key:"poller_period",label:"\u91c7\u96c6\u5468\u671f",type:"number",min:0},{key:"poller_interval",label:"\u91c7\u96c6\u95f4\u9694",type:"number",min:0},{key:"protocol_name",label:"\u901a\u8baf\u534f\u8bae",type:"select",options:[{label:"Modbus RTU",value:"modbus-rtu"},{label:"Modbus TCP",value:"modbus-tcp"}]},{key:"description",label:"\u8bf4\u660e",type:"textarea"}],this.values={}}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.rs.get("server/"+this.id).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post(`server/${this.id||"create"}`,this.form.Value()).subscribe(i=>{this.router.navigateByUrl("/admin/server/"+i.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-server-edit"]],viewQuery:function(i,s){if(1&i&&t.Gf(Ms,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:5,vars:4,consts:[[3,"nzTitle","nzExtra"],[3,"fields","value"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.qZA(),t.YNc(3,Os,2,0,"ng-template",null,3,t.W1O)),2&i){const r=t.MAs(4);t.Q6J("nzTitle","\u670d\u52a1\u5668"+(s.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values)}},dependencies:[h.ez,C.ix,y.bd,E.m]})}return n})(),De=(()=>{class n{constructor(e){this.rs=e,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/link/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:i=>`/admin/link/${i.id}`},{key:"server",sortable:!0,label:"\u670d\u52a1\u5668",keyword:!0,link:i=>`/admin/server/${i.server_id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"remote",sortable:!0,label:"\u8fdc\u7a0b\u5730\u5740",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:i=>`/link/${i.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:i=>{this.rs.get(`link/${i.id}/delete`).subscribe(s=>this.refresh())}}]}refresh(){this.search(this.query)}search(e){this.query=e,this.server_id&&(e.filter.server_id=this.server_id),this.loading=!0,this.rs.post("link/search",e).subscribe(i=>{this.datum=i.data,this.total=i.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(f.s))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-link"]],inputs:{server_id:"server_id"},standalone:!0,features:[t.jDz],decls:1,vars:6,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(i,s){1&i&&(t.TgZ(0,"im-smart-table",0),t.NdJ("query",function(a){return s.search(a)}),t.qZA()),2&i&&t.Q6J("buttons",s.buttons)("columns",s.columns)("operators",s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[h.ez,ct.L]})}return n})();function Ns(n,o){}function Ls(n,o){1&n&&(t.TgZ(0,"button",10),t._uU(1,"\u7f16\u8f91"),t.qZA())}function Hs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("nzOnConfirm",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.delete())}),t._uU(1,"\u5220\u9664"),t.qZA()}}function Us(n,o){1&n&&(t.TgZ(0,"nz-space"),t.YNc(1,Ls,2,0,"button",8)(2,Hs,2,0,"button",9),t.qZA())}let Js=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.data={},this.fields=[{key:"id",label:"ID"},{key:"name",label:"\u540d\u79f0"},{key:"port",label:"\u7aef\u53e3"},{key:"disabled",label:"\u7981\u7528"},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",type:"date"},{key:"poller_period",label:"\u91c7\u96c6\u5468\u671f"},{key:"poller_interval",label:"\u91c7\u96c6\u95f4\u9694"},{key:"protocol_name",label:"\u901a\u8baf\u534f\u8bae"},{key:"description",label:"\u8bf4\u660e",span:2}]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.load()}load(){this.rs.get(`server/${this.id}`).subscribe(e=>{this.data=e.data})}delete(){this.rs.get(`server/${this.id}/delete`,{}).subscribe(e=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl("/admin/server")})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-server-detail"]],standalone:!0,features:[t.jDz],decls:9,vars:4,consts:[["nzTitle","\u670d\u52a1\u5668\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzType","line"],["nzTitle","\u8fde\u63a5"],[3,"server_id"],["nzTitle","\u65e5\u5fd7"],["nz-tab",""],["extra",""],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-info",1),t.TgZ(2,"nz-tabset",2)(3,"nz-tab",3),t._UZ(4,"app-link",4),t.qZA(),t.TgZ(5,"nz-tab",5),t.YNc(6,Ns,0,0,"ng-template",6),t.qZA()()(),t.YNc(7,Us,3,0,"ng-template",null,7,t.W1O)),2&i){const r=t.MAs(8);t.Q6J("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.data),t.xp6(3),t.Q6J("server_id",s.id)}},dependencies:[h.ez,D.xH,D.xw,D.cj,y.bd,j.E,S.NU,S.$1,C.ix,g.rH,F.JW,De]})}return n})();const Ys=["form"];function Bs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let xe=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0},{key:"poller_period",label:"\u91c7\u96c6\u5468\u671f",type:"number",min:0},{key:"poller_interval",label:"\u91c7\u96c6\u95f4\u9694",type:"number",min:0},{key:"protocol_name",label:"\u901a\u8baf\u534f\u8bae",type:"select",options:[{label:"Modbus RTU",value:"modbus-rtu"},{label:"Modbus TCP",value:"modbus-tcp"}]},{key:"description",label:"\u8bf4\u660e",type:"textarea"}],this.values={}}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.rs.get("link/"+this.id).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post(`link/${this.id||"create"}`,this.form.Value()).subscribe(i=>{this.router.navigateByUrl("/admin/link/"+i.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-link-edit"]],viewQuery:function(i,s){if(1&i&&t.Gf(Ys,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:5,vars:4,consts:[[3,"nzTitle","nzExtra"],[3,"fields","value"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.qZA(),t.YNc(3,Bs,2,0,"ng-template",null,3,t.W1O)),2&i){const r=t.MAs(4);t.Q6J("nzTitle","\u8fde\u63a5"+(s.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values)}},dependencies:[h.ez,C.ix,y.bd,E.m]})}return n})();function Qs(n,o){}function qs(n,o){1&n&&(t.TgZ(0,"button",9),t._uU(1,"\u7f16\u8f91"),t.qZA())}function Gs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("nzOnConfirm",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.delete())}),t._uU(1,"\u5220\u9664"),t.qZA()}}function $s(n,o){1&n&&(t.TgZ(0,"nz-space"),t.YNc(1,qs,2,0,"button",7)(2,Gs,2,0,"button",8),t.qZA())}let Vs=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.data={},this.fields=[{key:"id",label:"ID"},{key:"server",label:"\u670d\u52a1\u5668",type:"link",link:()=>`/admin/server/${this.data.server_id}`},{key:"name",label:"\u540d\u79f0"},{key:"remote",label:"\u8fdc\u7a0b\u5730\u5740"},{key:"disabled",label:"\u7981\u7528"},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",type:"date"},{key:"poller_period",label:"\u91c7\u96c6\u5468\u671f"},{key:"poller_interval",label:"\u91c7\u96c6\u95f4\u9694"},{key:"protocol_name",label:"\u901a\u8baf\u534f\u8bae"},{key:"description",label:"\u8bf4\u660e",span:2}]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.load()}load(){this.rs.get(`link/${this.id}`).subscribe(e=>{this.data=e.data})}delete(){this.rs.get(`link/${this.id}/delete`,{}).subscribe(e=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl("/admin/link")})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-link-detail"]],standalone:!0,features:[t.jDz],decls:9,vars:4,consts:[["nzTitle","\u8fde\u63a5\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzTitle","\u8bbe\u5907"],[3,"tunnel_id"],["nzTitle","\u65e5\u5fd7"],["nz-tab",""],["extra",""],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-info",1),t.TgZ(2,"nz-tabset")(3,"nz-tab",2),t._UZ(4,"app-devices",3),t.qZA(),t.TgZ(5,"nz-tab",4),t.YNc(6,Qs,0,0,"ng-template",5),t.qZA()()(),t.YNc(7,$s,3,0,"ng-template",null,6,t.W1O)),2&i){const r=t.MAs(8);t.Q6J("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.data),t.xp6(3),t.Q6J("tunnel_id",s.id)}},dependencies:[h.ez,D.xH,D.xw,D.cj,y.bd,j.E,S.NU,S.$1,C.ix,g.rH,F.JW,X.Z]})}return n})(),js=(()=>{class n{constructor(e){this.rs=e,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/serial/create"}],this.columns=[{key:"id",sortable:!0,label:"ID",keyword:!0,link:i=>`/admin/serial/${i.id}`},{key:"name",sortable:!0,label:"\u540d\u79f0",keyword:!0},{key:"port",sortable:!0,label:"\u7aef\u53e3",keyword:!0},{key:"created",sortable:!0,label:"\u521b\u5efa\u65f6\u95f4",date:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:i=>`/admin/serial/${i.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:i=>{this.rs.get(`serial/${i.id}/delete`).subscribe(s=>this.refresh())}}]}refresh(){this.search(this.query)}search(e){this.query=e,this.loading=!0,this.rs.post("serial/search",e).subscribe(i=>{this.datum=i.data,this.total=i.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(f.s))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-serial"]],standalone:!0,features:[t.jDz],decls:1,vars:6,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(i,s){1&i&&(t.TgZ(0,"im-smart-table",0),t.NdJ("query",function(a){return s.search(a)}),t.qZA()),2&i&&t.Q6J("buttons",s.buttons)("columns",s.columns)("operators",s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[h.ez,ct.L]})}return n})();const Xs=["form"];function Ks(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let Se=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.ports=[],this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u4e32\u53e3"},{key:"port",label:"\u7aef\u53e3",type:"select",options:this.ports},{key:"poller_period",label:"\u91c7\u96c6\u5468\u671f",type:"number",min:0},{key:"poller_interval",label:"\u91c7\u96c6\u95f4\u9694",type:"number",min:0},{key:"protocol_name",label:"\u901a\u8baf\u534f\u8bae",type:"select",options:[{label:"Modbus RTU",value:"modbus-rtu"},{label:"Modbus TCP",value:"modbus-tcp"}]},{key:"retry_timeout",label:"\u91cd\u8fde\u8d85\u65f6",type:"number",min:0},{key:"retry_maximum",label:"\u91cd\u8fde\u6700\u5927\u6b21\u6570",type:"number",min:0},{key:"baud_rate",label:"\u6ce2\u7279\u7387",type:"number"},{key:"parity_mode",label:"\u5947\u5076\u6821\u9a8c",type:"select",options:[{label:"\u65e0\u6821\u9a8c NONE",value:0},{label:"\u5947\u6821\u9a8c ODD",value:1},{label:"\u5076\u6821\u9a8c EVEN",value:2},{label:"1\u6821\u9a8c MARK",value:3},{label:"0\u6821\u9a8c SPACE",value:4}]},{key:"stop_bits",label:"\u505c\u6b62\u4f4d",type:"select",options:[{label:"1",value:1},{label:"1.5",value:1.5,disabled:!0},{label:"2",value:2}]},{key:"data_bits",label:"\u5b57\u957f",type:"select",options:[{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8}]},{key:"description",label:"\u8bf4\u660e",type:"textarea"}],this.values={}}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load()),this.loadPorts()}load(){this.rs.get("serial/"+this.id).subscribe(e=>{this.values=e.data})}loadPorts(){this.rs.get("serial/ports").subscribe(e=>{this.fields[2].options=e.data.map(i=>({value:i,label:i}))})}onSubmit(){this.form.Validate()?this.rs.post(`serial/${this.id||"create"}`,this.form.Value()).subscribe(i=>{this.router.navigateByUrl("/admin/serial/"+i.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-serial-edit"]],viewQuery:function(i,s){if(1&i&&t.Gf(Xs,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:5,vars:4,consts:[[3,"nzTitle","nzExtra"],[3,"fields","value"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.qZA(),t.YNc(3,Ks,2,0,"ng-template",null,3,t.W1O)),2&i){const r=t.MAs(4);t.Q6J("nzTitle","\u4e32\u53e3"+(s.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values)}},dependencies:[h.ez,C.ix,y.bd,E.m]})}return n})();function Ws(n,o){}function to(n,o){1&n&&(t.TgZ(0,"button",9),t._uU(1,"\u7f16\u8f91"),t.qZA())}function eo(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("nzOnConfirm",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.delete())}),t._uU(1,"\u5220\u9664"),t.qZA()}}function io(n,o){1&n&&(t.TgZ(0,"nz-space"),t.YNc(1,to,2,0,"button",7)(2,eo,2,0,"button",8),t.qZA())}let no=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.data={},this.fields=[{key:"id",label:"ID"},{key:"name",label:"\u540d\u79f0"},{key:"net",label:"\u7f51\u7edc"},{key:"addr",label:"\u5730\u5740"},{key:"port",label:"\u7aef\u53e3"},{key:"disabled",label:"\u7981\u7528"},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",type:"date"},{key:"poller_period",label:"\u91c7\u96c6\u5468\u671f"},{key:"poller_interval",label:"\u91c7\u96c6\u95f4\u9694"},{key:"protocol_name",label:"\u901a\u8baf\u534f\u8bae"},{key:"retry_timeout",label:"\u91cd\u8fde\u8d85\u65f6"},{key:"retry_maximum",label:"\u91cd\u8fde\u6700\u5927\u6b21\u6570"},{key:"baud_rate",label:"\u6ce2\u7279\u7387"},{key:"parity_mode",label:"\u5947\u5076\u6821\u9a8c",type:"select",options:["\u65e0\u6821\u9a8c NONE","\u5947\u6821\u9a8c ODD","\u5076\u6821\u9a8c EVEN","1\u6821\u9a8c MARK","0\u6821\u9a8c SPACE"]},{key:"stop_bits",label:"\u505c\u6b62\u4f4d"},{key:"data_bits",label:"\u5b57\u957f"},{key:"description",label:"\u8bf4\u660e",span:2}]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.load()}load(){this.rs.get(`serial/${this.id}`).subscribe(e=>{this.data=e.data})}delete(){this.rs.get(`client/${this.id}/delete`,{}).subscribe(e=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl("/admin/client")})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-serial-detail"]],standalone:!0,features:[t.jDz],decls:9,vars:4,consts:[["nzTitle","\u4e32\u53e3\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzTitle","\u8bbe\u5907"],[3,"tunnel_id"],["nzTitle","\u65e5\u5fd7"],["nz-tab",""],["extra",""],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-info",1),t.TgZ(2,"nz-tabset")(3,"nz-tab",2),t._UZ(4,"app-devices",3),t.qZA(),t.TgZ(5,"nz-tab",4),t.YNc(6,Ws,0,0,"ng-template",5),t.qZA()()(),t.YNc(7,io,3,0,"ng-template",null,6,t.W1O)),2&i){const r=t.MAs(8);t.Q6J("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.data),t.xp6(3),t.Q6J("tunnel_id",s.id)}},dependencies:[h.ez,D.xH,D.xw,D.cj,y.bd,j.E,S.NU,S.$1,C.ix,g.rH,F.JW,X.Z]})}return n})(),so=(()=>{class n{constructor(e){this.rs=e,this.datum=[],this.total=0,this.loading=!1,this.buttons=[{icon:"plus",label:"\u521b\u5efa",link:()=>"/admin/client/create"}],this.columns=[{key:"id",label:"ID",sortable:!0,keyword:!0,link:i=>`/admin/client/${i.id}`},{key:"name",label:"\u540d\u79f0",sortable:!0,keyword:!0},{key:"net",label:"\u7f51\u7edc",sortable:!0,keyword:!0},{key:"addr",label:"\u5730\u5740",sortable:!0,keyword:!0},{key:"port",label:"\u7aef\u53e3",sortable:!0,keyword:!0},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",sortable:!0,date:!0}],this.operators=[{icon:"edit",title:"\u7f16\u8f91",link:i=>`/admin/client/${i.id}/edit`},{icon:"delete",title:"\u5220\u9664",confirm:"\u786e\u8ba4\u5220\u9664\uff1f",action:i=>{this.rs.get(`client/${i.id}/delete`).subscribe(s=>this.refresh())}}]}refresh(){this.search(this.query)}search(e){this.query=e,this.loading=!0,this.rs.post("client/search",e).subscribe(i=>{this.datum=i.data,this.total=i.total}).add(()=>this.loading=!1)}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(f.s))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-client"]],standalone:!0,features:[t.jDz],decls:1,vars:6,consts:[[3,"buttons","columns","operators","datum","total","loading","query"]],template:function(i,s){1&i&&(t.TgZ(0,"im-smart-table",0),t.NdJ("query",function(a){return s.search(a)}),t.qZA()),2&i&&t.Q6J("buttons",s.buttons)("columns",s.columns)("operators",s.operators)("datum",s.datum)("total",s.total)("loading",s.loading)},dependencies:[ct.L]})}return n})();const oo=["form"];function ro(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t._uU(1,"\u4fdd\u5b58"),t.qZA()}}let we=(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.fields=[{key:"id",label:"ID",type:"text",min:2,max:30,placeholder:"\u9009\u586b"},{key:"name",label:"\u540d\u79f0",type:"text",required:!0,default:"\u65b0\u5ba2\u6237\u7aef"},{key:"net",label:"\u7f51\u7edc",type:"select",default:"tcp",options:[{label:"TCP",value:"tcp"},{label:"UDP",value:"udp"}]},{key:"addr",label:"\u5730\u5740",type:"text"},{key:"port",label:"\u7aef\u53e3",type:"number",min:1,max:65535},{key:"poller_period",label:"\u91c7\u96c6\u5468\u671f",type:"number",min:0},{key:"poller_interval",label:"\u91c7\u96c6\u95f4\u9694",type:"number",min:0},{key:"protocol_name",label:"\u901a\u8baf\u534f\u8bae",type:"select",options:[{label:"Modbus RTU",value:"modbus-rtu"},{label:"Modbus TCP",value:"modbus-tcp"}]},{key:"retry_timeout",label:"\u91cd\u8fde\u8d85\u65f6",type:"number",min:0},{key:"retry_maximum",label:"\u91cd\u8fde\u6700\u5927\u6b21\u6570",type:"number",min:0},{key:"description",label:"\u8bf4\u660e",type:"textarea"}],this.values={}}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.load())}load(){this.rs.get("client/"+this.id).subscribe(e=>{this.values=e.data})}onSubmit(){this.form.Validate()?this.rs.post(`client/${this.id||"create"}`,this.form.Value()).subscribe(i=>{this.router.navigateByUrl("/admin/client/"+i.data.id),this.msg.success("\u4fdd\u5b58\u6210\u529f")}):this.msg.error("\u8bf7\u68c0\u67e5\u6570\u636e")}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-client-edit"]],viewQuery:function(i,s){if(1&i&&t.Gf(oo,5),2&i){let r;t.iGM(r=t.CRH())&&(s.form=r.first)}},standalone:!0,features:[t.jDz],decls:5,vars:4,consts:[[3,"nzTitle","nzExtra"],[3,"fields","value"],["form",""],["extraTemplate",""],["nz-button","","nzType","primary",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-form",1,2),t.qZA(),t.YNc(3,ro,2,0,"ng-template",null,3,t.W1O)),2&i){const r=t.MAs(4);t.Q6J("nzTitle","\u5ba2\u6237\u7aef"+(s.id?"\u7f16\u8f91":"\u521b\u5efa"))("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.values)}},dependencies:[h.ez,C.ix,y.bd,E.m]})}return n})();function ao(n,o){}function lo(n,o){1&n&&(t.TgZ(0,"button",9),t._uU(1,"\u7f16\u8f91"),t.qZA())}function co(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("nzOnConfirm",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.delete())}),t._uU(1,"\u5220\u9664"),t.qZA()}}function po(n,o){1&n&&(t.TgZ(0,"nz-space"),t.YNc(1,lo,2,0,"button",7)(2,co,2,0,"button",8),t.qZA())}const uo=[{path:"",pathMatch:"full",redirectTo:"dash"},{path:"dash",component:Fe,title:"\u63a7\u5236\u53f0"},{path:"product",component:Re.P,title:"\u4ea7\u54c1\u5217\u8868"},{path:"product/create",component:wt,title:"\u521b\u5efa\u4ea7\u54c1"},{path:"product/:id",component:Ue.c,title:"\u4ea7\u54c1\u8be6\u60c5"},{path:"product/:id/edit",component:wt,title:"\u7f16\u8f91\u4ea7\u54c1"},{path:"product/:id/version",component:as.P,title:"\u4ea7\u54c1\u7248\u672c"},{path:"product/:id/version/:version",component:ls.v,title:"\u4ea7\u54c1\u7248\u672c\u8be6\u60c5"},{path:"product/:id/version/:version/edit",component:Fs,title:"\u4ea7\u54c1\u7248\u672c\u7f16\u8f91"},{path:"device",component:X.Z,title:"\u8bbe\u5907\u5217\u8868"},{path:"device/create",component:kt.C,title:"\u521b\u5efa\u8bbe\u5907"},{path:"device/:id",component:Je.q,title:"\u8bbe\u5907\u8be6\u60c5"},{path:"device/:id/edit",component:kt.C,title:"\u7f16\u8f91\u8bbe\u5907"},{path:"gateway",component:Ye.X,title:"\u7f51\u5173\u5217\u8868"},{path:"gateway/create",component:Et.b,title:"\u521b\u5efa\u7f51\u5173"},{path:"gateway/:id",component:Be.C,title:"\u7f51\u5173\u8be6\u60c5"},{path:"gateway/:id/edit",component:Et.b,title:"\u7f16\u8f91\u7f51\u5173"},{path:"project",component:Qe.v,title:"\u9879\u76ee\u5217\u8868"},{path:"project/create",component:Pt.Y,title:"\u521b\u5efa\u9879\u76ee"},{path:"project/:id",component:qe._,title:"\u9879\u76ee\u8be6\u60c5"},{path:"project/:id/edit",component:Pt.Y,title:"\u7f16\u8f91\u9879\u76ee"},{path:"project/:id/user",component:os.p,title:"\u7ed1\u5b9a\u7528\u6237"},{path:"space",component:Ge.v,title:"\u7a7a\u95f4\u5217\u8868"},{path:"space/create",component:At.e,title:"\u521b\u5efa\u7a7a\u95f4"},{path:"space/:id",component:$e.o,title:"\u7a7a\u95f4\u8be6\u60c5"},{path:"space/:id/edit",component:At.e,title:"\u7a7a\u95f4\u7f16\u8f91"},{path:"space/:id/device",component:rs.y,title:"\u7ed1\u5b9a\u8bbe\u5907"},{path:"plugin",component:ii,title:"\u63d2\u4ef6\u5217\u8868"},{path:"plugin/create",component:Ht,title:"\u521b\u5efa\u63d2\u4ef6"},{path:"plugin/:id",component:Ti,title:"\u63d2\u4ef6\u8be6\u60c5"},{path:"plugin/:id/edit",component:Ht,title:"\u7f16\u8f91\u63d2\u4ef6"},{path:"server",component:Rs},{path:"server/create",component:Te},{path:"server/:id",component:Js},{path:"server/:id/edit",component:Te},{path:"link",component:De},{path:"link/create",component:xe},{path:"link/:id",component:Vs},{path:"link/:id/edit",component:xe},{path:"serial",component:js},{path:"serial/create",component:Se},{path:"serial/:id",component:no},{path:"serial/:id/edit",component:Se},{path:"client",component:so},{path:"client/create",component:we},{path:"client/:id",component:(()=>{class n{constructor(e,i,s,r){this.router=e,this.msg=i,this.rs=s,this.route=r,this.id="",this.data={},this.fields=[{key:"id",label:"ID"},{key:"name",label:"\u540d\u79f0"},{key:"net",label:"\u7f51\u7edc"},{key:"addr",label:"\u5730\u5740"},{key:"port",label:"\u7aef\u53e3"},{key:"disabled",label:"\u7981\u7528"},{key:"created",label:"\u521b\u5efa\u65f6\u95f4",type:"date"},{key:"poller_period",label:"\u91c7\u96c6\u5468\u671f"},{key:"poller_interval",label:"\u91c7\u96c6\u95f4\u9694"},{key:"protocol_name",label:"\u901a\u8baf\u534f\u8bae"},{key:"retry_timeout",label:"\u91cd\u8fde\u8d85\u65f6"},{key:"retry_maximum",label:"\u91cd\u8fde\u6700\u5927\u6b21\u6570"},{key:"description",label:"\u8bf4\u660e",span:2}]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.load()}load(){this.rs.get(`client/${this.id}`).subscribe(e=>{this.data=e.data})}delete(){this.rs.get(`client/${this.id}/delete`,{}).subscribe(e=>{this.msg.success("\u5220\u9664\u6210\u529f"),this.router.navigateByUrl("/admin/client")})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.F0),t.Y36(v.dD),t.Y36(f.s),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-client-detail"]],standalone:!0,features:[t.jDz],decls:9,vars:4,consts:[["nzTitle","\u5ba2\u6237\u7aef\u8be6\u60c5",3,"nzExtra"],[3,"fields","value"],["nzTitle","\u8bbe\u5907"],[3,"tunnel_id"],["nzTitle","\u65e5\u5fd7"],["nz-tab",""],["extra",""],["nz-button","","routerLink","edit",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","routerLink","edit"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u8ba4\u5220\u9664",3,"nzOnConfirm"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-card",0),t._UZ(1,"im-smart-info",1),t.TgZ(2,"nz-tabset")(3,"nz-tab",2),t._UZ(4,"app-devices",3),t.qZA(),t.TgZ(5,"nz-tab",4),t.YNc(6,ao,0,0,"ng-template",5),t.qZA()()(),t.YNc(7,po,3,0,"ng-template",null,6,t.W1O)),2&i){const r=t.MAs(8);t.Q6J("nzExtra",r),t.xp6(1),t.Q6J("fields",s.fields)("value",s.data),t.xp6(3),t.Q6J("tunnel_id",s.id)}},dependencies:[h.ez,D.xH,D.xw,D.cj,y.bd,j.E,S.NU,S.$1,C.ix,g.rH,F.JW,X.Z]})}return n})()},{path:"client/:id/edit",component:we},{path:"user",component:Di.b,title:"\u7528\u6237\u5217\u8868"},{path:"user/create",component:Ut,title:"\u521b\u5efa\u7528\u6237"},{path:"user/:id",component:wi,title:"\u7528\u6237\u8be6\u60c5"},{path:"user/:id/edit",component:Ut,title:"\u7f16\u8f91\u7528\u6237"},{path:"setting/web",component:Pi,title:"\u8bbe\u7f6eWeb"},{path:"setting/database",component:Fi,title:"\u8bbe\u7f6e\u6570\u636e\u5e93"},{path:"setting/broker",component:Oi,title:"\u8bbe\u7f6e\u6570\u636e\u603b\u7ebf"},{path:"setting/mqtt",component:Hi,title:"\u8bbe\u7f6eMQTT\u8fde\u63a5"},{path:"setting/log",component:Yi,title:"\u8bbe\u7f6e\u65e5\u5fd7"},{path:"setting/backup",component:Bi,title:"\u7cfb\u7edf\u5907\u4efd"},{path:"setting/attach",component:ss,title:"\u9644\u4ef6\u7ba1\u7406"},{path:"web",component:St.c,title:"-"},{path:"alarm",component:Pe.f,title:"\u544a\u8b66\u65e5\u5fd7"},{path:"**",component:Ae.h}];let mo=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(uo),g.Bz]})}return n})(),go=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[h.ez,mo,K.Qp]})}return n})()}}]);